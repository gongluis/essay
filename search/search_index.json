{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5b89\u5353\u7b51\u57fa-\u7ebf\u7a0b \u5b89\u5353\u7b51\u57fa-\u7ebf\u7a0b\u6c60 \u5b89\u5353\u7b51\u57fa-\u96c6\u5408 \u5b89\u5353\u7b51\u57fa-\u7ebf\u7a0b \u201d\u4e5d\u5c42\u4e4b\u53f0\uff0c\u8d77\u4e8e\u5792\u571f\u3002\u201c\uff0c\u7ebf\u7a0b\u4f5c\u4e3a\u6700\u5c0f\u7684\u5de5\u4f5c\u5355\u5143\uff0c\u548c\u5f00\u53d1\u4e2d\u6700\u5e38\u7528\u7684\u5de5\u5177\uff0c\u81ea\u7136\u8981\u719f\u77e5\u5176\u4e00\u4e9b\u5e38\u89c4\u77e5\u8bc6\u70b9\u3002 \u5b89\u5353\u7b51\u57fa-\u7ebf\u7a0b\u6c60 \u201c\u5355\u4e1d\u4e0d\u6210\u7ebf\uff0c\u72ec\u6728\u4e0d\u6210\u6797\u201d\uff0c\u4f5c\u4e3a\u7ebf\u7a0b\u4eec\u7684\u7ba1\u7406\u8005\uff0c\u5728\u8d44\u6e90\u7684\u91cd\u590d\u5229\u7528\u548c\u63d0\u5347\u8fd0\u884c\u6548\u7387\u65b9\u4fbf\u8d21\u732e\u7a81\u51fa\u3002 \u5b89\u5353\u7b51\u57fa-\u96c6\u5408 \u201c\u6d77\u7eb3\u767e\u5ddd\uff0c\u6709\u5bb9\u4e43\u5927\uff0c\u895f\u4e09\u6c5f\u800c\u5e26\u4e94\u6e56\u201d\uff0c\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff0c\u4e07\u7269\u7686\u5bf9\u8c61\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5bf9\u591a\u4e2a\u5bf9\u8c61\u7684\u64cd\u4f5c\uff0c\u5c31\u9700\u8981\u5bf9\u4ed6\u4eec\u8fdb\u884c\u5b58\u50a8\uff0c\u96c6\u5408\u5c31\u662f\u6700\u5e38\u7528\u7684\u65b9\u5f0f\u3002","title":"\u4ecb\u7ecd"},{"location":"#-","text":"\u201d\u4e5d\u5c42\u4e4b\u53f0\uff0c\u8d77\u4e8e\u5792\u571f\u3002\u201c\uff0c\u7ebf\u7a0b\u4f5c\u4e3a\u6700\u5c0f\u7684\u5de5\u4f5c\u5355\u5143\uff0c\u548c\u5f00\u53d1\u4e2d\u6700\u5e38\u7528\u7684\u5de5\u5177\uff0c\u81ea\u7136\u8981\u719f\u77e5\u5176\u4e00\u4e9b\u5e38\u89c4\u77e5\u8bc6\u70b9\u3002","title":"\u5b89\u5353\u7b51\u57fa-\u7ebf\u7a0b"},{"location":"#-_1","text":"\u201c\u5355\u4e1d\u4e0d\u6210\u7ebf\uff0c\u72ec\u6728\u4e0d\u6210\u6797\u201d\uff0c\u4f5c\u4e3a\u7ebf\u7a0b\u4eec\u7684\u7ba1\u7406\u8005\uff0c\u5728\u8d44\u6e90\u7684\u91cd\u590d\u5229\u7528\u548c\u63d0\u5347\u8fd0\u884c\u6548\u7387\u65b9\u4fbf\u8d21\u732e\u7a81\u51fa\u3002","title":"\u5b89\u5353\u7b51\u57fa-\u7ebf\u7a0b\u6c60"},{"location":"#-_2","text":"\u201c\u6d77\u7eb3\u767e\u5ddd\uff0c\u6709\u5bb9\u4e43\u5927\uff0c\u895f\u4e09\u6c5f\u800c\u5e26\u4e94\u6e56\u201d\uff0c\u9762\u5411\u5bf9\u8c61\u8bed\u8a00\uff0c\u4e07\u7269\u7686\u5bf9\u8c61\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5bf9\u591a\u4e2a\u5bf9\u8c61\u7684\u64cd\u4f5c\uff0c\u5c31\u9700\u8981\u5bf9\u4ed6\u4eec\u8fdb\u884c\u5b58\u50a8\uff0c\u96c6\u5408\u5c31\u662f\u6700\u5e38\u7528\u7684\u65b9\u5f0f\u3002","title":"\u5b89\u5353\u7b51\u57fa-\u96c6\u5408"},{"location":"Adaptation/","text":"Android\u5c4f\u5e55\u9002\u914d \u57fa\u7840 \u5355\u4f4d 1. px(Pixel\u50cf\u7d20) \u6784\u6210\u56fe\u50cf\u7684\u57fa\u672c\u5355\u5143 2. resolution(\u5206\u8fa8\u7387) \u5c4f\u5e55\u6c34\u5e73\u65b9\u5411\u548c\u5782\u76f4\u65b9\u5411\u7684\u50cf\u7d20\u6570\u91cf1920*1080 3. Dpi(dot per inch,\u6bcf\u82f1\u5bf8\u50cf\u7d20\u6570) dpi = density*160 4. Density \u5c4f\u5e55\u5bc6\u5ea6\uff0c\u4f46\u662f\u522b\u88ab\u56db\u4e2a\u5b57\u8bef\u5bfc\u4e86\uff0c\u503c\u8ddf\u5c4f\u5e55\u7269\u7406\u5927\u5c0f\u4e00\u70b9\u5173\u7cfb\u6ca1\u6709 1080*1920\uff1adensity\u4e3a3.0 1080*2160\uff1adensity\u4e3a2.75 720*1280\uff1adensity\u4e3a2.0 Dip/dp(\u8bbe\u5907\u72ec\u7acb\u50cf\u7d20) \u6362\u7b97 dp\u7684\u5b9a\u4e49\uff0c1dp\u7ea6\u7b49\u4e8e\u4e2d\u7b49\u5bc6\u5ea6\u5c4f\u5e55\uff08160dpi\uff0c\u57fa\u51c6\u5bc6\u5ea6\uff09\u4e0a\u76841\u50cf\u7d20\u3002 px = density*dp density = dpi/160 px = dp*(dpi/160) px = dp*density px\u548cdensity\u662f\u5c4f\u5e55\u81ea\u5e26\u7684\u4e1c\u897f\uff0cdpi\u548cdp\u662f\u901a\u8fc7\u8ba1\u7b97\u5f97\u6765\u7684\u4e1c\u897f \u5c4f\u5e55\u5c3a\u5bf8 1\u82f1\u5bf8\uff08inch\uff09=2.54\u5398\u7c73\uff08cm\uff09 \u4e00\u6b3e\u624b\u673a\u5199\u7684\u5c4f\u5e55\u662f5.2\u82f1\u5bf8\uff0c\u8868\u793a\u5c4f\u5e55\u5bf9\u89d2\u7ebf\u957f\u5ea65.2\u82f1\u5bf8 \u5206\u8fa8\u7387 1920px x 1080px\u610f\u601d\u5c31\u662f\u7ad6\u5411\u67091920\u4e2a\u50cf\u7d20\u5757\uff0c\u6a2a\u5411\u67091080\u4e2a\u50cf\u7d20\u5757 \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08PPI\uff09 \u6bcf\u82f1\u5bf8\u5c4f\u5e55\u6240\u62e5\u6709\u7684\u50cf\u7d20\u6570\uff0c\u6bcf\u82f1\u5bf8\u4e5f\u662f\u6307\u7684\u5bf9\u89d2\u7ebf 1920*1080\u6700\u540e\u8ba1\u7b97\u51fa\u6765\u7684\u662f423.63599\u8fd1\u4f3c\u7b49\u4e8e424 \u50cf\u7d20\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\u5417\uff1f \u501f\u7528\u7f51\u4e0a\u4e00\u4e2a\u4f8b\u5b50\uff1a \u4e0a\u9762\u7684\u662fiphone6\u7684\u53c2\u6570\uff0c\u4e0b\u9762\u662f\u8363\u80007\u7684\u53c2\u6570\uff0c\u4e24\u8005\u7684\u5206\u8fa8\u7387\u90fd\u662f1920*1080\u4f46\u662f\uff0c\u82f9\u679c\u624b\u673a\u7684\u5c4f\u5e55\u5c3a\u5bf8\u6bd4\u534e\u4e3a7\u7684\u8981\u5c0f0.2\u82f1\u5bf8\uff0c\u82f9\u679c6\u624b\u673a\u7684ppi\u5374\u6bd4\u534e\u4e3a6\u7684\u9ad845\uff0c\u8bf4\u660e\u6bcf\u82f1\u5bf8\u7684\u5c4f\u5e55\u82f9\u679c6\u7528469ppi\u663e\u793a\uff0c\u534e\u4e3a7\u53ea\u7528\u4e86424\u4e2a\u3002\u82f1\u5bf8\u662f\u7269\u7406\u5c3a\u5bf8\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u63a8\u65ad\u51fa\u50cf\u7d20\u7684\u5c3a\u5bf8\u5927\u5c0f\u4e0d\u662f\u56fa\u5b9a\u7684\u3002 \u7ed3\u8bba PPI\u8d8a\u9ad8\u7684\u624b\u673a\u663e\u793a\u6548\u679c\u5c31\u8d8a\u7cbe\u7ec6","title":"Adaptation"},{"location":"Adaptation/#android","text":"","title":"Android\u5c4f\u5e55\u9002\u914d"},{"location":"Adaptation/#_1","text":"","title":"\u57fa\u7840"},{"location":"Adaptation/#_2","text":"1. px(Pixel\u50cf\u7d20) \u6784\u6210\u56fe\u50cf\u7684\u57fa\u672c\u5355\u5143 2. resolution(\u5206\u8fa8\u7387) \u5c4f\u5e55\u6c34\u5e73\u65b9\u5411\u548c\u5782\u76f4\u65b9\u5411\u7684\u50cf\u7d20\u6570\u91cf1920*1080 3. Dpi(dot per inch,\u6bcf\u82f1\u5bf8\u50cf\u7d20\u6570) dpi = density*160 4. Density \u5c4f\u5e55\u5bc6\u5ea6\uff0c\u4f46\u662f\u522b\u88ab\u56db\u4e2a\u5b57\u8bef\u5bfc\u4e86\uff0c\u503c\u8ddf\u5c4f\u5e55\u7269\u7406\u5927\u5c0f\u4e00\u70b9\u5173\u7cfb\u6ca1\u6709 1080*1920\uff1adensity\u4e3a3.0 1080*2160\uff1adensity\u4e3a2.75 720*1280\uff1adensity\u4e3a2.0 Dip/dp(\u8bbe\u5907\u72ec\u7acb\u50cf\u7d20)","title":"\u5355\u4f4d"},{"location":"Adaptation/#_3","text":"dp\u7684\u5b9a\u4e49\uff0c1dp\u7ea6\u7b49\u4e8e\u4e2d\u7b49\u5bc6\u5ea6\u5c4f\u5e55\uff08160dpi\uff0c\u57fa\u51c6\u5bc6\u5ea6\uff09\u4e0a\u76841\u50cf\u7d20\u3002 px = density*dp density = dpi/160 px = dp*(dpi/160) px = dp*density px\u548cdensity\u662f\u5c4f\u5e55\u81ea\u5e26\u7684\u4e1c\u897f\uff0cdpi\u548cdp\u662f\u901a\u8fc7\u8ba1\u7b97\u5f97\u6765\u7684\u4e1c\u897f","title":"\u6362\u7b97"},{"location":"Adaptation/#_4","text":"1\u82f1\u5bf8\uff08inch\uff09=2.54\u5398\u7c73\uff08cm\uff09 \u4e00\u6b3e\u624b\u673a\u5199\u7684\u5c4f\u5e55\u662f5.2\u82f1\u5bf8\uff0c\u8868\u793a\u5c4f\u5e55\u5bf9\u89d2\u7ebf\u957f\u5ea65.2\u82f1\u5bf8","title":"\u5c4f\u5e55\u5c3a\u5bf8"},{"location":"Adaptation/#_5","text":"1920px x 1080px\u610f\u601d\u5c31\u662f\u7ad6\u5411\u67091920\u4e2a\u50cf\u7d20\u5757\uff0c\u6a2a\u5411\u67091080\u4e2a\u50cf\u7d20\u5757","title":"\u5206\u8fa8\u7387"},{"location":"Adaptation/#ppi","text":"\u6bcf\u82f1\u5bf8\u5c4f\u5e55\u6240\u62e5\u6709\u7684\u50cf\u7d20\u6570\uff0c\u6bcf\u82f1\u5bf8\u4e5f\u662f\u6307\u7684\u5bf9\u89d2\u7ebf 1920*1080\u6700\u540e\u8ba1\u7b97\u51fa\u6765\u7684\u662f423.63599\u8fd1\u4f3c\u7b49\u4e8e424","title":"\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08PPI\uff09"},{"location":"Adaptation/#_6","text":"\u501f\u7528\u7f51\u4e0a\u4e00\u4e2a\u4f8b\u5b50\uff1a \u4e0a\u9762\u7684\u662fiphone6\u7684\u53c2\u6570\uff0c\u4e0b\u9762\u662f\u8363\u80007\u7684\u53c2\u6570\uff0c\u4e24\u8005\u7684\u5206\u8fa8\u7387\u90fd\u662f1920*1080\u4f46\u662f\uff0c\u82f9\u679c\u624b\u673a\u7684\u5c4f\u5e55\u5c3a\u5bf8\u6bd4\u534e\u4e3a7\u7684\u8981\u5c0f0.2\u82f1\u5bf8\uff0c\u82f9\u679c6\u624b\u673a\u7684ppi\u5374\u6bd4\u534e\u4e3a6\u7684\u9ad845\uff0c\u8bf4\u660e\u6bcf\u82f1\u5bf8\u7684\u5c4f\u5e55\u82f9\u679c6\u7528469ppi\u663e\u793a\uff0c\u534e\u4e3a7\u53ea\u7528\u4e86424\u4e2a\u3002\u82f1\u5bf8\u662f\u7269\u7406\u5c3a\u5bf8\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\uff0c\u6240\u4ee5\u53ef\u4ee5\u63a8\u65ad\u51fa\u50cf\u7d20\u7684\u5c3a\u5bf8\u5927\u5c0f\u4e0d\u662f\u56fa\u5b9a\u7684\u3002","title":"\u50cf\u7d20\u7684\u5927\u5c0f\u662f\u56fa\u5b9a\u7684\u5417\uff1f"},{"location":"Adaptation/#_7","text":"PPI\u8d8a\u9ad8\u7684\u624b\u673a\u663e\u793a\u6548\u679c\u5c31\u8d8a\u7cbe\u7ec6","title":"\u7ed3\u8bba"},{"location":"AnalysisMp4File/","text":"mp4\u6587\u4ef6\u5185\u5bb9\u89e3\u6790 \u4e00\u3001mp4\u6587\u4ef6\u683c\u5f0f mp4\u6587\u4ef6\u662f\u7531\u5f88\u591abox\u7ec4\u6210\uff0c\u6bcf\u4e2abox\u5305\u542bheader\u548cdata,\u5176\u4e2ddata\u53ef\u4ee5\u662f\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u662f\u522b\u7684box\u3002\u5176\u4e2d\u4e3b\u8981\u7684box\u6709:ftypbox moovbox mdatbox\u7b49\u3002 ---ftype \u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff0c\u5728\u6587\u4ef6\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u63cf\u8ff0\u7684\u6587\u4ef6\u7684\u7248\u672c\u3001\u517c\u5bb9\u534f\u8bae\u7b49 ---moov \u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff0c\u8fd9\u4e2abox\u4e2d\u4e0d\u5305\u542b\u5177\u4f53\u5a92\u4f53\u6570\u636e\uff0c\u4f46\u5305\u542b\u672c\u6587\u4ef6\u4e2d\u6240\u6709\u5a92\u4f53\u6570\u636e\u7684\u5b8f\u89c2\u63cf\u8ff0\u4fe1\u606f\uff0cmoov box\u4e0b\u6709mvhd\u548ctrak box\u3002 -------mvhd \u8bb0\u5f55\u4e86\u521b\u5efa\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u3001\u65f6\u95f4\u5ea6\u91cf\u6807\u5c3a\u3001\u53ef\u64ad\u653e\u65f6\u957f\u7b49\u4fe1\u606f\u3002 -------trak video track\u5305\u542b\u4e86mp4\u4e2d\u5404\u79cd\u4fe1\u606f\u8868\uff0c\u5982: stts/ctts/stss/\u7b49 -------trak audio track \u97f3\u9891\u8f68\u9053 ---free ---mdat \u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709\uff0c\u5b9e\u9645\u5a92\u4f53\u6570\u636e\u3002\u6211\u4eec\u6700\u7ec8\u89e3\u7801\u64ad\u653e\u7684\u6570\u636e\u90fd\u5728\u8fd9\u91cc\u9762\u3002 \u4e8c\u3001stts/ctts/stsc/stsz\u7b49\u4fe1\u606f\u8868\u7684\u89e3\u6790 s t t s :Time To Sample Atoms \u5b58\u50a8\u4e86\u5a92\u4f53sample\u7684\u65f6\u957f\u4fe1\u606f\uff0c\u63d0\u4f9b\u4e86\u65f6\u95f4\u548c\u76f8\u5173sample\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u8be5atom\u5305\u542b\u4e86\u4e00\u4e2a\u8868\uff0c\u5173\u4e8etime\u548csample\u53f7\u4e4b\u95f4\u7684\u7d22\u5f15\u5173\u7cfb\u3002\u8868\u7684\u6bcf\u4e2aentry\u7ed9\u51fa\u4e86\u5177\u6709\u76f8\u540c\u65f6\u95f4\u95f4\u9694\u7684\u8fde\u7eed\u7684sample\u7684\u4e2a\u6570\u548c\u8fd9\u4e9bsample\u7684\u65f6\u95f4\u95f4\u9694\u503c\u3002\u5c06\u8fd9\u4e9b\u65f6\u95f4\u95f4\u9694\u76f8\u52a0\u5728\u4e00\u8d77\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5b8c\u6574\u7684time\u4e0esample\u4e4b\u95f4\u7684\u6620\u5c04\u3002\u5c06\u6240\u6709\u7684\u65f6\u95f4\u95f4\u9694\u76f8\u52a0\u5728\u4e00\u8d77\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5track\u7684\u65f6\u95f4\u603b\u957f\u3002 SampleCount SampleDuration 4 3 2 1 3 2 \u5982\u4e0a\u8868\u8868\u793a\uff0c\u6709\uff14\u4e2asample\u7684duration\u4e3a3\uff0c2\u4e2asample\u7684duration\u4e3a1, 3\u4e2asample\u7684duration\u4e3a2\u2026\u2026\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684duration\u5e76\u4e0d\u662f\u771f\u5b9e\u65f6\u95f4\uff0c\u662f\u7531\u65f6\u95f4\u6233\u548ctimescale\u8ba1\u7b97\u5f97\u5230\u7684\u503c\u3002 stsc:Sample-To-Chunk Atoms \u4e3a\u4e86\u4f18\u5316\u6570\u636e\u8bbf\u95ee\uff0c\u901a\u5e38\u628asample\u5c01\u88c5\u5230chunk\u4e2d\uff0c\u4e00\u4e2achunk\u53ef\u80fd\u4f1a\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2asample\u3002\u6bcf\u4e2achunk\u4f1a\u6709\u4e0d\u540c\u7684size\uff0c\u6bcf\u4e2achunk\u4e2d\u7684sample\u4e5f\u4f1a\u6709\u4e0d\u540c\u7684size\u3002stsc table\u63d0\u4f9b\u4e86\u4ecesample\u5230chunk\u7684\u4e00\u4e2a\u6620\u5c04\uff0c \u6bcf\u4e2atable entry\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2achunk\u3002Table entry\u5305\u542b\u7684\u5185\u5bb9\u5305\u62ec\u7b2c\u4e00\u4e2achunk\u53f7(\u4ece\u8fd9\u4e2a\u4f4d\u7f6e\u5f00\u59cb)\u3001\u6bcf\u4e2achunk\u5305\u542b\u7684sample\u7684\u4e2a\u6570\u4ee5\u53casample\u7684\u63cf\u8ff0ID: First Chunk Samples per chunk Sample descriptionID 1 3 23 3 1 23 5 1 24 \u5982\u4e0a\u8868\u8868\u793a\uff0c\u7b2c1\u30012\u4e2achunk\u5305\u542b\u7684sample\u4e2a\u6570\u90fd\u662f3\u4e2a\uff0csample\u7684ID\u90fd\u662f23\uff0c\u7b2c3\u30014\u4e2achunk\u5305\u542b\u7684sample\u4e2a\u6570\u90fd\u662f1\u4e2a\uff0csample\u7684ID\u90fd\u662f23\uff0c\u7b2c5\u4e2a\u5230\u6700\u540e\u4e00\u4e2achunk\u5305\u542b\u7684sample\u4e2a\u6570\u90fd\u662f1\u4e2a\uff0csample\u7684ID\u90fd\u662f24\uff0e stsz: Sample Size Atom \u8be5\u8868\u4e2d\u5b58\u50a8\u4e86\u6bcf\u4e2asample\u7684size Size Size Size Size Size \u5982\u4e0a\u8868\u8868\u793a\uff0c1-5\u4e2asample\u7684size\u90fd\u662f\"size\"\u3002 stco/co64: Chunk Offset Atom stco/co64\u4e2d\u5b58\u50a8\u4e86\u6bcf\u4e2achunk\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\u3002stco\u8868\u793ause32BitFileOffset\uff0cco64\u8868\u793ause64BitFileOffset Offset Offset Offset Offset Offset \u5982\u4e0a\u8868\u8868\u793a\uff0c1-5\u4e2achunk\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\"offset\"\u3002 stss: Sync Sample Atom \u6807\u8bb0\u4e86\u6bcf\u4e2a\u5173\u952e\u5e27\u7684sample\u3002\u5982\u679c\u8be5\u8868\u4e0d\u5b58\u5728\uff0c\u5c31\u8868\u793a\u5a92\u4f53\u6d41\u6bcf\u4e2asample\u90fd\u662f\u5173\u952e\u5e27\u3002 Sample1 1 Sample2 31 Sample3 61 Sample4 91 \u5982\u4e0a\u8868\u8868\u793a\u7b2c1\u4e2a\u5173\u952e\u5e27\u662f\u7b2c1\u5e27\uff0c\u7b2c2\u4e2a\u5173\u952e\u5e27\u662f\u7b2c31\u5e27\uff0c\u7b2c3\u4e2a\u5173\u952e\u5e27\u662f\u7b2c61\u5e27\uff0c\u7b2c4\u4e2a\u5173\u952e\u5e27\u662f\u7b2c91\u5e27\u2026\u2026 \u4e09\u3001\u5177\u4f53\u5e94\u7528 step1: \u5177\u4f53\u64ad\u653e\u65f6\uff0c\u6bd4\u5982\u7528\u6237\u9700\u8981seek\u5230\u67d0\u4e00\u4f4d\u7f6e\uff0c\u64ad\u653e\u5668\u9996\u5148\u53ef\u4ee5\u6839\u636e\u8fdb\u5ea6\u6761\u5f97\u5230\u7528\u6237seek\u5230\u7684\u65f6\u95f4seektime\u3002 step2: \u5229\u7528stts\u8868\uff0c\u6839\u636eseektime\u627e\u5230\u5176\u5bf9\u5e94\u7684seeksample step3: \u5229\u7528stss\u8868\uff0c\u67e5\u770bseeksample\u662f\u5426\u4e3a\u5173\u952e\u5e27\uff0c\u5982\u679c\u662f\u5219\u7ee7\u7eed\uff0c\u5982\u679c\u4e0d\u662f\u5219\u6309\u7167\u64ad\u653e\u5668\u89c4\u5b9a\u7684\u65b9\u6cd5(\u67e5\u627e\u6700\u90bb\u8fd1\u5173\u952e\u5e27\u3001\u67e5\u627e\u524d\u9762\u4e00\u4e2a\u5173\u952e\u5e27\u3001\u67e5\u627e\u540e\u9762\u4e00\u4e2a\u5173\u952e\u5e27)\u66f4\u65b0seeksample\u3002 step4: \u5229\u7528stsc\u8868\uff0c\u6839\u636e\u901a\u8fc7seeksample\u627e\u5230\u5bf9\u5e94\u7684seekchunk\u548c\u5176\u5728chunk\u4e2d\u662f\u7b2c\u51e0\u4e2asample step5: \u5229\u7528stsz\u8868\uff0c\u8ba1\u7b97seeksample\u5728\u5176\u6240\u5728chunk\u4e2d\u7684\u5730\u5740\u504f\u79fb\u91cfsampleindex step6: \u5229\u7528stco\u8868\uff0c\u67e5\u627eseekchunk\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6echunkindex step7: chunkindex + sampleindex \u5c31\u662f\u7528\u6237seek\u5230\u7684\u5e27\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\u3002 step8: \u53d6\u51fa\u6570\u636e\u53bb\u89e3\u7801\u3002 step9: \u5982\u679c\u6587\u4ef6\u5b58\u5728B\u5e27\u9700\u8981\u6839\u636ectts\u53bb\u8c03\u6574pts\uff0c\u5426\u5219pts=dts\u3002 step10: rennder","title":"mp4\u6587\u4ef6\u89e3\u6790"},{"location":"AnalysisMp4File/#mp4","text":"","title":"mp4\u6587\u4ef6\u5185\u5bb9\u89e3\u6790"},{"location":"AnalysisMp4File/#mp4_1","text":"mp4\u6587\u4ef6\u662f\u7531\u5f88\u591abox\u7ec4\u6210\uff0c\u6bcf\u4e2abox\u5305\u542bheader\u548cdata,\u5176\u4e2ddata\u53ef\u4ee5\u662f\u6570\u636e\uff0c\u4e5f\u53ef\u4ee5\u662f\u522b\u7684box\u3002\u5176\u4e2d\u4e3b\u8981\u7684box\u6709:ftypbox moovbox mdatbox\u7b49\u3002 ---ftype \u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff0c\u5728\u6587\u4ef6\u7684\u5f00\u59cb\u4f4d\u7f6e\uff0c\u63cf\u8ff0\u7684\u6587\u4ef6\u7684\u7248\u672c\u3001\u517c\u5bb9\u534f\u8bae\u7b49 ---moov \u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff0c\u8fd9\u4e2abox\u4e2d\u4e0d\u5305\u542b\u5177\u4f53\u5a92\u4f53\u6570\u636e\uff0c\u4f46\u5305\u542b\u672c\u6587\u4ef6\u4e2d\u6240\u6709\u5a92\u4f53\u6570\u636e\u7684\u5b8f\u89c2\u63cf\u8ff0\u4fe1\u606f\uff0cmoov box\u4e0b\u6709mvhd\u548ctrak box\u3002 -------mvhd \u8bb0\u5f55\u4e86\u521b\u5efa\u65f6\u95f4\u3001\u4fee\u6539\u65f6\u95f4\u3001\u65f6\u95f4\u5ea6\u91cf\u6807\u5c3a\u3001\u53ef\u64ad\u653e\u65f6\u957f\u7b49\u4fe1\u606f\u3002 -------trak video track\u5305\u542b\u4e86mp4\u4e2d\u5404\u79cd\u4fe1\u606f\u8868\uff0c\u5982: stts/ctts/stss/\u7b49 -------trak audio track \u97f3\u9891\u8f68\u9053 ---free ---mdat \u53ef\u4ee5\u6709\u591a\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709\uff0c\u5b9e\u9645\u5a92\u4f53\u6570\u636e\u3002\u6211\u4eec\u6700\u7ec8\u89e3\u7801\u64ad\u653e\u7684\u6570\u636e\u90fd\u5728\u8fd9\u91cc\u9762\u3002","title":"\u4e00\u3001mp4\u6587\u4ef6\u683c\u5f0f"},{"location":"AnalysisMp4File/#sttscttsstscstsz","text":"","title":"\u4e8c\u3001stts/ctts/stsc/stsz\u7b49\u4fe1\u606f\u8868\u7684\u89e3\u6790"},{"location":"AnalysisMp4File/#s-t-t-s-time-to-sample-atoms","text":"\u5b58\u50a8\u4e86\u5a92\u4f53sample\u7684\u65f6\u957f\u4fe1\u606f\uff0c\u63d0\u4f9b\u4e86\u65f6\u95f4\u548c\u76f8\u5173sample\u4e4b\u95f4\u7684\u6620\u5c04\u5173\u7cfb\u3002\u8be5atom\u5305\u542b\u4e86\u4e00\u4e2a\u8868\uff0c\u5173\u4e8etime\u548csample\u53f7\u4e4b\u95f4\u7684\u7d22\u5f15\u5173\u7cfb\u3002\u8868\u7684\u6bcf\u4e2aentry\u7ed9\u51fa\u4e86\u5177\u6709\u76f8\u540c\u65f6\u95f4\u95f4\u9694\u7684\u8fde\u7eed\u7684sample\u7684\u4e2a\u6570\u548c\u8fd9\u4e9bsample\u7684\u65f6\u95f4\u95f4\u9694\u503c\u3002\u5c06\u8fd9\u4e9b\u65f6\u95f4\u95f4\u9694\u76f8\u52a0\u5728\u4e00\u8d77\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u5b8c\u6574\u7684time\u4e0esample\u4e4b\u95f4\u7684\u6620\u5c04\u3002\u5c06\u6240\u6709\u7684\u65f6\u95f4\u95f4\u9694\u76f8\u52a0\u5728\u4e00\u8d77\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8be5track\u7684\u65f6\u95f4\u603b\u957f\u3002 SampleCount SampleDuration 4 3 2 1 3 2 \u5982\u4e0a\u8868\u8868\u793a\uff0c\u6709\uff14\u4e2asample\u7684duration\u4e3a3\uff0c2\u4e2asample\u7684duration\u4e3a1, 3\u4e2asample\u7684duration\u4e3a2\u2026\u2026\u6ce8\u610f\uff0c\u8fd9\u91cc\u7684duration\u5e76\u4e0d\u662f\u771f\u5b9e\u65f6\u95f4\uff0c\u662f\u7531\u65f6\u95f4\u6233\u548ctimescale\u8ba1\u7b97\u5f97\u5230\u7684\u503c\u3002","title":"s t t s :Time To Sample Atoms"},{"location":"AnalysisMp4File/#stscsample-to-chunk-atoms","text":"\u4e3a\u4e86\u4f18\u5316\u6570\u636e\u8bbf\u95ee\uff0c\u901a\u5e38\u628asample\u5c01\u88c5\u5230chunk\u4e2d\uff0c\u4e00\u4e2achunk\u53ef\u80fd\u4f1a\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2asample\u3002\u6bcf\u4e2achunk\u4f1a\u6709\u4e0d\u540c\u7684size\uff0c\u6bcf\u4e2achunk\u4e2d\u7684sample\u4e5f\u4f1a\u6709\u4e0d\u540c\u7684size\u3002stsc table\u63d0\u4f9b\u4e86\u4ecesample\u5230chunk\u7684\u4e00\u4e2a\u6620\u5c04\uff0c \u6bcf\u4e2atable entry\u53ef\u80fd\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2achunk\u3002Table entry\u5305\u542b\u7684\u5185\u5bb9\u5305\u62ec\u7b2c\u4e00\u4e2achunk\u53f7(\u4ece\u8fd9\u4e2a\u4f4d\u7f6e\u5f00\u59cb)\u3001\u6bcf\u4e2achunk\u5305\u542b\u7684sample\u7684\u4e2a\u6570\u4ee5\u53casample\u7684\u63cf\u8ff0ID: First Chunk Samples per chunk Sample descriptionID 1 3 23 3 1 23 5 1 24 \u5982\u4e0a\u8868\u8868\u793a\uff0c\u7b2c1\u30012\u4e2achunk\u5305\u542b\u7684sample\u4e2a\u6570\u90fd\u662f3\u4e2a\uff0csample\u7684ID\u90fd\u662f23\uff0c\u7b2c3\u30014\u4e2achunk\u5305\u542b\u7684sample\u4e2a\u6570\u90fd\u662f1\u4e2a\uff0csample\u7684ID\u90fd\u662f23\uff0c\u7b2c5\u4e2a\u5230\u6700\u540e\u4e00\u4e2achunk\u5305\u542b\u7684sample\u4e2a\u6570\u90fd\u662f1\u4e2a\uff0csample\u7684ID\u90fd\u662f24\uff0e","title":"stsc:Sample-To-Chunk Atoms"},{"location":"AnalysisMp4File/#stsz-sample-size-atom","text":"\u8be5\u8868\u4e2d\u5b58\u50a8\u4e86\u6bcf\u4e2asample\u7684size Size Size Size Size Size \u5982\u4e0a\u8868\u8868\u793a\uff0c1-5\u4e2asample\u7684size\u90fd\u662f\"size\"\u3002","title":"stsz: Sample Size Atom"},{"location":"AnalysisMp4File/#stcoco64-chunk-offset-atom","text":"stco/co64\u4e2d\u5b58\u50a8\u4e86\u6bcf\u4e2achunk\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\u3002stco\u8868\u793ause32BitFileOffset\uff0cco64\u8868\u793ause64BitFileOffset Offset Offset Offset Offset Offset \u5982\u4e0a\u8868\u8868\u793a\uff0c1-5\u4e2achunk\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\"offset\"\u3002","title":"stco/co64: Chunk Offset Atom"},{"location":"AnalysisMp4File/#stss-sync-sample-atom","text":"\u6807\u8bb0\u4e86\u6bcf\u4e2a\u5173\u952e\u5e27\u7684sample\u3002\u5982\u679c\u8be5\u8868\u4e0d\u5b58\u5728\uff0c\u5c31\u8868\u793a\u5a92\u4f53\u6d41\u6bcf\u4e2asample\u90fd\u662f\u5173\u952e\u5e27\u3002 Sample1 1 Sample2 31 Sample3 61 Sample4 91 \u5982\u4e0a\u8868\u8868\u793a\u7b2c1\u4e2a\u5173\u952e\u5e27\u662f\u7b2c1\u5e27\uff0c\u7b2c2\u4e2a\u5173\u952e\u5e27\u662f\u7b2c31\u5e27\uff0c\u7b2c3\u4e2a\u5173\u952e\u5e27\u662f\u7b2c61\u5e27\uff0c\u7b2c4\u4e2a\u5173\u952e\u5e27\u662f\u7b2c91\u5e27\u2026\u2026 \u4e09\u3001\u5177\u4f53\u5e94\u7528 step1: \u5177\u4f53\u64ad\u653e\u65f6\uff0c\u6bd4\u5982\u7528\u6237\u9700\u8981seek\u5230\u67d0\u4e00\u4f4d\u7f6e\uff0c\u64ad\u653e\u5668\u9996\u5148\u53ef\u4ee5\u6839\u636e\u8fdb\u5ea6\u6761\u5f97\u5230\u7528\u6237seek\u5230\u7684\u65f6\u95f4seektime\u3002 step2: \u5229\u7528stts\u8868\uff0c\u6839\u636eseektime\u627e\u5230\u5176\u5bf9\u5e94\u7684seeksample step3: \u5229\u7528stss\u8868\uff0c\u67e5\u770bseeksample\u662f\u5426\u4e3a\u5173\u952e\u5e27\uff0c\u5982\u679c\u662f\u5219\u7ee7\u7eed\uff0c\u5982\u679c\u4e0d\u662f\u5219\u6309\u7167\u64ad\u653e\u5668\u89c4\u5b9a\u7684\u65b9\u6cd5(\u67e5\u627e\u6700\u90bb\u8fd1\u5173\u952e\u5e27\u3001\u67e5\u627e\u524d\u9762\u4e00\u4e2a\u5173\u952e\u5e27\u3001\u67e5\u627e\u540e\u9762\u4e00\u4e2a\u5173\u952e\u5e27)\u66f4\u65b0seeksample\u3002 step4: \u5229\u7528stsc\u8868\uff0c\u6839\u636e\u901a\u8fc7seeksample\u627e\u5230\u5bf9\u5e94\u7684seekchunk\u548c\u5176\u5728chunk\u4e2d\u662f\u7b2c\u51e0\u4e2asample step5: \u5229\u7528stsz\u8868\uff0c\u8ba1\u7b97seeksample\u5728\u5176\u6240\u5728chunk\u4e2d\u7684\u5730\u5740\u504f\u79fb\u91cfsampleindex step6: \u5229\u7528stco\u8868\uff0c\u67e5\u627eseekchunk\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6echunkindex step7: chunkindex + sampleindex \u5c31\u662f\u7528\u6237seek\u5230\u7684\u5e27\u5728\u6587\u4ef6\u4e2d\u7684\u4f4d\u7f6e\u3002 step8: \u53d6\u51fa\u6570\u636e\u53bb\u89e3\u7801\u3002 step9: \u5982\u679c\u6587\u4ef6\u5b58\u5728B\u5e27\u9700\u8981\u6839\u636ectts\u53bb\u8c03\u6574pts\uff0c\u5426\u5219pts=dts\u3002 step10: rennder","title":"stss: Sync Sample Atom"},{"location":"adaption/","text":"\u4e3a\u4ec0\u4e48\u8981\u9002\u914d\uff1f Android\u7cfb\u7edf\u7684\u5f00\u653e\u6027\u5bfc\u81f4\u7684\u5c4f\u5e55\u5c3a\u5bf8\u788e\u7247\u5316\uff0c\u51fa\u73b0\u540c\u4e00\u5143\u7d20\u5728\u4e0d\u540c\u624b\u673a\u4e0a\u663e\u793a\u4e0d\u540c\u7684\u95ee\u9898\u3002\u8bd5\u60f3\u4e00\u4e0b\u8fd9\u4e48\u4e00\u4e2a\u573a\u666f\uff1a \u4e3a4.3\u5bf8\u5c4f\u5e55\u51c6\u5907\u7684UI\u8bbe\u8ba1\u56fe\uff0c\u8fd0\u884c\u57285.0\u5bf8\u7684\u5c4f\u5e55\u4e0a\uff0c\u5f88\u53ef\u80fd\u5728\u53f3\u4fa7\u548c\u4e0b\u4fa7\u5b58\u5728\u5927\u91cf\u7684\u7a7a\u767d\uff1b\u800c5.0\u5bf8\u7684UI\u8bbe\u8ba1\u56fe\u8fd0\u884c\u52304.3\u5bf8\u7684\u8bbe\u5907\u4e0a\uff0c\u5f88\u53ef\u80fd\u663e\u793a\u4e0d\u4e0b\u3002\u4e3a\u4e86\u4fdd\u8bc1\u7528\u6237\u83b7\u5f97\u4e00\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u6548\u679c,\u4f7f\u5f97\u67d0\u4e00\u5143\u7d20\u5728Android\u4e0d\u540c\u5c3a\u5bf8\u3001\u4e0d\u540c\u5206\u8fa8\u7387\u7684\u3001\u4e0d\u540c\u7cfb\u7edf\u7684\u624b\u673a\u4e0a\u5177\u5907\u76f8\u540c\u7684\u663e\u793a\u6548\u679c\uff0c\u80fd\u591f\u4fdd\u6301\u754c\u9762\u4e0a\u7684\u6548\u679c\u4e00\u81f4,\u6211\u4eec\u9700\u8981\u5bf9\u5404\u79cd\u624b\u673a\u5c4f\u5e55\u8fdb\u884c\u9002\u914d\uff01 \u57fa\u672c\u6982\u5ff5 \u50cf\u7d20\uff08px\uff09\uff1a \u542b\u4e49\uff1a\u901a\u5e38\u6240\u8bf4\u7684\u50cf\u7d20\uff0c\u5c31\u662fCCD/CMOS\u4e0a\u5149\u7535\u611f\u5e94\u5143\u4ef6\u7684\u6570\u91cf\uff0c\u4e00\u4e2a\u611f\u5149\u5143\u4ef6\u7ecf\u8fc7\u611f\u5149\uff0c\u5149\u7535\u4fe1\u53f7\u8f6c\u6362\uff0cA/D\u8f6c\u6362\u7b49\u6b65\u9aa4\u4ee5\u540e\uff0c\u5728\u8f93\u51fa\u7684\u7167\u7247\u4e0a\u5c31\u5f62\u6210\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u5982\u679c\u628a\u5f71\u50cf\u653e\u5927\u6570\u500d\uff0c\u4f1a\u53d1\u73b0\u8fd9\u4e9b\u8fde\u7eed\u8272\u8c03\u5176\u5b9e\u662f\u7531\u8bb8\u591a\u8272\u5f69\u76f8\u8fd1\u7684\u5c0f\u65b9\u70b9\u6240\u7ec4\u6210\uff0c\u8fd9\u4e9b\u5c0f\u65b9\u70b9\u5c31\u662f\u6784\u6210\u5f71\u50cf\u7684\u6700\u5c0f\u5355\u4f4d\u201c\u50cf\u7d20\u201d\uff08Pixel\uff09\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u50cf\u7d20\u5c31\u662f\u624b\u673a\u5c4f\u5e55\u7684\u6700\u5c0f\u6784\u6210\u5355\u5143\u3002 \u5355\u4f4d\uff1apx\uff08pixel\uff09\uff0c1px = 1\u50cf\u7d20\u70b9 \u4e00\u822c\u60c5\u51b5\u4e0bUI\u8bbe\u8ba1\u5e08\u7684\u8bbe\u8ba1\u56fe\u4f1a\u4ee5px\u4f5c\u4e3a\u7edf\u4e00\u7684\u8ba1\u91cf\u5355\u4f4d \u5206\u8fa8\u7387\uff1a \u542b\u4e49\uff1a\u624b\u673a\u5728\u6a2a\u5411\u3001\u7eb5\u5411\u4e0a\u7684\u50cf\u7d20\u70b9\u6570\u603b\u548c \u4e00\u822c\u63cf\u8ff0\u6210 \u5bbd*\u9ad8 \uff0c\u5373\u6a2a\u5411\u50cf\u7d20\u70b9\u4e2a\u6570 * \u7eb5\u5411\u50cf\u7d20\u70b9\u4e2a\u6570\uff08\u59821080 x 1920\uff09\u3002 \u5355\u4f4d\uff1apx\uff08pixel\uff09\uff0c1px = 1\u50cf\u7d20\u70b9 \u5c4f\u5e55\u5c3a\u5bf8\uff08in\uff09\uff1a \u542b\u4e49\uff1a\u624b\u673a\u5bf9\u89d2\u7ebf\u7684\u7269\u7406\u5c3a\u5bf8 \u5355\u4f4d \u82f1\u5bf8\uff08inch\uff09\uff0c\u4e00\u82f1\u5bf8\u5927\u7ea62.54cm \u5e38\u89c1\u7684\u5c3a\u5bf8\u67094.7\u5bf8\u30015\u5bf8\u30015.5\u5bf8\u30016\u5bf8 \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08dpi\uff09\uff1a \u542b\u4e49\uff1a\u6bcf\u82f1\u5bf8\u7684\u50cf\u7d20\u70b9\u6570\u3002 \u4f8b\u5982\u6bcf\u82f1\u5bf8\u5185\u6709160\u4e2a\u50cf\u7d20\u70b9\uff0c\u5219\u5176\u50cf\u7d20\u5bc6\u5ea6\u4e3a160dpi\u3002 \u5355\u4f4d\uff1adpi\uff08dots per inch\uff09 \u8ba1\u7b97\u516c\u5f0f\uff1a \u50cf\u7d20\u5bc6\u5ea6 = \u50cf\u7d20 / \u5c3a\u5bf8 \uff08dpi = px / in\uff09 \u6807\u51c6\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08mdpi\uff09\uff1a \u6bcf\u82f1\u5bf8\u957f\u5ea6\u4e0a\u8fd8\u6709160\u4e2a\u50cf\u7d20\u70b9\uff08160dpi\uff09\uff0c\u5373\u79f0\u4e3a\u6807\u51c6\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08mdpi\uff09\u3002 \u5bc6\u5ea6\u7c7b\u578b \u4ee3\u8868\u7684\u5206\u8fa8\u7387(px) \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6(dpi) \u4f4e\u5bc6\u5ea6(idpi) 240x320 120 \u4e2d\u5bc6\u5ea6(mdpi) 320x480 160 \u9ad8\u5bc6\u5ea6(hdpi) 480x800 240 \u8d85\u5bc6\u5ea6(hdpi) 720x1280 320 \u8d85\u8d85\u5bc6\u5ea6(hdpi) 1080x1920 480 \u5c4f\u5e55\u5c3a\u5bf8\u3001\u5206\u8fa8\u7387\u3001\u50cf\u7d20\u5bc6\u5ea6\u4e09\u8005\u5173\u7cfb \u4e00\u90e8\u624b\u673a\u7684\u5206\u8fa8\u7387\u662f\u5bbdx\u9ad8\uff0c\u5c4f\u5e55\u5927\u5c0f\u662f\u4ee5\u5bf8\u4e3a\u5355\u4f4d\uff0c\u90a3\u4e48\u4e09\u8005\u7684\u5173\u7cfb\u662f\uff1a 5. \u5bc6\u5ea6\u65e0\u5173\u50cf\u7d20\uff08dp\uff09\uff1a \u542b\u4e49\uff1adensity-independent pixel\uff0c\u53ebdp\u6216dip\uff0c\u4e0e\u7ec8\u7aef\u4e0a\u7684\u5b9e\u9645\u7269\u7406\u50cf\u7d20\u70b9\u65e0\u5173 \u5355\u4f4d\uff1adp\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4e0d\u540c\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\u7684\u8bbe\u5907\u4e0a\u663e\u793a\u76f8\u540c\u7684\u6548\u679c\uff0c\u662f\u5b89\u5353\u7279\u6709\u7684\u957f\u5ea6\u5355\u4f4d\u3002 \u573a\u666f\u4f8b\u5b50\uff1a\u5047\u5982\u540c\u6837\u90fd\u662f\u753b\u4e00\u6761\u957f\u5ea6\u662f\u5c4f\u5e55\u4e00\u534a\u7684\u7ebf\uff0c\u5982\u679c\u4f7f\u7528px\u4f5c\u4e3a\u8ba1\u91cf\u5355\u4f4d\uff0c\u90a3\u4e48\u5728480x800\u5206\u8fa8\u7387\u624b\u673a\u4e0a\u8bbe\u7f6e\u5e94\u4e3a240px\uff1b\u5728320x480\u7684\u624b\u673a\u4e0a\u5e94\u8bbe\u7f6e\u4e3a160px\uff0c\u4e8c\u8005\u8bbe\u7f6e\u5c31\u4e0d\u540c\u4e86\uff1b\u5982\u679c\u4f7f\u7528dp\u4e3a\u5355\u4f4d\uff0c\u5728\u8fd9\u4e24\u79cd\u5206\u8fa8\u7387\u4e0b\uff0c160dp\u90fd\u663e\u793a\u4e3a\u5c4f\u5e55\u4e00\u534a\u7684\u957f\u5ea6\u3002 dp\u4e0epx\u7684\u8f6c\u6362\uff1a1dp = \uff08dpi / 160 \uff09 * 1px; \u72ec\u7acb\u6bd4\u4f8b\u50cf\u7d20\uff08sp\uff09\uff1a \u542b\u4e49\uff1ascale-independent pixel\uff0c\u53ebsp\u6216sip \u5355\u4f4d\uff1asp\uff0c\u5b57\u4f53\u5927\u5c0f\u4e13\u7528\u5355\u4f4d Android\u5f00\u53d1\u65f6\u7528\u6b64\u5355\u4f4d\u8bbe\u7f6e\u6587\u5b57\u5927\u5c0f\uff0c\u53ef\u6839\u636e\u5b57\u4f53\u5927\u5c0f\u9996\u9009\u9879\u8fdb\u884c\u7f29\u653e\uff1b \u63a8\u8350\u4f7f\u752812sp\u300114sp\u300118sp\u300122sp\u4f5c\u4e3a\u5b57\u4f53\u5927\u5c0f\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u5947\u6570\u548c\u5c0f\u6570\uff0c\u5bb9\u6613\u9020\u6210\u7cbe\u5ea6\u4e22\u5931\uff0c12sp\u4ee5\u4e0b\u5b57\u4f53\u592a\u5c0f\u3002 sp \u4e0e dp \u7684\u533a\u522b\uff1a dp\u53ea\u8ddf\u5c4f\u5e55\u7684\u50cf\u7d20\u5bc6\u5ea6\u6709\u5173\uff1b sp\u548cdp\u5f88\u7c7b\u4f3c\u4f46\u552f\u4e00\u7684\u533a\u522b\u662f\uff0cAndroid\u7cfb\u7edf\u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6587\u5b57\u5c3a\u5bf8\u5927\u5c0f\uff08\u5c0f\u3001\u6b63\u5e38\u3001\u5927\u3001\u8d85\u5927\u7b49\u7b49\uff09\uff0c\u5f53\u6587\u5b57\u5c3a\u5bf8\u662f\u201c\u6b63\u5e38\u201d\u65f61sp=1dp=0.00625\u82f1\u5bf8\uff0c\u800c\u5f53\u6587\u5b57\u5c3a\u5bf8\u662f\u201c\u5927\u201d\u6216\u201c\u8d85\u5927\u201d\u65f6\uff0c1sp>1dp=0.00625\u82f1\u5bf8\u3002\u7c7b\u4f3c\u6211\u4eec\u5728windows\u91cc\u8c03\u6574\u5b57\u4f53\u5c3a\u5bf8\u4ee5\u540e\u7684\u6548\u679c\u2014\u2014\u7a97\u53e3\u5927\u5c0f\u4e0d\u53d8\uff0c\u53ea\u6709\u6587\u5b57\u5927\u5c0f\u6539\u53d8\u3002 \u9002\u914d\u65b9\u6848 \u5c06\u5206\u4e3a\u5e03\u5c40\u7ec4\u4ef6\u3001\u5e03\u5c40\u3001\u56fe\u7247\u3001\u4ee3\u7801\u3001\u63a5\u53e3\u7b49\u51e0\u65b9\u9762\u6765\u8c08\u3002 \u5173\u4e8e\u5e03\u5c40\u7ec4\u4ef6\u7684\u9002\u914d \u4f7f\u7528dp\u6216\u8005sp\u4ee3\u66ffpx \u4f7f\u7528\u7ea6\u675f\u5e03\u5c40/\u76f8\u5bf9\u5e03\u5c40\u4ee3\u66ff\u7edd\u5bf9\u5e03\u5c40 \u4f7f\u7528wrap_content,match-parent,\u6743\u91cd\u66ff\u4ee3\u5177\u4f53\u7684\u5c3a\u5bf8 \u4f7f\u7528minwidth,minheight,\u7b49\u5c5e\u6027 dimens\u4f7f\u7528 \u5173\u4e8e\u5e03\u5c40\u7684\u9002\u914d \u4f7f\u7528large\u9650\u5b9a\u7b26 \u540c\u65f6\u9002\u914d\u624b\u673a\u548c\u5e73\u677f/\u7535\u89c6\uff0c\u5e03\u5c40\u540d\u79f0\u4e2d\u4f7f\u7528large\u9650\u5b9a\u7b26\uff0c\u7cfb\u7edf\u56de\u5728\u8f83\u5927\uff087\u82f1\u5bf8\u6216\u8005\u66f4\u5927\uff09\u5c4f\u5e55\u4e0a\u81ea\u52a8\u9009\u62e9\u6b64\u5e03\u5c40\u3002 \u6700\u5c0f\u5bbd\u5ea6\u9650\u5b9a\u7b26 \u4f7f\u7528Size\u9650\u5b9a\u7b26\u6709\u4e00\u4e2a\u95ee\u9898\u4f1a\u8ba9\u5f88\u591a\u7a0b\u5e8f\u5458\u611f\u5230\u5934\u75bc\uff0clarge\u5230\u5e95\u662f\u6307\u591a\u5927\u5462\uff1f\u5f88\u591a\u5e94\u7528\u7a0b\u5e8f\u90fd\u5e0c\u671b\u80fd\u591f\u66f4\u81ea\u7531\u5730\u4e3a\u4e0d\u540c\u5c4f\u5e55\u8bbe\u5907\u52a0\u8f7d\u4e0d\u540c\u7684\u5e03\u5c40\uff0c\u4e0d\u7ba1\u5b83\u4eec\u662f\u4e0d\u662f\u88ab\u7cfb\u7edf\u8ba4\u5b9a\u4e3a\u201dlarge\u201d\u3002\u8fd9\u5c31\u662fAndroid\u4e3a\u4ec0\u4e48\u57283.2\u4ee5\u540e\u5f15\u5165\u4e86\u201dSmallest-width\u201d\u9650\u5b9a\u7b26\u3002 \u6700\u5c0f\u5bbd\u5ea6\u9650\u5b9a\u7b26\u53ef\u8ba9\u60a8\u901a\u8fc7\u6307\u5b9a\u67d0\u4e2a\u6700\u5c0f\u5bbd\u5ea6\uff08\u4ee5 dp \u4e3a\u5355\u4f4d\uff09\u6765\u5b9a\u4f4d\u5c4f\u5e55\u3002\u4f8b\u5982\uff0c\u6807\u51c6 7 \u82f1\u5bf8\u5e73\u677f\u7535\u8111\u7684\u6700\u5c0f\u5bbd\u5ea6\u4e3a 600 dp\uff0c\u56e0\u6b64\u5982\u679c\u60a8\u8981\u5728\u6b64\u7c7b\u5c4f\u5e55\u4e0a\u7684\u7528\u6237\u754c\u9762\u4e2d\u4f7f\u7528\u53cc\u9762\u677f\uff08\u4f46\u5728\u8f83\u5c0f\u7684\u5c4f\u5e55\u4e0a\u53ea\u663e\u793a\u5217\u8868\uff09\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0a\u6587\u4e2d\u6240\u8ff0\u7684\u5355\u9762\u677f\u548c\u53cc\u9762\u677f\u8fd9\u4e24\u79cd\u5e03\u5c40\uff0c\u4f46\u60a8\u5e94\u4f7f\u7528 sw600dp \u6307\u660e\u53cc\u9762\u677f\u5e03\u5c40\u4ec5\u9002\u7528\u4e8e\u6700\u5c0f\u5bbd\u5ea6\u4e3a 600 dp \u7684\u5c4f\u5e55\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 large \u5c3a\u5bf8\u9650\u5b9a\u7b26\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u6700\u5c0f\u5bbd\u5ea6\u5927\u4e8e\u7b49\u4e8e 600 dp \u7684\u8bbe\u5907\uff0c\u7cfb\u7edf\u4f1a\u9009\u62e9 layout-sw600dp/main.xml\uff08\u53cc\u9762\u677f\uff09\u5e03\u5c40\uff0c\u5426\u5219\u7cfb\u7edf\u5c31\u4f1a\u9009\u62e9 layout/main.xml\uff08\u5355\u9762\u677f\uff09\u5e03\u5c40\u3002 \u4f46 Android \u7248\u672c\u4f4e\u4e8e 3.2 \u7684\u8bbe\u5907\u4e0d\u652f\u6301\u6b64\u6280\u672f\uff0c\u539f\u56e0\u662f\u8fd9\u4e9b\u8bbe\u5907\u65e0\u6cd5\u5c06 sw600dp \u8bc6\u522b\u4e3a\u5c3a\u5bf8\u9650\u5b9a\u7b26\uff0c\u56e0\u6b64\u6211\u4eec\u4ecd\u9700\u4f7f\u7528 large \u9650\u5b9a\u7b26\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u4f1a\u6709\u4e00\u4e2a\u540d\u79f0\u4e3a res/layout-large/main.xml \u7684\u6587\u4ef6\uff08\u4e0e res/layout-sw600dp/main.xml \u4e00\u6837\uff09\u3002\u4f46\u662f\u6ca1\u6709\u592a\u5927\u5173\u7cfb\uff0c\u6211\u4eec\u5c06\u9a6c\u4e0a\u5b66\u4e60\u5982\u4f55\u907f\u514d\u6b64\u7c7b\u5e03\u5c40\u6587\u4ef6\u51fa\u73b0\u7684\u91cd\u590d\u3002 \u907f\u514d\u5e03\u5c40\u6587\u4ef6\u91cd\u590d\u53ef\u4ee5\u4f7f\u7528\u5e03\u5c40\u522b\u540d 3. \u4f7f\u7528\u5c4f\u5e55\u65b9\u5411\u9650\u5b9a\u7b26 4. \u56fe\u7247\u9002\u914d logo\u56fe\u6807\u5efa\u8bae\u6309\u7167\u5b98\u65b9\u6807\u51c6\u51c6\u5907\u597d\u56fe\u6807 \u5c4f\u5e55\u5bc6\u5ea6 \u5bf9\u5e94\u56fe\u7247\u5927\u5c0f(px) \u56fe\u7247\u8d44\u6e90\u76ee\u5f55 120dip(idpi) 36x36 mipmap-idpi 160dip(mdpi) 48x48 mipmap\u6216\u8005mipmap-mdpi 240dip(hdpi) 72x72 mipmap-hdpi 320dip(xhdpi) 96x96 mipmap-xhdpi 480dip(xxhdpi) 144x144 mipmap-xxhdpi 640dip(xxxhdpi) 192x192 mipmap-xxxhdpi \u666e\u901a\u56fe\u7247\u548c\u56fe\u6807 \u5efa\u8bae\u6309\u7167\u5b98\u65b9\u7684\u5bc6\u5ea6\u7c7b\u578b\u8fdb\u884c\u5207\u56fe\u5373\u53ef\uff0c\u4f46\u4e00\u822c\u6211\u4eec\u53ea\u9700xxhdpi\u6216xxxhdpi\u7684\u5207\u56fe\u5373\u53ef\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff1b \u81ea\u52a8\u62c9\u4f38\u56fe.9\u56fe\u7247\u7c7b\u578b\uff08\u6309\u94ae\uff09 \u52a8\u753b\u3001\u81ea\u5b9a\u4e49view\u3001shape imageView\u7684scaleType\u9002\u914d 1. android:scaleType=\u201ccenter\u201d \u4fdd\u6301\u539f\u56fe\u7684\u5927\u5c0f\uff0c\u663e\u793a\u5728ImageView\u7684\u4e2d\u5fc3\u3002\u5f53\u539f\u56fe\u7684size\u5927\u4e8eImageView\u7684size\u65f6\uff0c\u591a\u51fa\u6765\u7684\u90e8\u5206\u88ab\u622a\u6389\u3002 2. android:scaleType=\u201ccenter_inside\u201d \u4ee5\u539f\u56fe\u6b63\u5e38\u663e\u793a\u4e3a\u76ee\u7684\uff0c\u5982\u679c\u539f\u56fe\u5927\u5c0f\u5927\u4e8eImageView\u7684size\uff0c\u5c31\u6309\u7167\u6bd4\u4f8b\u7f29\u5c0f\u539f\u56fe\u7684\u5bbd\u9ad8\uff0c\u5c45\u4e2d\u663e\u793a\u5728ImageView\u4e2d\u3002\u5982\u679c\u539f\u56fesize\u5c0f\u4e8eImageView\u7684size\uff0c\u5219\u4e0d\u505a\u5904\u7406\u5c45\u4e2d\u663e\u793a\u56fe\u7247\u3002 3. android:scaleType=\u201ccenter_crop\u201d \u4ee5\u539f\u56fe\u586b\u6ee1ImageView\u4e3a\u76ee\u7684\uff0c\u5982\u679c\u539f\u56fesize\u5927\u4e8eImageView\u7684size\uff0c\u5219\u4e0ecenter_inside\u4e00\u6837\uff0c\u6309\u6bd4\u4f8b\u7f29\u5c0f\uff0c\u5c45\u4e2d\u663e\u793a\u5728ImageView\u4e0a\u3002\u5982\u679c\u539f\u56fesize\u5c0f\u4e8eImageView\u7684size\uff0c\u5219\u6309\u6bd4\u4f8b\u62c9\u5347\u539f\u56fe\u7684\u5bbd\u548c\u9ad8\uff0c\u586b\u5145ImageView\u5c45\u4e2d\u663e\u793a\u3002 4. android:scaleType=\u201cmatrix\u201d \u4e0d\u6539\u53d8\u539f\u56fe\u7684\u5927\u5c0f\uff0c\u4eceImageView\u7684\u5de6\u4e0a\u89d2\u5f00\u59cb\u7ed8\u5236\uff0c\u8d85\u51fa\u90e8\u5206\u505a\u526a\u5207\u5904\u7406\u3002 5. androd:scaleType=\u201cfit_xy\u201d \u628a\u56fe\u7247\u6309\u7167\u6307\u5b9a\u7684\u5927\u5c0f\u5728ImageView\u4e2d\u663e\u793a\uff0c\u62c9\u4f38\u663e\u793a\u56fe\u7247\uff0c\u4e0d\u4fdd\u6301\u539f\u6bd4\u4f8b\uff0c\u586b\u6ee1ImageView. 6. android:scaleType=\u201cfit_start\u201d \u628a\u539f\u56fe\u6309\u7167\u6bd4\u4f8b\u653e\u5927\u7f29\u5c0f\u5230ImageView\u7684\u9ad8\u5ea6\uff0c\u663e\u793a\u5728ImageView\u7684start\uff08\u524d\u90e8/\u4e0a\u90e8\uff09\u3002 7. android:sacleType=\u201cfit_center\u201d \u628a\u539f\u56fe\u6309\u7167\u6bd4\u4f8b\u653e\u5927\u7f29\u5c0f\u5230ImageView\u7684\u9ad8\u5ea6\uff0c\u663e\u793a\u5728ImageView\u7684center\uff08\u4e2d\u90e8/\u5c45\u4e2d\u663e\u793a\uff09\u3002 8. android:scaleType=\u201cfit_end\u201d \u628a\u539f\u56fe\u6309\u7167\u6bd4\u4f8b\u653e\u5927\u7f29\u5c0f\u5230ImageView\u7684\u9ad8\u5ea6\uff0c\u663e\u793a\u5728ImageVIew\u7684end\uff08\u540e\u90e8/\u5c3e\u90e8/\u5e95\u90e8\uff09 \u4ee3\u7801\u9002\u914d \u901a\u8fc7api\u6d4b\u91cf\u624b\u673a\u5c4f\u5e55\u5bbd\u9ad8\u5ea6\uff0c\u7136\u540e\u6839\u636e\u9700\u6c42\u6765\u8bbe\u7f6e \u63a5\u53e3\u9002\u914d \u672c\u5730\u52a0\u8f7d\u56fe\u7247\u524d\u5224\u65ad\u624b\u673a\u5206\u8fa8\u7387\u6216\u8005\u50cf\u7d20\u5bc6\u5ea6\uff0c\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u5bf9\u5e94\u7ea7\u522b\u56fe\u7247","title":"\u5c4f\u5e55\u9002\u914d"},{"location":"adaption/#_1","text":"Android\u7cfb\u7edf\u7684\u5f00\u653e\u6027\u5bfc\u81f4\u7684\u5c4f\u5e55\u5c3a\u5bf8\u788e\u7247\u5316\uff0c\u51fa\u73b0\u540c\u4e00\u5143\u7d20\u5728\u4e0d\u540c\u624b\u673a\u4e0a\u663e\u793a\u4e0d\u540c\u7684\u95ee\u9898\u3002\u8bd5\u60f3\u4e00\u4e0b\u8fd9\u4e48\u4e00\u4e2a\u573a\u666f\uff1a \u4e3a4.3\u5bf8\u5c4f\u5e55\u51c6\u5907\u7684UI\u8bbe\u8ba1\u56fe\uff0c\u8fd0\u884c\u57285.0\u5bf8\u7684\u5c4f\u5e55\u4e0a\uff0c\u5f88\u53ef\u80fd\u5728\u53f3\u4fa7\u548c\u4e0b\u4fa7\u5b58\u5728\u5927\u91cf\u7684\u7a7a\u767d\uff1b\u800c5.0\u5bf8\u7684UI\u8bbe\u8ba1\u56fe\u8fd0\u884c\u52304.3\u5bf8\u7684\u8bbe\u5907\u4e0a\uff0c\u5f88\u53ef\u80fd\u663e\u793a\u4e0d\u4e0b\u3002\u4e3a\u4e86\u4fdd\u8bc1\u7528\u6237\u83b7\u5f97\u4e00\u81f4\u7684\u7528\u6237\u4f53\u9a8c\u6548\u679c,\u4f7f\u5f97\u67d0\u4e00\u5143\u7d20\u5728Android\u4e0d\u540c\u5c3a\u5bf8\u3001\u4e0d\u540c\u5206\u8fa8\u7387\u7684\u3001\u4e0d\u540c\u7cfb\u7edf\u7684\u624b\u673a\u4e0a\u5177\u5907\u76f8\u540c\u7684\u663e\u793a\u6548\u679c\uff0c\u80fd\u591f\u4fdd\u6301\u754c\u9762\u4e0a\u7684\u6548\u679c\u4e00\u81f4,\u6211\u4eec\u9700\u8981\u5bf9\u5404\u79cd\u624b\u673a\u5c4f\u5e55\u8fdb\u884c\u9002\u914d\uff01","title":"\u4e3a\u4ec0\u4e48\u8981\u9002\u914d\uff1f"},{"location":"adaption/#_2","text":"\u50cf\u7d20\uff08px\uff09\uff1a \u542b\u4e49\uff1a\u901a\u5e38\u6240\u8bf4\u7684\u50cf\u7d20\uff0c\u5c31\u662fCCD/CMOS\u4e0a\u5149\u7535\u611f\u5e94\u5143\u4ef6\u7684\u6570\u91cf\uff0c\u4e00\u4e2a\u611f\u5149\u5143\u4ef6\u7ecf\u8fc7\u611f\u5149\uff0c\u5149\u7535\u4fe1\u53f7\u8f6c\u6362\uff0cA/D\u8f6c\u6362\u7b49\u6b65\u9aa4\u4ee5\u540e\uff0c\u5728\u8f93\u51fa\u7684\u7167\u7247\u4e0a\u5c31\u5f62\u6210\u4e00\u4e2a\u70b9\uff0c\u6211\u4eec\u5982\u679c\u628a\u5f71\u50cf\u653e\u5927\u6570\u500d\uff0c\u4f1a\u53d1\u73b0\u8fd9\u4e9b\u8fde\u7eed\u8272\u8c03\u5176\u5b9e\u662f\u7531\u8bb8\u591a\u8272\u5f69\u76f8\u8fd1\u7684\u5c0f\u65b9\u70b9\u6240\u7ec4\u6210\uff0c\u8fd9\u4e9b\u5c0f\u65b9\u70b9\u5c31\u662f\u6784\u6210\u5f71\u50cf\u7684\u6700\u5c0f\u5355\u4f4d\u201c\u50cf\u7d20\u201d\uff08Pixel\uff09\u3002\u7b80\u800c\u8a00\u4e4b\uff0c\u50cf\u7d20\u5c31\u662f\u624b\u673a\u5c4f\u5e55\u7684\u6700\u5c0f\u6784\u6210\u5355\u5143\u3002 \u5355\u4f4d\uff1apx\uff08pixel\uff09\uff0c1px = 1\u50cf\u7d20\u70b9 \u4e00\u822c\u60c5\u51b5\u4e0bUI\u8bbe\u8ba1\u5e08\u7684\u8bbe\u8ba1\u56fe\u4f1a\u4ee5px\u4f5c\u4e3a\u7edf\u4e00\u7684\u8ba1\u91cf\u5355\u4f4d \u5206\u8fa8\u7387\uff1a \u542b\u4e49\uff1a\u624b\u673a\u5728\u6a2a\u5411\u3001\u7eb5\u5411\u4e0a\u7684\u50cf\u7d20\u70b9\u6570\u603b\u548c \u4e00\u822c\u63cf\u8ff0\u6210 \u5bbd*\u9ad8 \uff0c\u5373\u6a2a\u5411\u50cf\u7d20\u70b9\u4e2a\u6570 * \u7eb5\u5411\u50cf\u7d20\u70b9\u4e2a\u6570\uff08\u59821080 x 1920\uff09\u3002 \u5355\u4f4d\uff1apx\uff08pixel\uff09\uff0c1px = 1\u50cf\u7d20\u70b9 \u5c4f\u5e55\u5c3a\u5bf8\uff08in\uff09\uff1a \u542b\u4e49\uff1a\u624b\u673a\u5bf9\u89d2\u7ebf\u7684\u7269\u7406\u5c3a\u5bf8 \u5355\u4f4d \u82f1\u5bf8\uff08inch\uff09\uff0c\u4e00\u82f1\u5bf8\u5927\u7ea62.54cm \u5e38\u89c1\u7684\u5c3a\u5bf8\u67094.7\u5bf8\u30015\u5bf8\u30015.5\u5bf8\u30016\u5bf8 \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08dpi\uff09\uff1a \u542b\u4e49\uff1a\u6bcf\u82f1\u5bf8\u7684\u50cf\u7d20\u70b9\u6570\u3002 \u4f8b\u5982\u6bcf\u82f1\u5bf8\u5185\u6709160\u4e2a\u50cf\u7d20\u70b9\uff0c\u5219\u5176\u50cf\u7d20\u5bc6\u5ea6\u4e3a160dpi\u3002 \u5355\u4f4d\uff1adpi\uff08dots per inch\uff09 \u8ba1\u7b97\u516c\u5f0f\uff1a \u50cf\u7d20\u5bc6\u5ea6 = \u50cf\u7d20 / \u5c3a\u5bf8 \uff08dpi = px / in\uff09 \u6807\u51c6\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08mdpi\uff09\uff1a \u6bcf\u82f1\u5bf8\u957f\u5ea6\u4e0a\u8fd8\u6709160\u4e2a\u50cf\u7d20\u70b9\uff08160dpi\uff09\uff0c\u5373\u79f0\u4e3a\u6807\u51c6\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\uff08mdpi\uff09\u3002 \u5bc6\u5ea6\u7c7b\u578b \u4ee3\u8868\u7684\u5206\u8fa8\u7387(px) \u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6(dpi) \u4f4e\u5bc6\u5ea6(idpi) 240x320 120 \u4e2d\u5bc6\u5ea6(mdpi) 320x480 160 \u9ad8\u5bc6\u5ea6(hdpi) 480x800 240 \u8d85\u5bc6\u5ea6(hdpi) 720x1280 320 \u8d85\u8d85\u5bc6\u5ea6(hdpi) 1080x1920 480 \u5c4f\u5e55\u5c3a\u5bf8\u3001\u5206\u8fa8\u7387\u3001\u50cf\u7d20\u5bc6\u5ea6\u4e09\u8005\u5173\u7cfb \u4e00\u90e8\u624b\u673a\u7684\u5206\u8fa8\u7387\u662f\u5bbdx\u9ad8\uff0c\u5c4f\u5e55\u5927\u5c0f\u662f\u4ee5\u5bf8\u4e3a\u5355\u4f4d\uff0c\u90a3\u4e48\u4e09\u8005\u7684\u5173\u7cfb\u662f\uff1a 5. \u5bc6\u5ea6\u65e0\u5173\u50cf\u7d20\uff08dp\uff09\uff1a \u542b\u4e49\uff1adensity-independent pixel\uff0c\u53ebdp\u6216dip\uff0c\u4e0e\u7ec8\u7aef\u4e0a\u7684\u5b9e\u9645\u7269\u7406\u50cf\u7d20\u70b9\u65e0\u5173 \u5355\u4f4d\uff1adp\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u5728\u4e0d\u540c\u5c4f\u5e55\u50cf\u7d20\u5bc6\u5ea6\u7684\u8bbe\u5907\u4e0a\u663e\u793a\u76f8\u540c\u7684\u6548\u679c\uff0c\u662f\u5b89\u5353\u7279\u6709\u7684\u957f\u5ea6\u5355\u4f4d\u3002 \u573a\u666f\u4f8b\u5b50\uff1a\u5047\u5982\u540c\u6837\u90fd\u662f\u753b\u4e00\u6761\u957f\u5ea6\u662f\u5c4f\u5e55\u4e00\u534a\u7684\u7ebf\uff0c\u5982\u679c\u4f7f\u7528px\u4f5c\u4e3a\u8ba1\u91cf\u5355\u4f4d\uff0c\u90a3\u4e48\u5728480x800\u5206\u8fa8\u7387\u624b\u673a\u4e0a\u8bbe\u7f6e\u5e94\u4e3a240px\uff1b\u5728320x480\u7684\u624b\u673a\u4e0a\u5e94\u8bbe\u7f6e\u4e3a160px\uff0c\u4e8c\u8005\u8bbe\u7f6e\u5c31\u4e0d\u540c\u4e86\uff1b\u5982\u679c\u4f7f\u7528dp\u4e3a\u5355\u4f4d\uff0c\u5728\u8fd9\u4e24\u79cd\u5206\u8fa8\u7387\u4e0b\uff0c160dp\u90fd\u663e\u793a\u4e3a\u5c4f\u5e55\u4e00\u534a\u7684\u957f\u5ea6\u3002 dp\u4e0epx\u7684\u8f6c\u6362\uff1a1dp = \uff08dpi / 160 \uff09 * 1px; \u72ec\u7acb\u6bd4\u4f8b\u50cf\u7d20\uff08sp\uff09\uff1a \u542b\u4e49\uff1ascale-independent pixel\uff0c\u53ebsp\u6216sip \u5355\u4f4d\uff1asp\uff0c\u5b57\u4f53\u5927\u5c0f\u4e13\u7528\u5355\u4f4d Android\u5f00\u53d1\u65f6\u7528\u6b64\u5355\u4f4d\u8bbe\u7f6e\u6587\u5b57\u5927\u5c0f\uff0c\u53ef\u6839\u636e\u5b57\u4f53\u5927\u5c0f\u9996\u9009\u9879\u8fdb\u884c\u7f29\u653e\uff1b \u63a8\u8350\u4f7f\u752812sp\u300114sp\u300118sp\u300122sp\u4f5c\u4e3a\u5b57\u4f53\u5927\u5c0f\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u5947\u6570\u548c\u5c0f\u6570\uff0c\u5bb9\u6613\u9020\u6210\u7cbe\u5ea6\u4e22\u5931\uff0c12sp\u4ee5\u4e0b\u5b57\u4f53\u592a\u5c0f\u3002 sp \u4e0e dp \u7684\u533a\u522b\uff1a dp\u53ea\u8ddf\u5c4f\u5e55\u7684\u50cf\u7d20\u5bc6\u5ea6\u6709\u5173\uff1b sp\u548cdp\u5f88\u7c7b\u4f3c\u4f46\u552f\u4e00\u7684\u533a\u522b\u662f\uff0cAndroid\u7cfb\u7edf\u5141\u8bb8\u7528\u6237\u81ea\u5b9a\u4e49\u6587\u5b57\u5c3a\u5bf8\u5927\u5c0f\uff08\u5c0f\u3001\u6b63\u5e38\u3001\u5927\u3001\u8d85\u5927\u7b49\u7b49\uff09\uff0c\u5f53\u6587\u5b57\u5c3a\u5bf8\u662f\u201c\u6b63\u5e38\u201d\u65f61sp=1dp=0.00625\u82f1\u5bf8\uff0c\u800c\u5f53\u6587\u5b57\u5c3a\u5bf8\u662f\u201c\u5927\u201d\u6216\u201c\u8d85\u5927\u201d\u65f6\uff0c1sp>1dp=0.00625\u82f1\u5bf8\u3002\u7c7b\u4f3c\u6211\u4eec\u5728windows\u91cc\u8c03\u6574\u5b57\u4f53\u5c3a\u5bf8\u4ee5\u540e\u7684\u6548\u679c\u2014\u2014\u7a97\u53e3\u5927\u5c0f\u4e0d\u53d8\uff0c\u53ea\u6709\u6587\u5b57\u5927\u5c0f\u6539\u53d8\u3002","title":"\u57fa\u672c\u6982\u5ff5"},{"location":"adaption/#_3","text":"\u5c06\u5206\u4e3a\u5e03\u5c40\u7ec4\u4ef6\u3001\u5e03\u5c40\u3001\u56fe\u7247\u3001\u4ee3\u7801\u3001\u63a5\u53e3\u7b49\u51e0\u65b9\u9762\u6765\u8c08\u3002","title":"\u9002\u914d\u65b9\u6848"},{"location":"adaption/#_4","text":"\u4f7f\u7528dp\u6216\u8005sp\u4ee3\u66ffpx \u4f7f\u7528\u7ea6\u675f\u5e03\u5c40/\u76f8\u5bf9\u5e03\u5c40\u4ee3\u66ff\u7edd\u5bf9\u5e03\u5c40 \u4f7f\u7528wrap_content,match-parent,\u6743\u91cd\u66ff\u4ee3\u5177\u4f53\u7684\u5c3a\u5bf8 \u4f7f\u7528minwidth,minheight,\u7b49\u5c5e\u6027 dimens\u4f7f\u7528","title":"\u5173\u4e8e\u5e03\u5c40\u7ec4\u4ef6\u7684\u9002\u914d"},{"location":"adaption/#_5","text":"\u4f7f\u7528large\u9650\u5b9a\u7b26 \u540c\u65f6\u9002\u914d\u624b\u673a\u548c\u5e73\u677f/\u7535\u89c6\uff0c\u5e03\u5c40\u540d\u79f0\u4e2d\u4f7f\u7528large\u9650\u5b9a\u7b26\uff0c\u7cfb\u7edf\u56de\u5728\u8f83\u5927\uff087\u82f1\u5bf8\u6216\u8005\u66f4\u5927\uff09\u5c4f\u5e55\u4e0a\u81ea\u52a8\u9009\u62e9\u6b64\u5e03\u5c40\u3002 \u6700\u5c0f\u5bbd\u5ea6\u9650\u5b9a\u7b26 \u4f7f\u7528Size\u9650\u5b9a\u7b26\u6709\u4e00\u4e2a\u95ee\u9898\u4f1a\u8ba9\u5f88\u591a\u7a0b\u5e8f\u5458\u611f\u5230\u5934\u75bc\uff0clarge\u5230\u5e95\u662f\u6307\u591a\u5927\u5462\uff1f\u5f88\u591a\u5e94\u7528\u7a0b\u5e8f\u90fd\u5e0c\u671b\u80fd\u591f\u66f4\u81ea\u7531\u5730\u4e3a\u4e0d\u540c\u5c4f\u5e55\u8bbe\u5907\u52a0\u8f7d\u4e0d\u540c\u7684\u5e03\u5c40\uff0c\u4e0d\u7ba1\u5b83\u4eec\u662f\u4e0d\u662f\u88ab\u7cfb\u7edf\u8ba4\u5b9a\u4e3a\u201dlarge\u201d\u3002\u8fd9\u5c31\u662fAndroid\u4e3a\u4ec0\u4e48\u57283.2\u4ee5\u540e\u5f15\u5165\u4e86\u201dSmallest-width\u201d\u9650\u5b9a\u7b26\u3002 \u6700\u5c0f\u5bbd\u5ea6\u9650\u5b9a\u7b26\u53ef\u8ba9\u60a8\u901a\u8fc7\u6307\u5b9a\u67d0\u4e2a\u6700\u5c0f\u5bbd\u5ea6\uff08\u4ee5 dp \u4e3a\u5355\u4f4d\uff09\u6765\u5b9a\u4f4d\u5c4f\u5e55\u3002\u4f8b\u5982\uff0c\u6807\u51c6 7 \u82f1\u5bf8\u5e73\u677f\u7535\u8111\u7684\u6700\u5c0f\u5bbd\u5ea6\u4e3a 600 dp\uff0c\u56e0\u6b64\u5982\u679c\u60a8\u8981\u5728\u6b64\u7c7b\u5c4f\u5e55\u4e0a\u7684\u7528\u6237\u754c\u9762\u4e2d\u4f7f\u7528\u53cc\u9762\u677f\uff08\u4f46\u5728\u8f83\u5c0f\u7684\u5c4f\u5e55\u4e0a\u53ea\u663e\u793a\u5217\u8868\uff09\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0a\u6587\u4e2d\u6240\u8ff0\u7684\u5355\u9762\u677f\u548c\u53cc\u9762\u677f\u8fd9\u4e24\u79cd\u5e03\u5c40\uff0c\u4f46\u60a8\u5e94\u4f7f\u7528 sw600dp \u6307\u660e\u53cc\u9762\u677f\u5e03\u5c40\u4ec5\u9002\u7528\u4e8e\u6700\u5c0f\u5bbd\u5ea6\u4e3a 600 dp \u7684\u5c4f\u5e55\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 large \u5c3a\u5bf8\u9650\u5b9a\u7b26\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u5bf9\u4e8e\u6700\u5c0f\u5bbd\u5ea6\u5927\u4e8e\u7b49\u4e8e 600 dp \u7684\u8bbe\u5907\uff0c\u7cfb\u7edf\u4f1a\u9009\u62e9 layout-sw600dp/main.xml\uff08\u53cc\u9762\u677f\uff09\u5e03\u5c40\uff0c\u5426\u5219\u7cfb\u7edf\u5c31\u4f1a\u9009\u62e9 layout/main.xml\uff08\u5355\u9762\u677f\uff09\u5e03\u5c40\u3002 \u4f46 Android \u7248\u672c\u4f4e\u4e8e 3.2 \u7684\u8bbe\u5907\u4e0d\u652f\u6301\u6b64\u6280\u672f\uff0c\u539f\u56e0\u662f\u8fd9\u4e9b\u8bbe\u5907\u65e0\u6cd5\u5c06 sw600dp \u8bc6\u522b\u4e3a\u5c3a\u5bf8\u9650\u5b9a\u7b26\uff0c\u56e0\u6b64\u6211\u4eec\u4ecd\u9700\u4f7f\u7528 large \u9650\u5b9a\u7b26\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u5c31\u4f1a\u6709\u4e00\u4e2a\u540d\u79f0\u4e3a res/layout-large/main.xml \u7684\u6587\u4ef6\uff08\u4e0e res/layout-sw600dp/main.xml \u4e00\u6837\uff09\u3002\u4f46\u662f\u6ca1\u6709\u592a\u5927\u5173\u7cfb\uff0c\u6211\u4eec\u5c06\u9a6c\u4e0a\u5b66\u4e60\u5982\u4f55\u907f\u514d\u6b64\u7c7b\u5e03\u5c40\u6587\u4ef6\u51fa\u73b0\u7684\u91cd\u590d\u3002 \u907f\u514d\u5e03\u5c40\u6587\u4ef6\u91cd\u590d\u53ef\u4ee5\u4f7f\u7528\u5e03\u5c40\u522b\u540d 3. \u4f7f\u7528\u5c4f\u5e55\u65b9\u5411\u9650\u5b9a\u7b26 4.","title":"\u5173\u4e8e\u5e03\u5c40\u7684\u9002\u914d"},{"location":"adaption/#_6","text":"logo\u56fe\u6807\u5efa\u8bae\u6309\u7167\u5b98\u65b9\u6807\u51c6\u51c6\u5907\u597d\u56fe\u6807 \u5c4f\u5e55\u5bc6\u5ea6 \u5bf9\u5e94\u56fe\u7247\u5927\u5c0f(px) \u56fe\u7247\u8d44\u6e90\u76ee\u5f55 120dip(idpi) 36x36 mipmap-idpi 160dip(mdpi) 48x48 mipmap\u6216\u8005mipmap-mdpi 240dip(hdpi) 72x72 mipmap-hdpi 320dip(xhdpi) 96x96 mipmap-xhdpi 480dip(xxhdpi) 144x144 mipmap-xxhdpi 640dip(xxxhdpi) 192x192 mipmap-xxxhdpi \u666e\u901a\u56fe\u7247\u548c\u56fe\u6807 \u5efa\u8bae\u6309\u7167\u5b98\u65b9\u7684\u5bc6\u5ea6\u7c7b\u578b\u8fdb\u884c\u5207\u56fe\u5373\u53ef\uff0c\u4f46\u4e00\u822c\u6211\u4eec\u53ea\u9700xxhdpi\u6216xxxhdpi\u7684\u5207\u56fe\u5373\u53ef\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\uff1b \u81ea\u52a8\u62c9\u4f38\u56fe.9\u56fe\u7247\u7c7b\u578b\uff08\u6309\u94ae\uff09 \u52a8\u753b\u3001\u81ea\u5b9a\u4e49view\u3001shape imageView\u7684scaleType\u9002\u914d 1. android:scaleType=\u201ccenter\u201d \u4fdd\u6301\u539f\u56fe\u7684\u5927\u5c0f\uff0c\u663e\u793a\u5728ImageView\u7684\u4e2d\u5fc3\u3002\u5f53\u539f\u56fe\u7684size\u5927\u4e8eImageView\u7684size\u65f6\uff0c\u591a\u51fa\u6765\u7684\u90e8\u5206\u88ab\u622a\u6389\u3002 2. android:scaleType=\u201ccenter_inside\u201d \u4ee5\u539f\u56fe\u6b63\u5e38\u663e\u793a\u4e3a\u76ee\u7684\uff0c\u5982\u679c\u539f\u56fe\u5927\u5c0f\u5927\u4e8eImageView\u7684size\uff0c\u5c31\u6309\u7167\u6bd4\u4f8b\u7f29\u5c0f\u539f\u56fe\u7684\u5bbd\u9ad8\uff0c\u5c45\u4e2d\u663e\u793a\u5728ImageView\u4e2d\u3002\u5982\u679c\u539f\u56fesize\u5c0f\u4e8eImageView\u7684size\uff0c\u5219\u4e0d\u505a\u5904\u7406\u5c45\u4e2d\u663e\u793a\u56fe\u7247\u3002 3. android:scaleType=\u201ccenter_crop\u201d \u4ee5\u539f\u56fe\u586b\u6ee1ImageView\u4e3a\u76ee\u7684\uff0c\u5982\u679c\u539f\u56fesize\u5927\u4e8eImageView\u7684size\uff0c\u5219\u4e0ecenter_inside\u4e00\u6837\uff0c\u6309\u6bd4\u4f8b\u7f29\u5c0f\uff0c\u5c45\u4e2d\u663e\u793a\u5728ImageView\u4e0a\u3002\u5982\u679c\u539f\u56fesize\u5c0f\u4e8eImageView\u7684size\uff0c\u5219\u6309\u6bd4\u4f8b\u62c9\u5347\u539f\u56fe\u7684\u5bbd\u548c\u9ad8\uff0c\u586b\u5145ImageView\u5c45\u4e2d\u663e\u793a\u3002 4. android:scaleType=\u201cmatrix\u201d \u4e0d\u6539\u53d8\u539f\u56fe\u7684\u5927\u5c0f\uff0c\u4eceImageView\u7684\u5de6\u4e0a\u89d2\u5f00\u59cb\u7ed8\u5236\uff0c\u8d85\u51fa\u90e8\u5206\u505a\u526a\u5207\u5904\u7406\u3002 5. androd:scaleType=\u201cfit_xy\u201d \u628a\u56fe\u7247\u6309\u7167\u6307\u5b9a\u7684\u5927\u5c0f\u5728ImageView\u4e2d\u663e\u793a\uff0c\u62c9\u4f38\u663e\u793a\u56fe\u7247\uff0c\u4e0d\u4fdd\u6301\u539f\u6bd4\u4f8b\uff0c\u586b\u6ee1ImageView. 6. android:scaleType=\u201cfit_start\u201d \u628a\u539f\u56fe\u6309\u7167\u6bd4\u4f8b\u653e\u5927\u7f29\u5c0f\u5230ImageView\u7684\u9ad8\u5ea6\uff0c\u663e\u793a\u5728ImageView\u7684start\uff08\u524d\u90e8/\u4e0a\u90e8\uff09\u3002 7. android:sacleType=\u201cfit_center\u201d \u628a\u539f\u56fe\u6309\u7167\u6bd4\u4f8b\u653e\u5927\u7f29\u5c0f\u5230ImageView\u7684\u9ad8\u5ea6\uff0c\u663e\u793a\u5728ImageView\u7684center\uff08\u4e2d\u90e8/\u5c45\u4e2d\u663e\u793a\uff09\u3002 8. android:scaleType=\u201cfit_end\u201d \u628a\u539f\u56fe\u6309\u7167\u6bd4\u4f8b\u653e\u5927\u7f29\u5c0f\u5230ImageView\u7684\u9ad8\u5ea6\uff0c\u663e\u793a\u5728ImageVIew\u7684end\uff08\u540e\u90e8/\u5c3e\u90e8/\u5e95\u90e8\uff09 \u4ee3\u7801\u9002\u914d \u901a\u8fc7api\u6d4b\u91cf\u624b\u673a\u5c4f\u5e55\u5bbd\u9ad8\u5ea6\uff0c\u7136\u540e\u6839\u636e\u9700\u6c42\u6765\u8bbe\u7f6e \u63a5\u53e3\u9002\u914d \u672c\u5730\u52a0\u8f7d\u56fe\u7247\u524d\u5224\u65ad\u624b\u673a\u5206\u8fa8\u7387\u6216\u8005\u50cf\u7d20\u5bc6\u5ea6\uff0c\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u5bf9\u5e94\u7ea7\u522b\u56fe\u7247","title":"\u56fe\u7247\u9002\u914d"},{"location":"algorithm/","text":"HashMap \u6982\u5ff5 \u7528\u4e8e\u5b58\u50a8Key-Value\u952e\u503c\u5bf9\uff08entry\uff09\u7684\u96c6\u5408,\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u4e5f\u53eb\u505aentry,\u8fd9\u4e9bentry\u5206\u6563\u5b58\u50a8\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u8fd9\u4e2a\u6570\u7ec4\u5c31\u662fHashMap\u7684\u4e3b\u5e72\u3002 \u6bcf\u4e00\u4e2a\u5143\u7d20(entry)\u7684\u521d\u59cb\u503c\u90fd\u662fnull \u6700\u5e38\u7528\u7684get\u548cput\u65b9\u6cd5\u3002 put\u65b9\u6cd5\u539f\u7406 \u8c03\u7528hashMap.put(\"beauty\",0),\u63d2\u5165\u4e00\u4e2akey\u4e3a\"beauty\"\u7684\u5143\u7d20 index = hashcode(\"beauty\")&(hashMap.size-1) \u5047\u5b9a\u6700\u540e\u5f97\u51fa\u7684index\u4e3a2 \u4f46\u662f\u5f53\u63d2\u5165\u7684entry\u8d8a\u6765\u8d8a\u591a\uff0c\u96be\u514d\u4f1a\u51fa\u73b0index\u51b2\u7a81\u7684\u73b0\u8c61 HashMap\u7684\u6570\u7ec4\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u6b62\u662f\u4e00\u4e2aentry\u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u94fe\u8868\u7684\u5934\u8282\u70b9\uff0centry\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7next\u6307\u9488\u6307\u5411\u5b83\u7684\u4e0b\u4e00\u4e2aentry\u8282\u70b9,\u5f53\u65b0\u63d2\u5165\u7684entry\u9047\u5230\u51b2\u7a81\u7684\u6570\u7ec4\u4f4d\u7f6e\u65f6\uff0c\u76f4\u63a5\u63d2\u5165\u5230\u5bf9\u5e94\u7684\u94fe\u8868\u5373\u53ef\uff1a java8\u4e2d\u5f53\u94fe\u8868\u957f\u5ea6\u8d85\u8fc78\uff0c\u4f1a\u76f4\u63a5\u53d8\u6210\u7ea2\u9ed1\u6811 \u91c7\u7528\u7684\u662f\u201c\u5934\u63d2\u6cd5\u201d\uff0cHashMap\u521b\u9020\u8005\u8ba4\u4e3a\uff0c\u540e\u63d2\u5165\u7684\u5143\u7d20\u88ab\u67e5\u627e\u7684\u53ef\u80fd\u6027\u5927\u3002 get\u65b9\u6cd5 \u9996\u5148\u6839\u636e\u8f93\u5165\u7684key\u505a\u4e00\u6b21hash\u6620\u5c04\uff0c\u5f97\u5230index index = hashcode(key)&(hashMap.size()-1) \u540c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u6709\u53ef\u80fd\u5339\u914d\u5230\u591a\u4e2aentry, \u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u987a\u7740\u94fe\u8868\u7684\u5934\u8282\u70b9\u4e00\u4e2a\u4e00\u4e2a\u5411\u4e0b\u627e \u521d\u59cb\u5316\u957f\u5ea6 \u521d\u59cb\u5316\u957f\u5ea6\u4e3a16,\u540e\u9762\u589e\u957f \u957f\u5ea6\u662f2\u7684\u5e42 \u54c8\u5e0c\u51fd\u6570 index = hashcode(key)&(size-1) \u4f8b:\u8ba1\u7b97book\u7684index 1.\u8ba1\u7b97hashcode-\u5341\u8fdb\u52363029737\uff0c\u4e8c\u8fdb\u5236101110001110101110 1001 2.hashmap\u521d\u59cb\u5316\u957f\u5ea616,\u8ba1\u7b97length-1\u4e3a\u5341\u8fdb\u523615,\u4e8c\u8fdb\u52361111 3.\u4ee5\u4e0a\u4e24\u4e2a\u503c\u505a&\u8fd0\u7b97 101110001110101110 1001 & 1111 ------------------------- 1001 \u5bf9\u5e94\u7684\u5341\u8fdb\u52369\uff0c\u6240\u4ee5index = 9 index\u7ed3\u679c\u53d6\u51b3\u4e8ekey\u7684hashcode\u7684\u6700\u540e\u51e0\u4f4d \u957f\u5ea6\u4e3a16\u6216\u5176\u5b832\u7684\u5e42\uff0clength-1\u7684\u4e8c\u8fdb\u5236\u4f4d\u5168\u4e3a1\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0ekey\u7684hashcode\u505a&\u8fd0\u7b97\u7684\u7ed3\u679c\u7b49\u540c\u4e8ehashcode\u7684\u540e\u51e0\u4f4d\u7684\u503c\uff0c\u53ea\u8981\u8f93\u5165\u7684hashcode\u672c\u8eab\u5747\u5300\uff0chash\u7b97\u6cd5\u7684\u7ed3\u679c\u5c31\u662f\u5747\u5300\u7684\u3002 \u9ad8\u5e76\u53d1\u4e0b\u7684HashMap Hashmap\u7684\u5bb9\u91cf\u662f\u6709\u9650\u7684\uff0c\u8fbe\u5230\u5bb9\u91cf\u7684\u65f6\u5019\u9700\u8981\u6269\u5bb9\uff0cresize \u662f\u5426\u8fdb\u884cresize\u7684\u6761\u4ef6\u5982\u4e0b HashMap.size()>=Capacity LoadFactor Capacity:HashMap\u7684\u5f53\u524d\u957f\u5ea6\uff0cHash\u7684\u957f\u5ea6\u662f2\u7684\u5e42 LoadFactor:HashMap\u8d1f\u8f7d\u56e0\u5b50\uff0c\u9ed8\u8ba4\u662f0.75f resize\u505a\u4e86\u4e24\u4ef6\u4e8b\u60c5\uff1a 1.\u6269\u5bb9 \u521b\u5efa\u65b0\u7684\u6570\u7ec4\u957f\u5ea6\u662f\u539f\u6765\u7684\u4e24\u500d 2.Rehash *\u4e3a\u4ec0\u4e48\u8981rehash\uff0c\u56e0\u4e3a\u957f\u5ea6\u53d1\u751f\u53d8\u5316\u540e\uff0c\u89c4\u5219\u4e5f\u968f\u4e4b\u53d1\u751f\u53d8\u5316\uff0c\u8ba1\u7b97index\u7684\u90a3\u4e2a\u65b9\u6cd5\u3002 HashMap\u662f\u975e\u7ebf\u7a0b\u5b89\u5168\u7684 rehash\u5728\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u51fa\u73b0\u94fe\u8868\u73af\uff0c\u5982\u4f55\u89e3\u51b3\uff1f\uff0c\u4f7f\u7528ConcurrentHashMap. \u4ec0\u4e48\u662fConcurrentHashMap\uff1f ConcurrentHashMap\u662f\u5982\u4f55\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u53c8\u662f\u600e\u4e48\u5b9e\u73b0\u641e\u7b11\u8bfb\u5199\u7684\uff1f ConCurrentHashMap\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e8c\u7ea7Hash\u8868\uff0c\u5b83\u7684\u4f18\u52bf\u5c31\u662f\u91c7\u7528\u4e86\u9501\u5206\u6bb5\u6280\u672f\uff0c\u6bcf\u4e2asegment\u90fd\u662f\u72ec\u7acb\u7684\uff0czegment\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\u3002 segment\u5199\u5165\u662f\u9700\u8981\u4e0a\u9501\u7684\uff0c\u540c\u4e00\u4e2asegment\u7684\u5199\u5165\u662f\u963b\u585e\u7684\uff0c\u6bcf\u4e2asegment\u6301\u6709\u4e00\u628a\u9501\uff0c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u7684\u540c\u65f6\uff0c\u964d\u4f4e\u4e86\u9501\u7684\u7c92\u5ea6\uff0c\u8ba9\u5e76\u53d1\u64cd\u4f5c\u6548\u7387\u66f4\u9ad8\u3002 put\u548cget\u539f\u7406 get\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u518d\u901a\u8fc7hash\u503c\uff0c\u5b9a\u4f4d\u5230segment\u4e2d\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e put\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u83b7\u53d6\u53ef\u91cd\u5165\u9501 \u518d\u901a\u8fc7hash,\u5b9a\u4f4d\u5230segment\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e \u63d2\u5165\u6216\u8005\u8986\u76d6entry\u5bf9\u8c61 \u91ca\u653e\u9501 3.size\u8ba1\u7b97\u539f\u7406 \u904d\u5386\u6240\u6709\u7684segment \u5c06segment\u7684\u5143\u7d20\u6570\u91cf\u7d2f\u52a0\u8d77\u6765 \u628asegment\u4fee\u6539\u6b21\u6570\u7d2f\u52a0\u8d77\u6765 \u603b\u4fee\u6539\u6b21\u6570\u662f\u5426\u5927\u4e8e\u4e0a\u4e00\u6b21\u4fee\u6539\u6b21\u6570\uff0c\u5982\u679c\u5927\u4e8e\u5219\u8bf4\u660e\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u6709\u4fee\u6539\uff0c\u91cd\u65b0\u7edf\u8ba1\uff0c\u5c1d\u8bd5\u6b21\u6570+1\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u8bf4\u660e\u6ca1\u6709\u4fee\u6539\uff0c\u7ed3\u675f\u7edf\u8ba1 \u91cd\u65b0\u6b21\u6570\u8d85\u8fc7\u9608\u503c\uff0c\u5bf9\u6bcf\u4e00\u4e2asegment\u52a0\u9501\uff0c\u91cd\u65b0\u7edf\u8ba1 conCurrentHashMap\u5728\u5bf9key\u8fdb\u884chash\u65f6\uff0c\u4e3a\u4e86\u5b9e\u73b0segment\u5747\u5300\u5206\u5e03\uff0c\u8fdb\u884c\u4e86\u4e24\u6b21hash \u7ea2\u9ed1\u6811 \uff08\u6570\u636e\u7ed3\u6784\uff09 \u4e8c\u53c9\u6811\u7684\u7279\u6027 1. \u5de6\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e\u5b83\u7684\u6839\u8282\u70b9\u7684\u503c 2. \u53f3\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5747\u5927\u4e8e\u6216\u8005\u7b49\u4e8e\u6839\u8282\u70b9\u7684\u503c 3. \u5de6\u53f3\u5b50\u6811\u4e5f\u5206\u522b\u4e3a\u4e8c\u53c9\u6392\u5e8f\u6811 \u4f8b\uff1a\u67e5\u627e10 1. \u4ece\u6839\u8282\u70b99\u5f00\u59cb\u627e\uff0c\u7531\u4e8e10\u5927\u4e8e9\uff0c\u8d70\u5230\u53f3\u5b69\u5b5013 2. \u7531\u4e8e10\u5c0f\u4e8e13\u8d70\u5230\u5de6\u5b69\u5b5011 3. \u7531\u4e8e10\u5c0f\u4e8e11\u8d70\u5230\u5de6\u5b69\u5b5010\uff0c\u7ed3\u675f \u4e8c\u5206\u67e5\u627e\u601d\u60f3\uff0c\u67e5\u627e\u7684\u6700\u5927\u6b21\u6570\u7b49\u4e8e\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u9ad8\u5ea6 \u63d2\u5165\u8282\u70b9\u4e5f\u662f\u5229\u7528\u76f8\u540c\u7684\u65b9\u6cd5 \u4e8c\u53c9\u6811\u7684\u7f3a\u70b9\uff1a \u4f8b\uff1a8\u30019\u300110\u8282\u70b9\u4f9d\u6b21\u63d2\u51651\u30012\u30013\u30014\u30015\u30016\uff0c\u5c31\u53d8\u6210\u5982\u4e0b\uff1a \u67e5\u627e\u7684\u6027\u80fd\u5927\u6253\u6298\u6263\uff0c\u51e0\u4e4e\u53d8\u6210\u4e86\u7ebf\u6027 \u5982\u4f55\u89e3\u51b3\u8fd9\u79cd\u4e0d\u5e73\u8861\uff1f\u7ea2\u9ed1\u6811 \u7ea2\u9ed1\u6811\u7279\u6027 \u8282\u70b9\u662f\u7ea2\u8272\u6216\u8005\u9ed1\u8272 \u6839\u8282\u70b9\u662f\u9ed1\u8272 \u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u7a7a\u7684\u9ed1\u8272\u8282\u70b9(null\u8282\u70b9) \u6bcf\u4e2a\u7ea2\u8272\u7684\u4e24\u4e2a\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272(\u4ece\u6bcf\u4e2a\u53f6\u5b50\u5230\u6839\u7684\u6240\u6709\u8def\u5f84\u4e0d\u80fd\u6709\u4e24\u4e2a\u8fde\u7eed\u7684\u7ea2\u8272\u8282\u70b9) \u4ece\u4efb\u4e00\u8282\u70b9\u5230\u53f6\u5b50\u7684\u6240\u6709\u8def\u5f84\u90fd\u5305\u542b\u76f8\u540c\u6570\u76ee\u7684\u9ed1\u8272\u8282\u70b9\u3002 \u8c03\u6574\u7ea2\u9ed1\u6811\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u53d8\u8272\u3001\u65cb\u8f6c\uff09 AES\u7b97\u6cd5\uff08\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff09 MD5\u548csha256\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5\uff0c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u4e3b\u8981\u7684\u4f5c\u7528\u662f\u5bf9\u4fe1\u606f\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u8fdb\u884c\u6821\u9a8c\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u53ef\u9006\uff0c\u4fdd\u8bc1\u79c1\u5bc6\u4fe1\u606f\u4e0d\u88ab\u6cc4\u6f0f\u3002 \u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff08\u5bc6\u94a5\u3001\u586b\u5145\u3001\u6a21\u5f0f\uff09 \u5bc6\u94a5\uff1aAES\u652f\u6301\u4e09\u79cd\u5bc6\u94a5\uff1a128\u4f4d\u3001192\u4f4d\u3001256\u4f4d,\u5b9e\u9645\u5c31\u662f\u5927\u5bb6\u5e73\u65f6\u8bf4\u7684AES128\\AES192\\AES256\u3002\u4ece\u5b89\u5168\u6027AES256\u6700\u9ad8\uff0cAES128\u6027\u80fd\u6700\u597d\uff0c\u52a0\u5bc6\u5904\u7406\u8f6e\u6570\u4e0d\u540c\u3002 \u586b\u5145 \u4ec0\u4e48\u662f\u5206\u7ec4\u52a0\u5bc6\uff1f AES\u52a0\u5bc6\u8fc7\u7a0b\uff1a AES\u5728\u5bf9\u660e\u6587\u8fdb\u884c\u52a0\u5bc6\u7684\u65f6\u5019\u5e76\u4e0d\u662f\u628a\u6574\u4e2a\u660e\u6587\u4e00\u80a1\u8111\u7684\u52a0\u5bc6\u6210\u4e00\u6574\u6bb5\u5bc6\u6587\uff0c\u800c\u662f\u628a\u660e\u6587\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u660e\u6587\u5757\uff0c\u6bcf\u4e2a\u660e\u6587\u5757\u7684\u957f\u5ea6\u662f128bit \u8fd9\u4e9b\u94ed\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u5668\u7684\u590d\u6742\u5904\u7406\uff0c\u751f\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u5bc6\u6587\u5757\uff0c\u8fd9\u4e9b\u5bc6\u6587\u5757\u62fc\u63a5\u5728\u4e00\u8d77\uff0c\u5c31\u662f\u6700\u7ec8\u7684AES\u52a0\u5bc6\u7ed3\u679c\u3002 \u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff1f\u52a0\u5165\u4e00\u6bb5\u660e\u6587\u662f192bit\uff0c\u62c6\u5206\u540e\u7b2c\u4e8c\u5757\u53ea\u670964bit\uff0c\u4e0d\u8db3128bit\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u586b\u5145\u3002 AES\u5728\u4e0d\u540c\u7684\u8bed\u8a00\u4e2d\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u586b\u5145\u7b97\u6cd5\uff0c\u5178\u578b\u7684\u51e0\u79cd: NoPadding:\u4e0d\u505a\u4efb\u4f55\u586b\u5145\uff0c\u4f46\u662f\u8981\u6c42\u660e\u6587\u5fc5\u987b\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\u3002 PKCS5Padding(\u9ed8\u8ba4):\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u4e2a\u5b57\u8282\uff08128bit\uff09,\u5728\u660e\u6587\u5757\u5c3e\u7aef\u8865\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u7b26\uff0c\u4e14\u6bcf\u4e2a\u5b57\u8282\u7684\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u8865\u5168\u4e3a{1,2,3,4,5,a,b,c,d,e,6,6,6,6,6,6} ISO126Padding:\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u5b57\u8282\uff08128bit\uff09\uff0c\u5728\u660e\u6587\u5757\u672b\u5c3e\u4e0d\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u8282\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\uff0c\u5176\u5b83\u5b57\u7b26\u968f\u673a\u586b\u5145\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u53ef\u80fd\u8865\u5168\u4e3a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e,6,7,8,#,G,6} \u6ce8\u610f\uff1aAES\u52a0\u5bc6\u7684\u65f6\u5019\u7528\u4e86\u67d0\u79cd\u586b\u5145\u65b9\u5f0f\uff0c\u89e3\u5bc6\u65f6\u4e5f\u5fc5\u987b\u91c7\u7528\u540c\u6837\u7684\u89e3\u5bc6\u65b9\u5f0f\u3002 \u6a21\u5f0f AES\u7684\u5de5\u4f5c\u6a21\u5f0f\uff0c\u4f53\u73b0\u5728\u628a\u660e\u6587\u5757\u52a0\u5bc6\u6210\u5bc6\u6587\u5757\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0cAES\u52a0\u5bc6\u7b97\u6cd5\u63d0\u4f9b\u4e86\u4e94\u79cd\u4e0d\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\uff1aECB,CBC,CTR,CFB,OFB \u6a21\u5f0f\u4e4b\u95f4\u7684\u4e3b\u4f53\u601d\u60f3\u662f\u8fd1\u4f3c\u7684\uff0c\u5904\u7406\u7ec6\u8282\u4e0a\u6709\u4e9b\u5dee\u522b ECB\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09\u7535\u7801\u672c\u6a21\u5f0fElectronic CodeBook Book CBC \u5bc6\u7801\u5206\u7ec4\u94fe\u63a5\u6a21\u5f0fCipher Block Chaining CTR \u8ba1\u7b97\u5668\u6a21\u5f0f Counter CFB \u5bc6\u7801\u53cd\u9988\u6a21\u5f0f Cipher FeedBack OFB \u8f93\u51fa\u53cd\u9988\u6a21\u5f0f OutputFeedBack \u540c\u6837\u5728\u52a0\u5bc6\u7684\u65f6\u5019\u4f7f\u7528\u67d0\u79cd\u5de5\u4f5c\u6a21\u5f0f\uff0c\u89e3\u5bc6\u4e5f\u5fc5\u987b\u91c7\u7528\u76f8\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\u3002 \u5728java\u4e2d\u7684\u5177\u4f53\u5b9e\u73b0 \u6ce8\u610f\uff1a\u8c03\u7528\u5c01\u88c5\u597d\u7684AES\u7b97\u6cd5\u65f6\uff0c\u8868\u9762\u4e0a\u4f7f\u7528\u7684key\u5e76\u4e0d\u662f\u771f\u6b63\u7528\u4e8eAES\u52a0\u89e3\u5bc6\u7684\u5bc6\u94a5\uff0c\u800c\u662f\u751f\u6210\u771f\u6b63\u5bc6\u94a5\u7684\u79cd\u5b50\u3002\u586b\u5145\u660e\u6587\u65f6\uff0c\u5982\u679c\u660e\u6587\u7684\u957f\u5ea6\u539f\u672c\u5c31\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\uff0c\u9664\u4e86Nopadding\u5916\uff0c\u5176\u5b83\u586b\u5145\u65b9\u5f0f\u90fd\u4f1a\u586b\u5145\u4e00\u7ec4\u989d\u5916\u768416\u5b57\u8282\u660e\u6587\u5757\u3002 AES\u7b97\u6cd5\u7684\u5e95\u5c42\u539f\u7406 \u4e00\u4e2a\u5b57\u8282\u7531\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u4f4d\u8868\u793a\uff0c00~ff\u8868\u793a0~255,\u4e00\u4e2a\u5b57\u8282\u521a\u597d\u4e5f\u53ef\u8868\u793a0~255 AES\u52a0\u5bc6\u4e0d\u662f\u4e00\u6b21\u628a\u660e\u6587\u52a0\u5bc6\u6210\u5bc6\u6587\uff0c\u800c\u662f\u7ecf\u8fc7\u5f88\u591a\u8f6e\u7684\u52a0\u5bc6 \u5177\u4f53\u9700\u8981\u591a\u5c11\u8bba\uff1f\u300b \u521d\u59cb\u8f6e (Initial Round) 1\u6b21 \u666e\u901a\u8f6e (Rounds) n\u6b21 \u6700\u7ec8\u8f6e (Final Round) 1\u6b21 \u9664\u53bb\u521d\u59cb\u8f6e\uff0c\u5404\u79cdKey\u957f\u5ea6\u5bf9\u5e94\u7684\u8f6e\u6570\u5982\u4e0b\uff1a AES128\uff1a10\u8f6e AES192\uff1a12\u8f6e AES256\uff1a14\u8f6e \u4e0d\u540c\u9636\u6bb5\u7684Round\u6709\u4e0d\u540c\u7684\u5904\u7406\u6b65\u9aa4\u3002 \u521d\u59cb\u8f6e\u53ea\u6709\u4e00\u4e2a\u6b65\u9aa4\uff1a \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u666e\u901a\u8f6e\u6709\u56db\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u5217\u6df7\u6dc6\uff08MixColumns\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u6700\u7ec8\u8f6e\u6709\u4e09\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u5b57\u8282\u66ff\u4ee3 subByte \u5341\u516d\u5b57\u8282\u7684\u660e\u6587\u5757\u5728\u7b2c\u4e00\u4e2a\u5904\u7406\u6b65\u9aa4\u4e2d\u88ab\u6392\u5217\u6210\u4e00\u4e2a4x4\u7684\u4e8c\u4f4d\u6570\u7ec4\uff0c\u5b57\u8282\u66ff\u4ee3\u5c31\u662f\u628a\u660e\u6587\u5757\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u66ff\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u5b57\u8282 \u66ff\u4ee3\u7684\u4f9d\u636e\u662f\u901a\u8fc7\u4e00\u4e2aS\u76d2(subtitution Box)\u768416x16\u5927\u5c0f\u4e8c\u7ef4\u5e38\u91cf\u6570\u7ec4\u3002 \u4f8b\u5982\u660e\u6587\u5757a[2,2]=5B \u4e00\u4e2a\u5b57\u8282\u662f\u4e24\u4f4d\u5341\u516d\u8fdb\u5236\u4f4d\uff0c\u90a3\u4e48\u8f93\u51fa\u503cb[2,2]=S[5,11] \u884c\u79fb\u4f4d shiftRows \u5982\u56fe\uff1a \u7b2c\u4e00\u884c\u4e0d\u53d8 \u7b2c\u4e8c\u884c\u5faa\u73af\u5de6\u79fb\u4e00\u4e2a\u5b57\u8282 \u7b2c\u4e09\u884c\u5faa\u73af\u5de6\u79fb\u4e24\u4e2a\u5b57\u8282 \u7b2c\u56db\u884c\u5faa\u73af\u5de6\u79fb\u4e09\u4e2a\u5b57\u8282 \u5217\u6df7\u6dc6MixColumns \u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u5217\u8981\u548c\u4e00\u4e2a\u660e\u6587\u4fee\u8865\u77e9\u9635(fix matrix)\u7684\u4e8c\u4f4d\u5e38\u91cf\u6570\u7ec4\u505a\u77e9\u9635\u76f8\u4e58\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u8f93\u51fa\u5217 \u52a0 \u8bba\u5bc6\u94a5(add round key) 128bit\u7684\u5bc6\u94a5\u540c\u6837\u88ab\u6392\u5217\u62104x4\u77e9\u9635 \u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282a[i,j]\u4e0e\u5bc6\u94a5\u5bf9\u5e94\u4f4d\u7f6e\u7684\u5b57\u8282k[i,j]\u5f02\u6216\u4e00\u6b21\u5c31\u751f\u6210\u4e86\u8f93\u51fa\u503cb[i,j] \u52a0\u5bc6\u6bcf\u4e00\u8f6e\u7528\u5230\u7684\u5bc6\u94a5\u662f\u4e0d\u540c\u7684 \u6269\u5c55\u5bc6\u94a5(KeyExpentions) AES\u6e90\u4ee3\u7801\u4e2d\u7528\u957f\u5ea6 4 * 4 *\uff0810+1\uff09 \u5b57\u8282\u7684\u6570\u7ec4W\u6765\u5b58\u50a8\u6240\u6709\u8f6e\u7684\u5bc6\u94a5\u3002W{0-15}\u7684\u503c\u7b49\u540c\u4e8e\u539f\u59cb\u5bc6\u94a5\u7684\u503c\uff0c\u7528\u4e8e\u4e3a\u521d\u59cb\u8f6e\u505a\u5904\u7406\u3002\u540e\u7eed\u6bcf\u4e00\u4e2a\u5143\u7d20W[i]\u90fd\u662f\u7531W[i-4]\u548cW[i-1]\u8ba1\u7b97\u800c\u6765\uff0c\u76f4\u5230\u6570\u7ec4W\u7684\u6240\u6709\u5143\u7d20\u90fd\u8d4b\u503c\u5b8c\u6210\u3002W\u6570\u7ec4\u5f53\u4e2d\uff0cW{0-15}\u7528\u4e8e\u521d\u59cb\u8f6e\u7684\u5904\u7406\uff0cW{16-31}\u7528\u4e8e\u7b2c1\u8f6e\u7684\u5904\u7406\uff0cW{32-47}\u7528\u4e8e\u7b2c2\u8f6e\u7684\u5904\u7406 ......\u4e00\u76f4\u5230W{160-175}\u7528\u4e8e\u6700\u7ec8\u8f6e\uff08\u7b2c10\u8f6e\uff09\u7684\u5904\u7406\u3002 \u4e0d\u540c\u5de5\u4f5c\u6a21\u5f0f\u5728\u52a0\u5bc6\u6d41\u7a0b\u4e2d\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f \u6240\u6709\u5de5\u4f5c\u6a21\u5f0f\u7684\u5dee\u522b\u90fd\u4f53\u73b0\u5728\u5b8f\u89c2\u4e0a\uff0c\u5373\u660e\u6587\u5757\u4e0e\u660e\u6587\u5757\u4e4b\u95f4\u7684\u5173\u8054\uff0cAES\u52a0\u5bc6\u5668\u7684\u5185\u90e8\u5904\u7406\u6d41\u7a0b\u90fd\u662f\u76f8\u540c\u7684\u3002 1. ECB\u6a21\u5f0f(electronoc CodeBook Book) \u6700\u7b80\u5355\u7684\u5de5\u4f5c\u6a21\u5f0f,\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u7684\u52a0\u5bc6\u5b8c\u5168\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6d89\u3002 \u4f18\u70b9:1.\u7b80\u53552.\u6709\u5229\u4e8e\u5e76\u884c\u8ba1\u7b97 \u7f3a\u70b9\uff1a\u76f8\u540c\u7684\u660e\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u4f1a\u53d8\u6210\u76f8\u540c\u7684\u5bc6\u6587\u5757\uff0c\u5b89\u5168\u6027\u8f83\u5dee CBC (Cipher Block Chainning) \u5f15\u5165\u4e86\u521d\u59cb\u5411\u91cf\u7684\u6982\u5ff5(Initialization Vector)\u3002iv\u7684\u4f5c\u7528\u6709\u70b9\u50cfMD5\u7684\u52a0\u76d0\uff0c\u9632\u6b62\u540c\u6837\u7684\u660e\u6587\u5757\u52a0\u5bc6\u6210\u540c\u6837\u7684\u5bc6\u6587\u5757\u3002 CBC\u6a21\u5f0f\u5728\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u52a0\u5bc6\u524d\u4f1a\u8ba9\u660e\u6587\u5757\u548c\u4e00\u4e2a\u503c\u505a\u5f02\u6216\u64cd\u4f5c\uff0cIV\u4f5c\u4e3a\u521d\u59cb\u5316\u5411\u91cf\uff0c\u53ea\u53c2\u4e0e\u7b2c\u4e00\u4e2a\u660e\u6587\u5757\u7684\u5f02\u6216\uff0c\u540e\u7eed\u7684\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u548c\u524d\u4e00\u4e2a\u660e\u6587\u5757\u6240\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u505a\u5f02\u6216\uff0c\u8fd9\u6837\u76f8\u540c\u7684\u660e\u6587\u5757\uff0c\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u663e\u7136\u662f\u4e0d\u4e00\u6837\u7684\u3002 \u4f18\u70b9\uff1a\u5b89\u5168\u6027\u66f4\u9ad8 \u7f3a\u70b9\uff1a1.\u65e0\u6cd5\u5e76\u884c\u8ba1\u7b97\uff0c\u6027\u80fd\u4e0a\u4e0d\u5982ECB2.\u5f15\u5165\u521d\u59cb\u5316\u5411\u91cfiv\u589e\u52a0\u590d\u6742\u5ea6 MD5 \u53ef\u4ee5\u4ece\u4efb\u610f\u957f\u5ea6\u7684\u660e\u6587\u5b57\u7b26\u4e32\u751f\u6210128\u4f4d\u7684\u54c8\u5e0c\u503c \u9a8c\u7b7e\u8fc7\u7a0b 1. \u6536\u96c6\u76f8\u5173\u4e1a\u52a1\u53c2\u6570\uff0c\u5728\u8fd9\u91cc\u65f6\u91d1\u989d\u548c\u76ee\u6807\u8d26\u6237\u3002 2. \u6309\u7167\u89c4\u5219\u628a\u53c2\u6570\u540d\u548c\u53c2\u6570\u503c\u62fc\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u540c\u65f6\u628a\u7ed9\u5b9a\u7684\u5bc6\u94a5\u4e5f\u62fc\u63a5\u8d77\u6765\uff0c\u4e4b\u6240\u4ee5\u9700\u8981\u5bc6\u94a5\uff0c\u662f\u56e0\u4e3a\u653b\u51fb\u8005\u53ef\u80fd\u4e5f\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u3002amout=1_acount=1234_key=abcd 3. \u5229\u7528MD5\u7b97\u6cd5\uff0c\u4ece\u539f\u6587\u751f\u6210hash\u503c\uff0cMD5\u751f\u6210\u7684\u54c8\u5e0c\u503c\u662f128\u7684\u4e8c\u8fdb\u5236\uff0c\u4e5f\u5c31\u662f32\u4f4d\u7684\u5341\u516d\u8fdb\u5236 4. \u53d1\u9001\u7684\u65f6\u5019\u9664\u4e86\u628a\u57fa\u672c\u8bf7\u6c42\u53c2\u6570\u5e26\u4e0a\uff0c\u628asign:ADE876ISHDFAKHDJ\u4e5f\u5e26\u4e0a 5.\u7b2c\u4e09\u65b9\u652f\u4ed8\u5e73\u53f0\u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u7684\u7b7e\u540d\uff1f\u4e09\u6b65 * \u53cc\u65b9\u7ea6\u5b9a\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u89c4\u5219\uff0c\u548c\u76f8\u540c\u7684\u5bc6\u94a5 * \u7b2c\u4e09\u65b9\u5e73\u53f0\u63a5\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u6309\u7167\u62fc\u63a5\u89c4\u5219\u62fc\u63a5\u4e1a\u52a1\u53c2\u6570\u548c\u5bc6\u94a5\uff0c\u5229\u7528MD5\u7b97\u6cd5\u751f\u6210sign * \u751f\u6210\u7684sign\u548c\u8bf7\u6c42\u5e26\u8fc7\u53bb\u7684sign\u505a\u5bf9\u6bd4\uff0c\u5982\u679c\u4e24\u4e2a\u503c\u76f8\u540c\u5219\u7b7e\u540d\u65e0\u8bef\uff0c\u4e24\u4e2a\u503c\u4e0d\u540c\u5219\u4fe1\u606f\u505a\u4e86\u7be1\u6539 \u5bc6\u94a5\u672c\u8eab\u4e0d\u76f4\u63a5\u4f20\u8f93\uff0c\u53ea\u53c2\u4e0esign\u7684\u62fc\u63a5\uff0c\u5982\u679c\u574f\u4eba\u65e2\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u53c8\u77e5\u9053\u5bc6\u94a5\uff0c\u53ea\u80fd\u901a\u8fc7\u4e1a\u52a1\u4e0a\u7684\u89c4\u5219\u6765\u9650\u5236\uff0c\u6bd4\u5982\u6700\u5927\u91d1\u989d\u7684\u9650\u5236 MD5\u5e95\u5c42\u539f\u7406 \u5206\u4e3a\u56db\u6b65\uff1a\u5904\u7406\u539f\u6587\uff0c\u8bbe\u7f6e\u521d\u59cb\u503c\uff0c\u5faa\u73af\u52a0\u5de5\uff0c\u62fc\u63a5\u7ed3\u679c 1. \u5904\u7406\u539f\u6587 \u9996\u5148\uff0c\u8ba1\u7b97\u539f\u6587\u7684\u957f\u5ea6(bit)\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u7b49\u4e8e448\uff0c\u5c31\u9700\u8981\u586b\u5145\u539f\u6587\u4f7f\u5f97\u539f\u6587\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\u7b49\u4e8e448.\u586b\u5145\u65b9\u6cd5\u5c31\u662f\u7b2c\u4e00\u4f4d\u586b\u51451\uff0c\u5176\u4f59\u4f4d\u586b\u51450\uff0c\u586b\u5145\u5b8c\u540e\uff0c\u4fe1\u606f\u7684\u957f\u5ea6\u5c31\u662f512*N+448 \u4e4b\u540e\u7528\u5269\u4f59\u7684\u4f4d\u7f6e\uff08512-448=64\uff09\u8bb0\u5f55\u539f\u6587\u7684\u771f\u6b63\u957f\u5ea6\uff0c\u628a\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u503c\u8865\u5728\u6700\u540e\u8fd9\u6837\u5904\u7406\u540e\u7684\u4fe1\u606f\u957f\u5ea6\u5c31\u662f512*\uff08N+1\uff09 \u8bbe\u7f6e\u521d\u59cb\u503c MD5\u7684\u54c8\u5e0c\u7ed3\u679c\u957f\u5ea6\u4e3a128\u4f4d\uff0c\u6309\u7167\u6bcf32\u4f4d\u4e00\u7ec4\u51714\u7ec4\uff0c4\u7ec4\u662f\u7531\u56db\u4e2a\u521d\u59cb\u5411\u91cf\u503cA,B,C,D\u7ecf\u8fc7\u4e0d\u65ad\u6f14\u53d8\u5f97\u5230\uff0cMD5\u7684\u5b98\u65b9\u5b9e\u8df5\u4e2dA,B,C,D\u7684\u521d\u59cb\u503c\u5982\u4e0b(\u5341\u516d\u8fdb\u5236)\uff1a A= 0x01234567 B= 0x89ABCDEF C= 0xFEDCBA98 D= 0x76543210 \u5faa\u73af\u52a0\u5de5 \u6700\u590d\u6742\u7684\u4e00\u6b65\uff0c\u4e0b\u56fe\u4ee3\u8868\u4e86\u5355\u6b21A,B,C,D\u6f14\u53d8\u7684\u6d41\u7a0b \u56fe\u4e2d\uff0cA\uff0cB\uff0cC\uff0cD\u5c31\u662f\u54c8\u5e0c\u503c\u7684\u56db\u4e2a\u5206\u7ec4\u3002\u6bcf\u4e00\u6b21\u5faa\u73af\u90fd\u4f1a\u8ba9\u65e7\u7684ABCD\u4ea7\u751f\u65b0\u7684ABCD\u3002\u4e00\u5171\u8fdb\u884c\u591a\u5c11\u6b21\u5faa\u73af\u5462\uff1f\u7531\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u51b3\u5b9a\u3002 \u5047\u8bbe\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u662fM \u4e3b\u5faa\u73af\u6b21\u6570 = M / 512 \u6bcf\u4e2a\u4e3b\u5faa\u73af\u4e2d\u5305\u542b 512 / 32 * 4 = 64 \u6b21 \u5b50\u5faa\u73af\u3002 \u4e0a\u9762\u8fd9\u5f20\u56fe\u6240\u8868\u8fbe\u7684\u5c31\u662f\u5355\u6b21\u5b50\u5faa\u73af\u7684\u6d41\u7a0b\u3002 1.\u7eff\u8272F \u56fe\u4e2d\u7684\u7eff\u8272F\uff0c\u4ee3\u8868\u975e\u7ebf\u6027\u51fd\u6570\u3002\u5b98\u65b9MD5\u6240\u7528\u5230\u7684\u51fd\u6570\u6709\u56db\u79cd\uff1a F(X, Y, Z) =(X&Y) | ((~X) & Z) G(X, Y, Z) =(X&Z) | (Y & (~Z)) H(X, Y, Z) =X^Y^Z I(X, Y, Z)=Y^(X|(~Z)) \u5728\u4e3b\u5faa\u73af\u4e0b\u976264\u6b21\u5b50\u5faa\u73af\u4e2d\uff0cF\u3001G\u3001H\u3001I \u4ea4\u66ff\u4f7f\u7528\uff0c\u7b2c\u4e00\u4e2a16\u6b21\u4f7f\u7528F\uff0c\u7b2c\u4e8c\u4e2a16\u6b21\u4f7f\u7528G\uff0c\u7b2c\u4e09\u4e2a16\u6b21\u4f7f\u7528H\uff0c\u7b2c\u56db\u4e2a16\u6b21\u4f7f\u7528I\u3002 2.\u7ea2\u8272\u201c\u7530\u201d\u5b57 \u5f88\u7b80\u5355\uff0c\u7ea2\u8272\u7684\u7530\u5b57\u4ee3\u8868\u76f8\u52a0\u7684\u610f\u601d\u3002 3.Mi Mi\u662f\u7b2c\u4e00\u6b65\u5904\u7406\u540e\u7684\u539f\u6587\u3002\u5728\u7b2c\u4e00\u6b65\u4e2d\uff0c\u5904\u7406\u540e\u539f\u6587\u7684\u957f\u5ea6\u662f512\u7684\u6574\u6570\u500d\u3002\u628a\u539f\u6587\u7684\u6bcf512\u4f4d\u518d\u5206\u621016\u7b49\u4efd\uff0c\u547d\u540d\u4e3aM0~M15\uff0c\u6bcf\u4e00\u7b49\u4efd\u957f\u5ea632\u3002\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf16\u6b21\u5faa\u73af\uff0c\u90fd\u4f1a\u4ea4\u66ff\u7528\u5230M1~M16\u4e4b\u4e00\u3002 4.Ki \u4e00\u4e2a\u5e38\u91cf\uff0c\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf\u4e00\u6b21\u7528\u5230\u7684\u5e38\u91cf\u90fd\u662f\u4e0d\u540c\u7684\u3002 5.\u9ec4\u8272\u7684<<<S \u5de6\u79fbS\u4f4d\uff0cS\u7684\u503c\u4e5f\u662f\u5e38\u91cf\u3002 \u201c\u6d41\u6c34\u7ebf\u201d\u7684\u6700\u540e\uff0c\u8ba9\u8ba1\u7b97\u7684\u7ed3\u679c\u548cB\u76f8\u52a0\uff0c\u53d6\u4ee3\u539f\u5148\u7684B\u3002\u65b0ABCD\u7684\u4ea7\u751f\u53ef\u4ee5\u5f52\u7eb3\u4e3a\uff1a \u65b0A = \u539fd \u65b0B = b+((a+F(b,c,d)+Mj+Ki)<<<s) \u65b0C = \u539fb \u65b0D = \u539fc Base64 \u6392\u5e8f \u5192\u6ce1\u7b97\u6cd5\u548c\u4f18\u5316","title":"\u7b97\u6cd5"},{"location":"algorithm/#hashmap","text":"","title":"HashMap"},{"location":"algorithm/#_1","text":"\u7528\u4e8e\u5b58\u50a8Key-Value\u952e\u503c\u5bf9\uff08entry\uff09\u7684\u96c6\u5408,\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u4e5f\u53eb\u505aentry,\u8fd9\u4e9bentry\u5206\u6563\u5b58\u50a8\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u8fd9\u4e2a\u6570\u7ec4\u5c31\u662fHashMap\u7684\u4e3b\u5e72\u3002 \u6bcf\u4e00\u4e2a\u5143\u7d20(entry)\u7684\u521d\u59cb\u503c\u90fd\u662fnull \u6700\u5e38\u7528\u7684get\u548cput\u65b9\u6cd5\u3002","title":"\u6982\u5ff5"},{"location":"algorithm/#put","text":"\u8c03\u7528hashMap.put(\"beauty\",0),\u63d2\u5165\u4e00\u4e2akey\u4e3a\"beauty\"\u7684\u5143\u7d20 index = hashcode(\"beauty\")&(hashMap.size-1) \u5047\u5b9a\u6700\u540e\u5f97\u51fa\u7684index\u4e3a2 \u4f46\u662f\u5f53\u63d2\u5165\u7684entry\u8d8a\u6765\u8d8a\u591a\uff0c\u96be\u514d\u4f1a\u51fa\u73b0index\u51b2\u7a81\u7684\u73b0\u8c61 HashMap\u7684\u6570\u7ec4\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u6b62\u662f\u4e00\u4e2aentry\u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u94fe\u8868\u7684\u5934\u8282\u70b9\uff0centry\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7next\u6307\u9488\u6307\u5411\u5b83\u7684\u4e0b\u4e00\u4e2aentry\u8282\u70b9,\u5f53\u65b0\u63d2\u5165\u7684entry\u9047\u5230\u51b2\u7a81\u7684\u6570\u7ec4\u4f4d\u7f6e\u65f6\uff0c\u76f4\u63a5\u63d2\u5165\u5230\u5bf9\u5e94\u7684\u94fe\u8868\u5373\u53ef\uff1a java8\u4e2d\u5f53\u94fe\u8868\u957f\u5ea6\u8d85\u8fc78\uff0c\u4f1a\u76f4\u63a5\u53d8\u6210\u7ea2\u9ed1\u6811 \u91c7\u7528\u7684\u662f\u201c\u5934\u63d2\u6cd5\u201d\uff0cHashMap\u521b\u9020\u8005\u8ba4\u4e3a\uff0c\u540e\u63d2\u5165\u7684\u5143\u7d20\u88ab\u67e5\u627e\u7684\u53ef\u80fd\u6027\u5927\u3002","title":"put\u65b9\u6cd5\u539f\u7406"},{"location":"algorithm/#get","text":"\u9996\u5148\u6839\u636e\u8f93\u5165\u7684key\u505a\u4e00\u6b21hash\u6620\u5c04\uff0c\u5f97\u5230index index = hashcode(key)&(hashMap.size()-1) \u540c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u6709\u53ef\u80fd\u5339\u914d\u5230\u591a\u4e2aentry, \u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u987a\u7740\u94fe\u8868\u7684\u5934\u8282\u70b9\u4e00\u4e2a\u4e00\u4e2a\u5411\u4e0b\u627e","title":"get\u65b9\u6cd5"},{"location":"algorithm/#_2","text":"\u521d\u59cb\u5316\u957f\u5ea6\u4e3a16,\u540e\u9762\u589e\u957f \u957f\u5ea6\u662f2\u7684\u5e42 \u54c8\u5e0c\u51fd\u6570 index = hashcode(key)&(size-1) \u4f8b:\u8ba1\u7b97book\u7684index 1.\u8ba1\u7b97hashcode-\u5341\u8fdb\u52363029737\uff0c\u4e8c\u8fdb\u5236101110001110101110 1001 2.hashmap\u521d\u59cb\u5316\u957f\u5ea616,\u8ba1\u7b97length-1\u4e3a\u5341\u8fdb\u523615,\u4e8c\u8fdb\u52361111 3.\u4ee5\u4e0a\u4e24\u4e2a\u503c\u505a&\u8fd0\u7b97 101110001110101110 1001 & 1111 ------------------------- 1001 \u5bf9\u5e94\u7684\u5341\u8fdb\u52369\uff0c\u6240\u4ee5index = 9 index\u7ed3\u679c\u53d6\u51b3\u4e8ekey\u7684hashcode\u7684\u6700\u540e\u51e0\u4f4d \u957f\u5ea6\u4e3a16\u6216\u5176\u5b832\u7684\u5e42\uff0clength-1\u7684\u4e8c\u8fdb\u5236\u4f4d\u5168\u4e3a1\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0ekey\u7684hashcode\u505a&\u8fd0\u7b97\u7684\u7ed3\u679c\u7b49\u540c\u4e8ehashcode\u7684\u540e\u51e0\u4f4d\u7684\u503c\uff0c\u53ea\u8981\u8f93\u5165\u7684hashcode\u672c\u8eab\u5747\u5300\uff0chash\u7b97\u6cd5\u7684\u7ed3\u679c\u5c31\u662f\u5747\u5300\u7684\u3002","title":"\u521d\u59cb\u5316\u957f\u5ea6"},{"location":"algorithm/#hashmap_1","text":"Hashmap\u7684\u5bb9\u91cf\u662f\u6709\u9650\u7684\uff0c\u8fbe\u5230\u5bb9\u91cf\u7684\u65f6\u5019\u9700\u8981\u6269\u5bb9\uff0cresize \u662f\u5426\u8fdb\u884cresize\u7684\u6761\u4ef6\u5982\u4e0b HashMap.size()>=Capacity LoadFactor Capacity:HashMap\u7684\u5f53\u524d\u957f\u5ea6\uff0cHash\u7684\u957f\u5ea6\u662f2\u7684\u5e42 LoadFactor:HashMap\u8d1f\u8f7d\u56e0\u5b50\uff0c\u9ed8\u8ba4\u662f0.75f resize\u505a\u4e86\u4e24\u4ef6\u4e8b\u60c5\uff1a 1.\u6269\u5bb9 \u521b\u5efa\u65b0\u7684\u6570\u7ec4\u957f\u5ea6\u662f\u539f\u6765\u7684\u4e24\u500d 2.Rehash *\u4e3a\u4ec0\u4e48\u8981rehash\uff0c\u56e0\u4e3a\u957f\u5ea6\u53d1\u751f\u53d8\u5316\u540e\uff0c\u89c4\u5219\u4e5f\u968f\u4e4b\u53d1\u751f\u53d8\u5316\uff0c\u8ba1\u7b97index\u7684\u90a3\u4e2a\u65b9\u6cd5\u3002 HashMap\u662f\u975e\u7ebf\u7a0b\u5b89\u5168\u7684 rehash\u5728\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u51fa\u73b0\u94fe\u8868\u73af\uff0c\u5982\u4f55\u89e3\u51b3\uff1f\uff0c\u4f7f\u7528ConcurrentHashMap.","title":"\u9ad8\u5e76\u53d1\u4e0b\u7684HashMap"},{"location":"algorithm/#concurrenthashmap","text":"ConcurrentHashMap\u662f\u5982\u4f55\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u53c8\u662f\u600e\u4e48\u5b9e\u73b0\u641e\u7b11\u8bfb\u5199\u7684\uff1f ConCurrentHashMap\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e8c\u7ea7Hash\u8868\uff0c\u5b83\u7684\u4f18\u52bf\u5c31\u662f\u91c7\u7528\u4e86\u9501\u5206\u6bb5\u6280\u672f\uff0c\u6bcf\u4e2asegment\u90fd\u662f\u72ec\u7acb\u7684\uff0czegment\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\u3002 segment\u5199\u5165\u662f\u9700\u8981\u4e0a\u9501\u7684\uff0c\u540c\u4e00\u4e2asegment\u7684\u5199\u5165\u662f\u963b\u585e\u7684\uff0c\u6bcf\u4e2asegment\u6301\u6709\u4e00\u628a\u9501\uff0c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u7684\u540c\u65f6\uff0c\u964d\u4f4e\u4e86\u9501\u7684\u7c92\u5ea6\uff0c\u8ba9\u5e76\u53d1\u64cd\u4f5c\u6548\u7387\u66f4\u9ad8\u3002","title":"\u4ec0\u4e48\u662fConcurrentHashMap\uff1f"},{"location":"algorithm/#putget","text":"get\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u518d\u901a\u8fc7hash\u503c\uff0c\u5b9a\u4f4d\u5230segment\u4e2d\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e put\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u83b7\u53d6\u53ef\u91cd\u5165\u9501 \u518d\u901a\u8fc7hash,\u5b9a\u4f4d\u5230segment\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e \u63d2\u5165\u6216\u8005\u8986\u76d6entry\u5bf9\u8c61 \u91ca\u653e\u9501 3.size\u8ba1\u7b97\u539f\u7406 \u904d\u5386\u6240\u6709\u7684segment \u5c06segment\u7684\u5143\u7d20\u6570\u91cf\u7d2f\u52a0\u8d77\u6765 \u628asegment\u4fee\u6539\u6b21\u6570\u7d2f\u52a0\u8d77\u6765 \u603b\u4fee\u6539\u6b21\u6570\u662f\u5426\u5927\u4e8e\u4e0a\u4e00\u6b21\u4fee\u6539\u6b21\u6570\uff0c\u5982\u679c\u5927\u4e8e\u5219\u8bf4\u660e\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u6709\u4fee\u6539\uff0c\u91cd\u65b0\u7edf\u8ba1\uff0c\u5c1d\u8bd5\u6b21\u6570+1\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u8bf4\u660e\u6ca1\u6709\u4fee\u6539\uff0c\u7ed3\u675f\u7edf\u8ba1 \u91cd\u65b0\u6b21\u6570\u8d85\u8fc7\u9608\u503c\uff0c\u5bf9\u6bcf\u4e00\u4e2asegment\u52a0\u9501\uff0c\u91cd\u65b0\u7edf\u8ba1 conCurrentHashMap\u5728\u5bf9key\u8fdb\u884chash\u65f6\uff0c\u4e3a\u4e86\u5b9e\u73b0segment\u5747\u5300\u5206\u5e03\uff0c\u8fdb\u884c\u4e86\u4e24\u6b21hash","title":"put\u548cget\u539f\u7406"},{"location":"algorithm/#_3","text":"","title":"\u7ea2\u9ed1\u6811  \uff08\u6570\u636e\u7ed3\u6784\uff09"},{"location":"algorithm/#_4","text":"1. \u5de6\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e\u5b83\u7684\u6839\u8282\u70b9\u7684\u503c 2. \u53f3\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5747\u5927\u4e8e\u6216\u8005\u7b49\u4e8e\u6839\u8282\u70b9\u7684\u503c 3. \u5de6\u53f3\u5b50\u6811\u4e5f\u5206\u522b\u4e3a\u4e8c\u53c9\u6392\u5e8f\u6811 \u4f8b\uff1a\u67e5\u627e10 1. \u4ece\u6839\u8282\u70b99\u5f00\u59cb\u627e\uff0c\u7531\u4e8e10\u5927\u4e8e9\uff0c\u8d70\u5230\u53f3\u5b69\u5b5013 2. \u7531\u4e8e10\u5c0f\u4e8e13\u8d70\u5230\u5de6\u5b69\u5b5011 3. \u7531\u4e8e10\u5c0f\u4e8e11\u8d70\u5230\u5de6\u5b69\u5b5010\uff0c\u7ed3\u675f \u4e8c\u5206\u67e5\u627e\u601d\u60f3\uff0c\u67e5\u627e\u7684\u6700\u5927\u6b21\u6570\u7b49\u4e8e\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u9ad8\u5ea6 \u63d2\u5165\u8282\u70b9\u4e5f\u662f\u5229\u7528\u76f8\u540c\u7684\u65b9\u6cd5 \u4e8c\u53c9\u6811\u7684\u7f3a\u70b9\uff1a \u4f8b\uff1a8\u30019\u300110\u8282\u70b9\u4f9d\u6b21\u63d2\u51651\u30012\u30013\u30014\u30015\u30016\uff0c\u5c31\u53d8\u6210\u5982\u4e0b\uff1a \u67e5\u627e\u7684\u6027\u80fd\u5927\u6253\u6298\u6263\uff0c\u51e0\u4e4e\u53d8\u6210\u4e86\u7ebf\u6027 \u5982\u4f55\u89e3\u51b3\u8fd9\u79cd\u4e0d\u5e73\u8861\uff1f\u7ea2\u9ed1\u6811","title":"\u4e8c\u53c9\u6811\u7684\u7279\u6027"},{"location":"algorithm/#_5","text":"\u8282\u70b9\u662f\u7ea2\u8272\u6216\u8005\u9ed1\u8272 \u6839\u8282\u70b9\u662f\u9ed1\u8272 \u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u7a7a\u7684\u9ed1\u8272\u8282\u70b9(null\u8282\u70b9) \u6bcf\u4e2a\u7ea2\u8272\u7684\u4e24\u4e2a\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272(\u4ece\u6bcf\u4e2a\u53f6\u5b50\u5230\u6839\u7684\u6240\u6709\u8def\u5f84\u4e0d\u80fd\u6709\u4e24\u4e2a\u8fde\u7eed\u7684\u7ea2\u8272\u8282\u70b9) \u4ece\u4efb\u4e00\u8282\u70b9\u5230\u53f6\u5b50\u7684\u6240\u6709\u8def\u5f84\u90fd\u5305\u542b\u76f8\u540c\u6570\u76ee\u7684\u9ed1\u8272\u8282\u70b9\u3002","title":"\u7ea2\u9ed1\u6811\u7279\u6027"},{"location":"algorithm/#_6","text":"","title":"\u8c03\u6574\u7ea2\u9ed1\u6811\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u53d8\u8272\u3001\u65cb\u8f6c\uff09"},{"location":"algorithm/#aes","text":"MD5\u548csha256\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5\uff0c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u4e3b\u8981\u7684\u4f5c\u7528\u662f\u5bf9\u4fe1\u606f\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u8fdb\u884c\u6821\u9a8c\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u53ef\u9006\uff0c\u4fdd\u8bc1\u79c1\u5bc6\u4fe1\u606f\u4e0d\u88ab\u6cc4\u6f0f\u3002","title":"AES\u7b97\u6cd5\uff08\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff09"},{"location":"algorithm/#_7","text":"\u5bc6\u94a5\uff1aAES\u652f\u6301\u4e09\u79cd\u5bc6\u94a5\uff1a128\u4f4d\u3001192\u4f4d\u3001256\u4f4d,\u5b9e\u9645\u5c31\u662f\u5927\u5bb6\u5e73\u65f6\u8bf4\u7684AES128\\AES192\\AES256\u3002\u4ece\u5b89\u5168\u6027AES256\u6700\u9ad8\uff0cAES128\u6027\u80fd\u6700\u597d\uff0c\u52a0\u5bc6\u5904\u7406\u8f6e\u6570\u4e0d\u540c\u3002 \u586b\u5145 \u4ec0\u4e48\u662f\u5206\u7ec4\u52a0\u5bc6\uff1f AES\u52a0\u5bc6\u8fc7\u7a0b\uff1a AES\u5728\u5bf9\u660e\u6587\u8fdb\u884c\u52a0\u5bc6\u7684\u65f6\u5019\u5e76\u4e0d\u662f\u628a\u6574\u4e2a\u660e\u6587\u4e00\u80a1\u8111\u7684\u52a0\u5bc6\u6210\u4e00\u6574\u6bb5\u5bc6\u6587\uff0c\u800c\u662f\u628a\u660e\u6587\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u660e\u6587\u5757\uff0c\u6bcf\u4e2a\u660e\u6587\u5757\u7684\u957f\u5ea6\u662f128bit \u8fd9\u4e9b\u94ed\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u5668\u7684\u590d\u6742\u5904\u7406\uff0c\u751f\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u5bc6\u6587\u5757\uff0c\u8fd9\u4e9b\u5bc6\u6587\u5757\u62fc\u63a5\u5728\u4e00\u8d77\uff0c\u5c31\u662f\u6700\u7ec8\u7684AES\u52a0\u5bc6\u7ed3\u679c\u3002 \u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff1f\u52a0\u5165\u4e00\u6bb5\u660e\u6587\u662f192bit\uff0c\u62c6\u5206\u540e\u7b2c\u4e8c\u5757\u53ea\u670964bit\uff0c\u4e0d\u8db3128bit\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u586b\u5145\u3002 AES\u5728\u4e0d\u540c\u7684\u8bed\u8a00\u4e2d\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u586b\u5145\u7b97\u6cd5\uff0c\u5178\u578b\u7684\u51e0\u79cd: NoPadding:\u4e0d\u505a\u4efb\u4f55\u586b\u5145\uff0c\u4f46\u662f\u8981\u6c42\u660e\u6587\u5fc5\u987b\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\u3002 PKCS5Padding(\u9ed8\u8ba4):\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u4e2a\u5b57\u8282\uff08128bit\uff09,\u5728\u660e\u6587\u5757\u5c3e\u7aef\u8865\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u7b26\uff0c\u4e14\u6bcf\u4e2a\u5b57\u8282\u7684\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u8865\u5168\u4e3a{1,2,3,4,5,a,b,c,d,e,6,6,6,6,6,6} ISO126Padding:\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u5b57\u8282\uff08128bit\uff09\uff0c\u5728\u660e\u6587\u5757\u672b\u5c3e\u4e0d\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u8282\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\uff0c\u5176\u5b83\u5b57\u7b26\u968f\u673a\u586b\u5145\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u53ef\u80fd\u8865\u5168\u4e3a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e,6,7,8,#,G,6} \u6ce8\u610f\uff1aAES\u52a0\u5bc6\u7684\u65f6\u5019\u7528\u4e86\u67d0\u79cd\u586b\u5145\u65b9\u5f0f\uff0c\u89e3\u5bc6\u65f6\u4e5f\u5fc5\u987b\u91c7\u7528\u540c\u6837\u7684\u89e3\u5bc6\u65b9\u5f0f\u3002 \u6a21\u5f0f AES\u7684\u5de5\u4f5c\u6a21\u5f0f\uff0c\u4f53\u73b0\u5728\u628a\u660e\u6587\u5757\u52a0\u5bc6\u6210\u5bc6\u6587\u5757\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0cAES\u52a0\u5bc6\u7b97\u6cd5\u63d0\u4f9b\u4e86\u4e94\u79cd\u4e0d\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\uff1aECB,CBC,CTR,CFB,OFB \u6a21\u5f0f\u4e4b\u95f4\u7684\u4e3b\u4f53\u601d\u60f3\u662f\u8fd1\u4f3c\u7684\uff0c\u5904\u7406\u7ec6\u8282\u4e0a\u6709\u4e9b\u5dee\u522b ECB\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09\u7535\u7801\u672c\u6a21\u5f0fElectronic CodeBook Book CBC \u5bc6\u7801\u5206\u7ec4\u94fe\u63a5\u6a21\u5f0fCipher Block Chaining CTR \u8ba1\u7b97\u5668\u6a21\u5f0f Counter CFB \u5bc6\u7801\u53cd\u9988\u6a21\u5f0f Cipher FeedBack OFB \u8f93\u51fa\u53cd\u9988\u6a21\u5f0f OutputFeedBack \u540c\u6837\u5728\u52a0\u5bc6\u7684\u65f6\u5019\u4f7f\u7528\u67d0\u79cd\u5de5\u4f5c\u6a21\u5f0f\uff0c\u89e3\u5bc6\u4e5f\u5fc5\u987b\u91c7\u7528\u76f8\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\u3002","title":"\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff08\u5bc6\u94a5\u3001\u586b\u5145\u3001\u6a21\u5f0f\uff09"},{"location":"algorithm/#java","text":"\u6ce8\u610f\uff1a\u8c03\u7528\u5c01\u88c5\u597d\u7684AES\u7b97\u6cd5\u65f6\uff0c\u8868\u9762\u4e0a\u4f7f\u7528\u7684key\u5e76\u4e0d\u662f\u771f\u6b63\u7528\u4e8eAES\u52a0\u89e3\u5bc6\u7684\u5bc6\u94a5\uff0c\u800c\u662f\u751f\u6210\u771f\u6b63\u5bc6\u94a5\u7684\u79cd\u5b50\u3002\u586b\u5145\u660e\u6587\u65f6\uff0c\u5982\u679c\u660e\u6587\u7684\u957f\u5ea6\u539f\u672c\u5c31\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\uff0c\u9664\u4e86Nopadding\u5916\uff0c\u5176\u5b83\u586b\u5145\u65b9\u5f0f\u90fd\u4f1a\u586b\u5145\u4e00\u7ec4\u989d\u5916\u768416\u5b57\u8282\u660e\u6587\u5757\u3002","title":"\u5728java\u4e2d\u7684\u5177\u4f53\u5b9e\u73b0"},{"location":"algorithm/#aes_1","text":"\u4e00\u4e2a\u5b57\u8282\u7531\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u4f4d\u8868\u793a\uff0c00~ff\u8868\u793a0~255,\u4e00\u4e2a\u5b57\u8282\u521a\u597d\u4e5f\u53ef\u8868\u793a0~255 AES\u52a0\u5bc6\u4e0d\u662f\u4e00\u6b21\u628a\u660e\u6587\u52a0\u5bc6\u6210\u5bc6\u6587\uff0c\u800c\u662f\u7ecf\u8fc7\u5f88\u591a\u8f6e\u7684\u52a0\u5bc6 \u5177\u4f53\u9700\u8981\u591a\u5c11\u8bba\uff1f\u300b \u521d\u59cb\u8f6e (Initial Round) 1\u6b21 \u666e\u901a\u8f6e (Rounds) n\u6b21 \u6700\u7ec8\u8f6e (Final Round) 1\u6b21 \u9664\u53bb\u521d\u59cb\u8f6e\uff0c\u5404\u79cdKey\u957f\u5ea6\u5bf9\u5e94\u7684\u8f6e\u6570\u5982\u4e0b\uff1a AES128\uff1a10\u8f6e AES192\uff1a12\u8f6e AES256\uff1a14\u8f6e \u4e0d\u540c\u9636\u6bb5\u7684Round\u6709\u4e0d\u540c\u7684\u5904\u7406\u6b65\u9aa4\u3002 \u521d\u59cb\u8f6e\u53ea\u6709\u4e00\u4e2a\u6b65\u9aa4\uff1a \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u666e\u901a\u8f6e\u6709\u56db\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u5217\u6df7\u6dc6\uff08MixColumns\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u6700\u7ec8\u8f6e\u6709\u4e09\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09","title":"AES\u7b97\u6cd5\u7684\u5e95\u5c42\u539f\u7406"},{"location":"algorithm/#subbyte","text":"\u5341\u516d\u5b57\u8282\u7684\u660e\u6587\u5757\u5728\u7b2c\u4e00\u4e2a\u5904\u7406\u6b65\u9aa4\u4e2d\u88ab\u6392\u5217\u6210\u4e00\u4e2a4x4\u7684\u4e8c\u4f4d\u6570\u7ec4\uff0c\u5b57\u8282\u66ff\u4ee3\u5c31\u662f\u628a\u660e\u6587\u5757\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u66ff\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u5b57\u8282 \u66ff\u4ee3\u7684\u4f9d\u636e\u662f\u901a\u8fc7\u4e00\u4e2aS\u76d2(subtitution Box)\u768416x16\u5927\u5c0f\u4e8c\u7ef4\u5e38\u91cf\u6570\u7ec4\u3002 \u4f8b\u5982\u660e\u6587\u5757a[2,2]=5B \u4e00\u4e2a\u5b57\u8282\u662f\u4e24\u4f4d\u5341\u516d\u8fdb\u5236\u4f4d\uff0c\u90a3\u4e48\u8f93\u51fa\u503cb[2,2]=S[5,11]","title":"\u5b57\u8282\u66ff\u4ee3 subByte"},{"location":"algorithm/#shiftrows","text":"\u5982\u56fe\uff1a \u7b2c\u4e00\u884c\u4e0d\u53d8 \u7b2c\u4e8c\u884c\u5faa\u73af\u5de6\u79fb\u4e00\u4e2a\u5b57\u8282 \u7b2c\u4e09\u884c\u5faa\u73af\u5de6\u79fb\u4e24\u4e2a\u5b57\u8282 \u7b2c\u56db\u884c\u5faa\u73af\u5de6\u79fb\u4e09\u4e2a\u5b57\u8282","title":"\u884c\u79fb\u4f4d shiftRows"},{"location":"algorithm/#mixcolumns","text":"\u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u5217\u8981\u548c\u4e00\u4e2a\u660e\u6587\u4fee\u8865\u77e9\u9635(fix matrix)\u7684\u4e8c\u4f4d\u5e38\u91cf\u6570\u7ec4\u505a\u77e9\u9635\u76f8\u4e58\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u8f93\u51fa\u5217","title":"\u5217\u6df7\u6dc6MixColumns"},{"location":"algorithm/#add-round-key","text":"128bit\u7684\u5bc6\u94a5\u540c\u6837\u88ab\u6392\u5217\u62104x4\u77e9\u9635 \u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282a[i,j]\u4e0e\u5bc6\u94a5\u5bf9\u5e94\u4f4d\u7f6e\u7684\u5b57\u8282k[i,j]\u5f02\u6216\u4e00\u6b21\u5c31\u751f\u6210\u4e86\u8f93\u51fa\u503cb[i,j] \u52a0\u5bc6\u6bcf\u4e00\u8f6e\u7528\u5230\u7684\u5bc6\u94a5\u662f\u4e0d\u540c\u7684 \u6269\u5c55\u5bc6\u94a5(KeyExpentions) AES\u6e90\u4ee3\u7801\u4e2d\u7528\u957f\u5ea6 4 * 4 *\uff0810+1\uff09 \u5b57\u8282\u7684\u6570\u7ec4W\u6765\u5b58\u50a8\u6240\u6709\u8f6e\u7684\u5bc6\u94a5\u3002W{0-15}\u7684\u503c\u7b49\u540c\u4e8e\u539f\u59cb\u5bc6\u94a5\u7684\u503c\uff0c\u7528\u4e8e\u4e3a\u521d\u59cb\u8f6e\u505a\u5904\u7406\u3002\u540e\u7eed\u6bcf\u4e00\u4e2a\u5143\u7d20W[i]\u90fd\u662f\u7531W[i-4]\u548cW[i-1]\u8ba1\u7b97\u800c\u6765\uff0c\u76f4\u5230\u6570\u7ec4W\u7684\u6240\u6709\u5143\u7d20\u90fd\u8d4b\u503c\u5b8c\u6210\u3002W\u6570\u7ec4\u5f53\u4e2d\uff0cW{0-15}\u7528\u4e8e\u521d\u59cb\u8f6e\u7684\u5904\u7406\uff0cW{16-31}\u7528\u4e8e\u7b2c1\u8f6e\u7684\u5904\u7406\uff0cW{32-47}\u7528\u4e8e\u7b2c2\u8f6e\u7684\u5904\u7406 ......\u4e00\u76f4\u5230W{160-175}\u7528\u4e8e\u6700\u7ec8\u8f6e\uff08\u7b2c10\u8f6e\uff09\u7684\u5904\u7406\u3002","title":"\u52a0 \u8bba\u5bc6\u94a5(add round key)"},{"location":"algorithm/#_8","text":"\u6240\u6709\u5de5\u4f5c\u6a21\u5f0f\u7684\u5dee\u522b\u90fd\u4f53\u73b0\u5728\u5b8f\u89c2\u4e0a\uff0c\u5373\u660e\u6587\u5757\u4e0e\u660e\u6587\u5757\u4e4b\u95f4\u7684\u5173\u8054\uff0cAES\u52a0\u5bc6\u5668\u7684\u5185\u90e8\u5904\u7406\u6d41\u7a0b\u90fd\u662f\u76f8\u540c\u7684\u3002 1. ECB\u6a21\u5f0f(electronoc CodeBook Book) \u6700\u7b80\u5355\u7684\u5de5\u4f5c\u6a21\u5f0f,\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u7684\u52a0\u5bc6\u5b8c\u5168\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6d89\u3002 \u4f18\u70b9:1.\u7b80\u53552.\u6709\u5229\u4e8e\u5e76\u884c\u8ba1\u7b97 \u7f3a\u70b9\uff1a\u76f8\u540c\u7684\u660e\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u4f1a\u53d8\u6210\u76f8\u540c\u7684\u5bc6\u6587\u5757\uff0c\u5b89\u5168\u6027\u8f83\u5dee CBC (Cipher Block Chainning) \u5f15\u5165\u4e86\u521d\u59cb\u5411\u91cf\u7684\u6982\u5ff5(Initialization Vector)\u3002iv\u7684\u4f5c\u7528\u6709\u70b9\u50cfMD5\u7684\u52a0\u76d0\uff0c\u9632\u6b62\u540c\u6837\u7684\u660e\u6587\u5757\u52a0\u5bc6\u6210\u540c\u6837\u7684\u5bc6\u6587\u5757\u3002 CBC\u6a21\u5f0f\u5728\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u52a0\u5bc6\u524d\u4f1a\u8ba9\u660e\u6587\u5757\u548c\u4e00\u4e2a\u503c\u505a\u5f02\u6216\u64cd\u4f5c\uff0cIV\u4f5c\u4e3a\u521d\u59cb\u5316\u5411\u91cf\uff0c\u53ea\u53c2\u4e0e\u7b2c\u4e00\u4e2a\u660e\u6587\u5757\u7684\u5f02\u6216\uff0c\u540e\u7eed\u7684\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u548c\u524d\u4e00\u4e2a\u660e\u6587\u5757\u6240\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u505a\u5f02\u6216\uff0c\u8fd9\u6837\u76f8\u540c\u7684\u660e\u6587\u5757\uff0c\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u663e\u7136\u662f\u4e0d\u4e00\u6837\u7684\u3002 \u4f18\u70b9\uff1a\u5b89\u5168\u6027\u66f4\u9ad8 \u7f3a\u70b9\uff1a1.\u65e0\u6cd5\u5e76\u884c\u8ba1\u7b97\uff0c\u6027\u80fd\u4e0a\u4e0d\u5982ECB2.\u5f15\u5165\u521d\u59cb\u5316\u5411\u91cfiv\u589e\u52a0\u590d\u6742\u5ea6","title":"\u4e0d\u540c\u5de5\u4f5c\u6a21\u5f0f\u5728\u52a0\u5bc6\u6d41\u7a0b\u4e2d\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f"},{"location":"algorithm/#md5","text":"\u53ef\u4ee5\u4ece\u4efb\u610f\u957f\u5ea6\u7684\u660e\u6587\u5b57\u7b26\u4e32\u751f\u6210128\u4f4d\u7684\u54c8\u5e0c\u503c","title":"MD5"},{"location":"algorithm/#_9","text":"1. \u6536\u96c6\u76f8\u5173\u4e1a\u52a1\u53c2\u6570\uff0c\u5728\u8fd9\u91cc\u65f6\u91d1\u989d\u548c\u76ee\u6807\u8d26\u6237\u3002 2. \u6309\u7167\u89c4\u5219\u628a\u53c2\u6570\u540d\u548c\u53c2\u6570\u503c\u62fc\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u540c\u65f6\u628a\u7ed9\u5b9a\u7684\u5bc6\u94a5\u4e5f\u62fc\u63a5\u8d77\u6765\uff0c\u4e4b\u6240\u4ee5\u9700\u8981\u5bc6\u94a5\uff0c\u662f\u56e0\u4e3a\u653b\u51fb\u8005\u53ef\u80fd\u4e5f\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u3002amout=1_acount=1234_key=abcd 3. \u5229\u7528MD5\u7b97\u6cd5\uff0c\u4ece\u539f\u6587\u751f\u6210hash\u503c\uff0cMD5\u751f\u6210\u7684\u54c8\u5e0c\u503c\u662f128\u7684\u4e8c\u8fdb\u5236\uff0c\u4e5f\u5c31\u662f32\u4f4d\u7684\u5341\u516d\u8fdb\u5236 4. \u53d1\u9001\u7684\u65f6\u5019\u9664\u4e86\u628a\u57fa\u672c\u8bf7\u6c42\u53c2\u6570\u5e26\u4e0a\uff0c\u628asign:ADE876ISHDFAKHDJ\u4e5f\u5e26\u4e0a 5.\u7b2c\u4e09\u65b9\u652f\u4ed8\u5e73\u53f0\u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u7684\u7b7e\u540d\uff1f\u4e09\u6b65 * \u53cc\u65b9\u7ea6\u5b9a\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u89c4\u5219\uff0c\u548c\u76f8\u540c\u7684\u5bc6\u94a5 * \u7b2c\u4e09\u65b9\u5e73\u53f0\u63a5\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u6309\u7167\u62fc\u63a5\u89c4\u5219\u62fc\u63a5\u4e1a\u52a1\u53c2\u6570\u548c\u5bc6\u94a5\uff0c\u5229\u7528MD5\u7b97\u6cd5\u751f\u6210sign * \u751f\u6210\u7684sign\u548c\u8bf7\u6c42\u5e26\u8fc7\u53bb\u7684sign\u505a\u5bf9\u6bd4\uff0c\u5982\u679c\u4e24\u4e2a\u503c\u76f8\u540c\u5219\u7b7e\u540d\u65e0\u8bef\uff0c\u4e24\u4e2a\u503c\u4e0d\u540c\u5219\u4fe1\u606f\u505a\u4e86\u7be1\u6539 \u5bc6\u94a5\u672c\u8eab\u4e0d\u76f4\u63a5\u4f20\u8f93\uff0c\u53ea\u53c2\u4e0esign\u7684\u62fc\u63a5\uff0c\u5982\u679c\u574f\u4eba\u65e2\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u53c8\u77e5\u9053\u5bc6\u94a5\uff0c\u53ea\u80fd\u901a\u8fc7\u4e1a\u52a1\u4e0a\u7684\u89c4\u5219\u6765\u9650\u5236\uff0c\u6bd4\u5982\u6700\u5927\u91d1\u989d\u7684\u9650\u5236","title":"\u9a8c\u7b7e\u8fc7\u7a0b"},{"location":"algorithm/#md5_1","text":"\u5206\u4e3a\u56db\u6b65\uff1a\u5904\u7406\u539f\u6587\uff0c\u8bbe\u7f6e\u521d\u59cb\u503c\uff0c\u5faa\u73af\u52a0\u5de5\uff0c\u62fc\u63a5\u7ed3\u679c 1. \u5904\u7406\u539f\u6587 \u9996\u5148\uff0c\u8ba1\u7b97\u539f\u6587\u7684\u957f\u5ea6(bit)\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u7b49\u4e8e448\uff0c\u5c31\u9700\u8981\u586b\u5145\u539f\u6587\u4f7f\u5f97\u539f\u6587\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\u7b49\u4e8e448.\u586b\u5145\u65b9\u6cd5\u5c31\u662f\u7b2c\u4e00\u4f4d\u586b\u51451\uff0c\u5176\u4f59\u4f4d\u586b\u51450\uff0c\u586b\u5145\u5b8c\u540e\uff0c\u4fe1\u606f\u7684\u957f\u5ea6\u5c31\u662f512*N+448 \u4e4b\u540e\u7528\u5269\u4f59\u7684\u4f4d\u7f6e\uff08512-448=64\uff09\u8bb0\u5f55\u539f\u6587\u7684\u771f\u6b63\u957f\u5ea6\uff0c\u628a\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u503c\u8865\u5728\u6700\u540e\u8fd9\u6837\u5904\u7406\u540e\u7684\u4fe1\u606f\u957f\u5ea6\u5c31\u662f512*\uff08N+1\uff09 \u8bbe\u7f6e\u521d\u59cb\u503c MD5\u7684\u54c8\u5e0c\u7ed3\u679c\u957f\u5ea6\u4e3a128\u4f4d\uff0c\u6309\u7167\u6bcf32\u4f4d\u4e00\u7ec4\u51714\u7ec4\uff0c4\u7ec4\u662f\u7531\u56db\u4e2a\u521d\u59cb\u5411\u91cf\u503cA,B,C,D\u7ecf\u8fc7\u4e0d\u65ad\u6f14\u53d8\u5f97\u5230\uff0cMD5\u7684\u5b98\u65b9\u5b9e\u8df5\u4e2dA,B,C,D\u7684\u521d\u59cb\u503c\u5982\u4e0b(\u5341\u516d\u8fdb\u5236)\uff1a A= 0x01234567 B= 0x89ABCDEF C= 0xFEDCBA98 D= 0x76543210 \u5faa\u73af\u52a0\u5de5 \u6700\u590d\u6742\u7684\u4e00\u6b65\uff0c\u4e0b\u56fe\u4ee3\u8868\u4e86\u5355\u6b21A,B,C,D\u6f14\u53d8\u7684\u6d41\u7a0b \u56fe\u4e2d\uff0cA\uff0cB\uff0cC\uff0cD\u5c31\u662f\u54c8\u5e0c\u503c\u7684\u56db\u4e2a\u5206\u7ec4\u3002\u6bcf\u4e00\u6b21\u5faa\u73af\u90fd\u4f1a\u8ba9\u65e7\u7684ABCD\u4ea7\u751f\u65b0\u7684ABCD\u3002\u4e00\u5171\u8fdb\u884c\u591a\u5c11\u6b21\u5faa\u73af\u5462\uff1f\u7531\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u51b3\u5b9a\u3002 \u5047\u8bbe\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u662fM \u4e3b\u5faa\u73af\u6b21\u6570 = M / 512 \u6bcf\u4e2a\u4e3b\u5faa\u73af\u4e2d\u5305\u542b 512 / 32 * 4 = 64 \u6b21 \u5b50\u5faa\u73af\u3002 \u4e0a\u9762\u8fd9\u5f20\u56fe\u6240\u8868\u8fbe\u7684\u5c31\u662f\u5355\u6b21\u5b50\u5faa\u73af\u7684\u6d41\u7a0b\u3002 1.\u7eff\u8272F \u56fe\u4e2d\u7684\u7eff\u8272F\uff0c\u4ee3\u8868\u975e\u7ebf\u6027\u51fd\u6570\u3002\u5b98\u65b9MD5\u6240\u7528\u5230\u7684\u51fd\u6570\u6709\u56db\u79cd\uff1a F(X, Y, Z) =(X&Y) | ((~X) & Z) G(X, Y, Z) =(X&Z) | (Y & (~Z)) H(X, Y, Z) =X^Y^Z I(X, Y, Z)=Y^(X|(~Z)) \u5728\u4e3b\u5faa\u73af\u4e0b\u976264\u6b21\u5b50\u5faa\u73af\u4e2d\uff0cF\u3001G\u3001H\u3001I \u4ea4\u66ff\u4f7f\u7528\uff0c\u7b2c\u4e00\u4e2a16\u6b21\u4f7f\u7528F\uff0c\u7b2c\u4e8c\u4e2a16\u6b21\u4f7f\u7528G\uff0c\u7b2c\u4e09\u4e2a16\u6b21\u4f7f\u7528H\uff0c\u7b2c\u56db\u4e2a16\u6b21\u4f7f\u7528I\u3002 2.\u7ea2\u8272\u201c\u7530\u201d\u5b57 \u5f88\u7b80\u5355\uff0c\u7ea2\u8272\u7684\u7530\u5b57\u4ee3\u8868\u76f8\u52a0\u7684\u610f\u601d\u3002 3.Mi Mi\u662f\u7b2c\u4e00\u6b65\u5904\u7406\u540e\u7684\u539f\u6587\u3002\u5728\u7b2c\u4e00\u6b65\u4e2d\uff0c\u5904\u7406\u540e\u539f\u6587\u7684\u957f\u5ea6\u662f512\u7684\u6574\u6570\u500d\u3002\u628a\u539f\u6587\u7684\u6bcf512\u4f4d\u518d\u5206\u621016\u7b49\u4efd\uff0c\u547d\u540d\u4e3aM0~M15\uff0c\u6bcf\u4e00\u7b49\u4efd\u957f\u5ea632\u3002\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf16\u6b21\u5faa\u73af\uff0c\u90fd\u4f1a\u4ea4\u66ff\u7528\u5230M1~M16\u4e4b\u4e00\u3002 4.Ki \u4e00\u4e2a\u5e38\u91cf\uff0c\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf\u4e00\u6b21\u7528\u5230\u7684\u5e38\u91cf\u90fd\u662f\u4e0d\u540c\u7684\u3002 5.\u9ec4\u8272\u7684<<<S \u5de6\u79fbS\u4f4d\uff0cS\u7684\u503c\u4e5f\u662f\u5e38\u91cf\u3002 \u201c\u6d41\u6c34\u7ebf\u201d\u7684\u6700\u540e\uff0c\u8ba9\u8ba1\u7b97\u7684\u7ed3\u679c\u548cB\u76f8\u52a0\uff0c\u53d6\u4ee3\u539f\u5148\u7684B\u3002\u65b0ABCD\u7684\u4ea7\u751f\u53ef\u4ee5\u5f52\u7eb3\u4e3a\uff1a \u65b0A = \u539fd \u65b0B = b+((a+F(b,c,d)+Mj+Ki)<<<s) \u65b0C = \u539fb \u65b0D = \u539fc","title":"MD5\u5e95\u5c42\u539f\u7406"},{"location":"algorithm/#base64","text":"","title":"Base64"},{"location":"algorithm/#_10","text":"","title":"\u6392\u5e8f"},{"location":"algorithm/#_11","text":"","title":"\u5192\u6ce1\u7b97\u6cd5\u548c\u4f18\u5316"},{"location":"app_start_process/","text":"\u57fa\u672c\u6982\u5ff5 launcher\u8fdb\u7a0b SystemServer\u8fdb\u7a0b \u662fzygotefork\u51fa\u6765\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0csystemServer\u548czygote\u662fandroid framework\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u8fdb\u7a0b\uff0c\u7cfb\u7edf\u91cc\u9762\u6700\u91cd\u8981\u7684\u670d\u52a1\u90fd\u662f\u5728\u8fd9\u4e24\u4e2a\u8fdb\u7a0b\u4e2d\u5f00\u542f\u7684\uff0c\u5982:ActivityManageService PackageManagerService WindowManagerService zygote\u8fdb\u7a0b android\u6240\u6709\u8fdb\u7a0b\u90fd\u662fzygite\u8fdb\u7a0bfork\u51fa\u6765\u7684 Android \u5f00\u673a\u6d41\u7a0b app\u8fdb\u7a0b \u6d41\u7a0b \u542f\u52a8\u8fdb\u7a0b\uff0c\u70b9\u51fb\u56fe\u6807\u53d1\u751f\u5728launch\u8fdb\u7a0b\uff0c\u684c\u9762\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2alaunchactivity,\u70b9\u51fb\u56fe\u6807\u76f8\u5f53\u4e8estartactivity,\u901a\u8fc7binder\u8fdb\u7a0b\u901a\u4fe1\u673a\u5236\u53d1\u6d88\u606f\u7ed9system_server\u8fdb\u7a0b\uff0c\u5728\u8be5\u8fdb\u7a0b\u4e2d\u7ecf\u8fc7\u4e00\u7cfb\u5217\u64cd\u4f5camst\u901a\u8fc7socket\u901a\u4fe1\u544a\u77e5zygote\u8fdb\u7a0bfork\u5b50\u8fdb\u7a0b\uff08app\u8fdb\u7a0b\uff09 \u5f00\u542f\u4e3b\u7ebf\u7a0bapp\u8fdb\u7a0b\u542f\u52a8\u540e\uff0c\u9996\u5148\u5b9e\u4f8b\u5316activityThead,\u5e76\u6267\u884c\u5176main\u51fd\u6570\uff0c\u521b\u5efaApplicationThread\uff0c\u53cahandler\u4f53\u7cfb \u521b\u5efa\u5e76\u521d\u59cb\u5316Application\u548cactivity,\u59cb\u4e8eactiviyThread\u7684main\u65b9\u6cd5\uff0c\u901a\u8fc7binder\u901a\u4fe1\u544a\u8bc9system-server\u8fdb\u7a0b\u4e2d\u7684ams\u6211\u9700\u8981\u4e00\u4e2aapplication,\u5728ams\u7684attachApplication\u4e2d\u4f9d\u6b21\u521d\u59cb\u5316appliaction\u548cactivity,\u5206\u522b\u6709\u4e24\u4e2a\u5173\u952e\u51fd\u6570\uff0cthread#bindApplication()\u901a\u77e5\u51fa\u73b0\u6210handler\u521b\u5efaapplication\u5bf9\u8c61\u3001\u7ed1\u5b9aContext\u3001\u6267\u884cApplication\u7684oncreat\u58f0\u660e\u5468\u671f\u7136\u540e\u901a\u8fc7\u4e3b\u7ebf\u7a0bhandler\u6d88\u606f\u901a\u77e5\u521b\u5efaactivity\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528oncreat\u65b9\u6cd5 \u5176\u5b83 1.\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8fd0\u884c\u4e00\u4e2a\u5355\u72ec\u7684Dvm,\u6bcf\u4e2advm\u5360\u7528\u4e00\u4e2aLinux\u8fdb\u7a0b\uff0c\u72ec\u7acb\u7684\u8fdb\u7a0b\u53ef\u9632\u6b62\u865a\u62df\u673a\u5d29\u7684\u65f6\u5019\u6240\u6709\u7a0b\u5e8f\u90fd\u5173\u95ed\u3002 2. \u5b89\u5353\u662f\u57fa\u4e8eLinux\u7cfb\u7edf\uff0c\u5728linux\u4e2d\u6240\u6709\u8fdb\u7a0b\u90fd\u662finit\u8fdb\u7a0b\u76f4\u63a5\u6216\u8005\u95f4\u63a5fork\u51fa\u6765\u7684\uff0cfork\u8fdb\u7a0b\u6bd4\u521b\u5efa\u8fdb\u7a0b\u7684\u6548\u7387\u9ad8\uff0c\u5728android\u4e2d\u6240\u6709\u8fdb\u7a0b\u90fd\u662fzygote\u8fdb\u7a0bfork\u51fa\u6765\u7684\u3002 \u5f00\u673a\u6d41\u7a0b \u5b89\u5353\u5f00\u673alinux\u5185\u6838\u542f\u52a8\u540e\uff0c\u542f\u52a8init\u8fdb\u7a0b \u5f00\u673a\u52a8\u753b \u6587\u4ef6\u7cfb\u7edf\u7684\u521b\u5efa\u548c\u6302\u5728 \u5176\u4ed6\u590d\u6742\u5de5\u4f5c \u6700\u4e3b\u8981\u7684\u662f\u542f\u52a8zygote\u8fdb\u7a0b\uff0cservicemanager(binder\u670d\u52a1\u7ba1\u7406\u5668\uff0c\u7ba1\u7406\u6240\u6709\u5b89\u5353\u7cfb\u7edf\u670d\u52a1) zygote\u8fdb\u7a0b\u4f1afork\u51fasystem server\u8fdb\u7a0b \u542f\u52a8binder\u7ebf\u7a0b\u6c60 \u521b\u5efasystem manager\u5bf9\u8c61\uff0c\u4f1a\u542f\u52a8ams\u7b49 \u542f\u52a8\u684c\u9762\u8fdb\u7a0b zygote\u8fdb\u7a0b\u8fd0\u884c\u540e\uff0cfork APP\u8fdb\u7a0b","title":"APP\u542f\u52a8\u6d41\u7a0b"},{"location":"app_start_process/#_1","text":"launcher\u8fdb\u7a0b SystemServer\u8fdb\u7a0b \u662fzygotefork\u51fa\u6765\u7684\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0csystemServer\u548czygote\u662fandroid framework\u6700\u91cd\u8981\u7684\u4e24\u4e2a\u8fdb\u7a0b\uff0c\u7cfb\u7edf\u91cc\u9762\u6700\u91cd\u8981\u7684\u670d\u52a1\u90fd\u662f\u5728\u8fd9\u4e24\u4e2a\u8fdb\u7a0b\u4e2d\u5f00\u542f\u7684\uff0c\u5982:ActivityManageService PackageManagerService WindowManagerService zygote\u8fdb\u7a0b android\u6240\u6709\u8fdb\u7a0b\u90fd\u662fzygite\u8fdb\u7a0bfork\u51fa\u6765\u7684 Android \u5f00\u673a\u6d41\u7a0b app\u8fdb\u7a0b","title":"\u57fa\u672c\u6982\u5ff5"},{"location":"app_start_process/#_2","text":"\u542f\u52a8\u8fdb\u7a0b\uff0c\u70b9\u51fb\u56fe\u6807\u53d1\u751f\u5728launch\u8fdb\u7a0b\uff0c\u684c\u9762\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2alaunchactivity,\u70b9\u51fb\u56fe\u6807\u76f8\u5f53\u4e8estartactivity,\u901a\u8fc7binder\u8fdb\u7a0b\u901a\u4fe1\u673a\u5236\u53d1\u6d88\u606f\u7ed9system_server\u8fdb\u7a0b\uff0c\u5728\u8be5\u8fdb\u7a0b\u4e2d\u7ecf\u8fc7\u4e00\u7cfb\u5217\u64cd\u4f5camst\u901a\u8fc7socket\u901a\u4fe1\u544a\u77e5zygote\u8fdb\u7a0bfork\u5b50\u8fdb\u7a0b\uff08app\u8fdb\u7a0b\uff09 \u5f00\u542f\u4e3b\u7ebf\u7a0bapp\u8fdb\u7a0b\u542f\u52a8\u540e\uff0c\u9996\u5148\u5b9e\u4f8b\u5316activityThead,\u5e76\u6267\u884c\u5176main\u51fd\u6570\uff0c\u521b\u5efaApplicationThread\uff0c\u53cahandler\u4f53\u7cfb \u521b\u5efa\u5e76\u521d\u59cb\u5316Application\u548cactivity,\u59cb\u4e8eactiviyThread\u7684main\u65b9\u6cd5\uff0c\u901a\u8fc7binder\u901a\u4fe1\u544a\u8bc9system-server\u8fdb\u7a0b\u4e2d\u7684ams\u6211\u9700\u8981\u4e00\u4e2aapplication,\u5728ams\u7684attachApplication\u4e2d\u4f9d\u6b21\u521d\u59cb\u5316appliaction\u548cactivity,\u5206\u522b\u6709\u4e24\u4e2a\u5173\u952e\u51fd\u6570\uff0cthread#bindApplication()\u901a\u77e5\u51fa\u73b0\u6210handler\u521b\u5efaapplication\u5bf9\u8c61\u3001\u7ed1\u5b9aContext\u3001\u6267\u884cApplication\u7684oncreat\u58f0\u660e\u5468\u671f\u7136\u540e\u901a\u8fc7\u4e3b\u7ebf\u7a0bhandler\u6d88\u606f\u901a\u77e5\u521b\u5efaactivity\u5bf9\u8c61\uff0c\u7136\u540e\u8c03\u7528oncreat\u65b9\u6cd5","title":"\u6d41\u7a0b"},{"location":"app_start_process/#_3","text":"1.\u6bcf\u4e2a\u8fdb\u7a0b\u90fd\u8fd0\u884c\u4e00\u4e2a\u5355\u72ec\u7684Dvm,\u6bcf\u4e2advm\u5360\u7528\u4e00\u4e2aLinux\u8fdb\u7a0b\uff0c\u72ec\u7acb\u7684\u8fdb\u7a0b\u53ef\u9632\u6b62\u865a\u62df\u673a\u5d29\u7684\u65f6\u5019\u6240\u6709\u7a0b\u5e8f\u90fd\u5173\u95ed\u3002 2. \u5b89\u5353\u662f\u57fa\u4e8eLinux\u7cfb\u7edf\uff0c\u5728linux\u4e2d\u6240\u6709\u8fdb\u7a0b\u90fd\u662finit\u8fdb\u7a0b\u76f4\u63a5\u6216\u8005\u95f4\u63a5fork\u51fa\u6765\u7684\uff0cfork\u8fdb\u7a0b\u6bd4\u521b\u5efa\u8fdb\u7a0b\u7684\u6548\u7387\u9ad8\uff0c\u5728android\u4e2d\u6240\u6709\u8fdb\u7a0b\u90fd\u662fzygote\u8fdb\u7a0bfork\u51fa\u6765\u7684\u3002","title":"\u5176\u5b83"},{"location":"app_start_process/#_4","text":"\u5b89\u5353\u5f00\u673alinux\u5185\u6838\u542f\u52a8\u540e\uff0c\u542f\u52a8init\u8fdb\u7a0b \u5f00\u673a\u52a8\u753b \u6587\u4ef6\u7cfb\u7edf\u7684\u521b\u5efa\u548c\u6302\u5728 \u5176\u4ed6\u590d\u6742\u5de5\u4f5c \u6700\u4e3b\u8981\u7684\u662f\u542f\u52a8zygote\u8fdb\u7a0b\uff0cservicemanager(binder\u670d\u52a1\u7ba1\u7406\u5668\uff0c\u7ba1\u7406\u6240\u6709\u5b89\u5353\u7cfb\u7edf\u670d\u52a1) zygote\u8fdb\u7a0b\u4f1afork\u51fasystem server\u8fdb\u7a0b \u542f\u52a8binder\u7ebf\u7a0b\u6c60 \u521b\u5efasystem manager\u5bf9\u8c61\uff0c\u4f1a\u542f\u52a8ams\u7b49 \u542f\u52a8\u684c\u9762\u8fdb\u7a0b zygote\u8fdb\u7a0b\u8fd0\u884c\u540e\uff0cfork APP\u8fdb\u7a0b","title":"\u5f00\u673a\u6d41\u7a0b"},{"location":"basic/","text":"'this is about me page'","title":"Basic"},{"location":"basicDataType/","text":"\u4e8c\u8fdb\u5236\u7b80\u4ecb \u5047\u8bbe\u6709\u4e00 int \u7c7b\u578b\u7684\u6570\uff0c\u503c\u4e3a5\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u4e3a\uff1a 00000000 00000000 00000000 00000101 5\u8f6c\u6362\u6210\u4e8c\u5236\u662f101\uff0c\u4e0d\u8fc7int\u7c7b\u578b\u7684\u6570\u5360\u75284\u5b57\u8282\uff0832\u4f4d\uff09\uff0c\u6240\u4ee5\u524d\u9762\u586b\u4e86\u4e00\u58060\u3002 \u8d1f\u6570\u7684\u4e8c\u8fdb\u5236(\u8865\u7801=\u53cd\u7801+1) -5\u5728\u8ba1\u7b97\u673a\u4e2d\u5982\u4f55\u8868\u793a\uff1f \u5728\u8ba1\u7b97\u673a\u4e2d\u8d1f\u6570\u4ee5\u5176\u6b63\u503c\u7684\u8865\u7801\u5f62\u5f0f\u8868\u8fbe \u6bd4\u5982 00000000 00000000 00000000 00000101 \u662f 5\u7684 \u539f\u7801\u3002 \u53cd\u7801\uff1a\u5c06\u4e8c\u8fdb\u5236\u6570\u6309\u4f4d\u53d6\u53cd\uff0c\u6240\u5f97\u7684\u65b0\u4e8c\u8fdb\u5236\u6570\u79f0\u4e3a\u539f\u4e8c\u8fdb\u5236\u6570\u7684\u53cd\u7801\u3002 11111111 11111111 11111111 11111010 \u662f 00000000 00000000 00000000 00000101 \u7684\u53cd\u7801\u3002 \u8865\u7801\uff1a\u53cd\u7801\u52a01\u79f0\u4e3a\u8865\u7801\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u8981\u5f97\u5230\u4e00\u4e2a\u6570\u7684\u8865\u7801\uff0c\u5148\u5f97\u5230\u53cd\u7801\uff0c\u7136\u540e\u5c06\u53cd\u7801\u52a0\u4e0a1\uff0c\u6240\u5f97\u6570\u79f0\u4e3a\u8865\u7801\u3002 11111111 11111111 11111111 11111010 + 1 = 11111111 11111111 11111111 11111011 -5\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u4e3a\uff1a11111111 11111111 11111111 11111011 \u8fdb\u5236\u95f4\u8f6c\u6362 \u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236 \u8f6c\u4e8c\u8fdb\u5236\u5c31\u96642\u628a\u4f59\u6570\u90fd\u6807\u5728\u53f3\u4fa7 \u6700\u4e0b\u9762\u7684\u4f59\u6570\u653e\u5728\u6700\u5de6\u9762 \u4f8b20\u7684\u4e8c\u8fdb\u5236 20...0 20\u96642\u554610\u4f590 10...0 10\u96642\u55465\u4f590 5....1 5\u96642\u55462\u4f591 2....0 2\u96642\u55461\u4f590 .....1 --------->0000 10100 \u5341\u516d\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236 0x12--->0001 0010 0x1234-->0001 0010 0011 0100 \u4e8c\u8fdb\u5236\u8f6c\u5341\u516d\u8fdb\u5236 0001 0010 0011 0100-->0x1234 \u57fa\u672c\u6570\u636e\u7c7b\u578b\u5360\u7684\u4f4d\u6570 bit: 1 bit\u4f4d = 1 \u4e8c\u8fdb\u5236\u6570\u636e byte: 1 byte = 8 bit\u4f4d \uff08-128 ~ 127\uff09 \u5b57\u6bcd: 1 \u5b57\u6bcd = 1 byte = 8 bit(\u4f4d) short: 16\u4f4d char: Unicode\u5b57\u7b26\uff0c16bit\u4f4d int: 32bit\u4f4d\uff0c\u6bd4\u5982int \u7c7b\u578b\u5360\u75284\u4e2a\u5b57\u8282\uff0c32\u4f4d long: 64bit\u4f4d float: 32bit\u4f4d double: 64bit\u4f4d string: \u6c49\u5b57\uff1a1 \u6c49\u5b57 = 2 byte = 16 bit \u300a\u300a***\u8fd9\u91cc\u4e0d\u662f\u5f88\u51c6\u786e\uff0c\u5f53\u7f16\u7801\u4e0d\u540c\u7684\u65f6\u5019\uff0c1\u4e2a\u6c49\u5b57\u6240\u5360\u7684\u5b57\u8282\u6570\u4e5f\u4f1a\u6709\u6240\u4e0d\u540c\uff0c\u6709\u4e9b\u7f16\u7801\u662f\u5360 2\u4e2a\u5b57\u8282\uff0c\u6709\u4e9b\u5219\u4e0d\u662f\uff0c\u53ef\u80fd\u662f 3\u4e2a\u6216\u8005 4\u4e2a***\u300b\u300b \u4e0e\u8fd0\u7b97&0XFF &\u4f5c\u4e3a\u4f4d\u8fd0\u7b97 \uff08\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u903b\u8f91\u8fd0\u7b97\u7b26\uff09 \u64cd\u4f5c\u6570\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u540c\u4e3a1\u7ed3\u679c\u624d\u662f1\uff0c\u5176\u5b83\u5219\u4e3a0\uff0c\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u516b\u8fdb\u5236\u5341\u516d\u8fdb\u5236 0xff\u7684\u5341\u8fdb\u5236\u662f255\uff0c\u516b\u4f4d\u4e8c\u8fdb\u523611111111,\u4e00\u4e2a\u6570&\u4e0a\u5b83\u5e94\u8be5\u662f\u4e0d\u53d8\u7684\uff0c\u4f46\u662f \u7cfb\u7edf\u76d1\u6d4b\u5230byte\u4f5c\u4e3aint\u7c7b\u578b\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u5c06byte\u7684\u5185\u5b58\u7a7a\u95f4\u9ad8\u4f4d\u88651\u6269\u5145\u523032\u4f4d\u3002&0xff\u5373\u662f\u53d6\u4e86\u4f4e\u516b\u4f4d\uff0c\u5c3d\u7ba1\u5341\u8fdb\u5236\u6570\u4e0d\u540c\u4f46\u662f\u4fdd\u6301\u4e86\u4e8c\u8fdb\u5236\u8865\u7801\u7684\u4e00\u81f4 \u4f8b\uff1a 0x1234 \u5341\u516d\u8fdb\u5236 0001 0010 0011 0100 \u4e8c\u8fdb\u5236 0xff---->1111 1111 \u5de6\u4fa7\u88650---->0000 0000 1111 1111 \u8fd0\u7b97\u7ed3\u679c\u53d6\u4f4e\u516b\u4f4d 0000 0000 0011 0100 \u6709\u7b26\u53f7\u6574\u6570\uff0c\u6b63\u6570\u8981\u53bb\u9664\u4e00\u4e2a\u7b26\u53f7\u4f4d\uff0c\u8d1f\u6570\u4e0d\u7528 \u8ba1\u7b97\u673a\u7528\u4f4d\uff08bit\uff09\u6765\u4f5c\u4e3a\u57fa\u7840\u5355\u4f4d byte\u5b83\u7684\u8303\u56f4\u662f-127~128,\u75288\u4e2abit\u53ef\u8868\u793a 1\uff082^8\uff09~2^8-1 1111 1111 short,\u540cchar char\uff0c\u5b83\u7684\u8303\u56f4\u662f0~2^15\u6240\u4ee5\u53ea\u80fd\u752816\u4e2abit,\u5373\u4e24\u4e2abyte int,\u4ed6\u7684\u8303\u56f4\u662f-2^-31~2^31-1 long double 8byte 64bit \u53d6\u503c-(2^64)~2^63 float 4byte 32bit byte\u7c7b\u578b\u7684-127\uff0c\u5176\u8ba1\u7b97\u673a\u5b58\u50a8\u7684\u8865\u7801\u662f10000001\uff088\u4f4d\uff09\uff0c\u5c06\u5176\u4f5c\u4e3aint\u7c7b\u578b\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u7684\u65f6\u5019\uff0cjvm\u4f5c\u4e86\u4e00\u4e2a\u8865\u4f4d\u7684\u5904\u7406\uff0c\u56e0\u4e3aint\u7c7b\u578b\u662f32\u4f4d\uff0c\u6240\u4ee5\u8865\u4f4d\u540e\u7684\u8865\u7801\u5c31\u662f1111111111111111111111111 10000001\uff0832\u4f4d\uff09\uff0c\u8fd9\u4e2a32\u4f4d\u4e8c\u8fdb\u5236\u8865\u7801\u8868\u793a\u7684\u4e5f\u662f-127.\u867d\u7136byte->int\uff08\u516b\u4f4d\u6269\u5c55\u523032\u4f4d\uff09\uff0c\u8ba1\u7b97\u673a\u80cc\u540e\u5b58\u50a8\u7684\u4e8c\u8fdb\u5236\u8865\u7801\u753110000001\uff088\u4f4d\uff09\u8f6c\u5316\u6210\u4e861111111111111111111111111 10000001\uff0832\u4f4d\uff09\u5f88\u663e\u7136\u8fd9\u4e24\u4e2a\u8865\u7801\u8868\u793a\u7684\u5341\u8fdb\u5236\u6570\u5b57\u4f9d\u7136\u662f\u76f8\u540c\u7684\u3002 \u79fb\u4f4d\u8fd0\u7b97 <<:\u5de6\u79fb\u8fd0\u7b97\u7b26\uff0cnum << 1,\u76f8\u5f53\u4e8enum\u4e58\u4ee52 >>:\u53f3\u79fb\u8fd0\u7b97\u7b26\uff0cnum >> 1,\u76f8\u5f53\u4e8enum\u9664\u4ee52 >>>:\u65e0\u7b26\u53f7\u53f3\u79fb\uff0c\u5ffd\u7565\u7b26\u53f7\u4f4d\uff0c\u7a7a\u4f4d\u90fd\u4ee50\u8865\u9f50! \u4f4d\u5f02\u6216\u8fd0\u7b97\u7b26 \u4f4d\u5f02\u6216\u8fd0\u7b97\u7b26\u4e3a^\uff0c\u5176\u8fd0\u7b97\u89c4\u5219\u662f\uff1a\u53c2\u4e0e\u8fd0\u7b97\u7684\u6570\u5b57\uff0c\u4f4e\u4f4d\u5bf9\u9f50\uff0c\u9ad8\u4f4d\u4e0d\u8db3\u7684\u8865\u96f6\uff0c\u5982\u679c\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4f4d\u76f8\u540c\uff08\u540c\u65f6\u4e3a 0 \u6216\u540c\u65f6\u4e3a 1\uff09\u65f6\uff0c\u7ed3\u679c\u4e3a 0\uff1b\u5982\u679c\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4f4d\u4e0d\u76f8\u540c\uff0c\u7ed3\u679c\u5219\u4e3a 1\u3002 11^7=12 (\u5316\u6210\u4e8c\u8fdb\u5236\u7136\u540e\u8ba1\u7b97)","title":"\u57fa\u7840\u6570\u636e\u7c7b\u578b"},{"location":"basicDataType/#_1","text":"\u5047\u8bbe\u6709\u4e00 int \u7c7b\u578b\u7684\u6570\uff0c\u503c\u4e3a5\uff0c\u90a3\u4e48\uff0c\u6211\u4eec\u77e5\u9053\u5b83\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u4e3a\uff1a 00000000 00000000 00000000 00000101 5\u8f6c\u6362\u6210\u4e8c\u5236\u662f101\uff0c\u4e0d\u8fc7int\u7c7b\u578b\u7684\u6570\u5360\u75284\u5b57\u8282\uff0832\u4f4d\uff09\uff0c\u6240\u4ee5\u524d\u9762\u586b\u4e86\u4e00\u58060\u3002","title":"\u4e8c\u8fdb\u5236\u7b80\u4ecb"},{"location":"basicDataType/#1","text":"-5\u5728\u8ba1\u7b97\u673a\u4e2d\u5982\u4f55\u8868\u793a\uff1f \u5728\u8ba1\u7b97\u673a\u4e2d\u8d1f\u6570\u4ee5\u5176\u6b63\u503c\u7684\u8865\u7801\u5f62\u5f0f\u8868\u8fbe \u6bd4\u5982 00000000 00000000 00000000 00000101 \u662f 5\u7684 \u539f\u7801\u3002 \u53cd\u7801\uff1a\u5c06\u4e8c\u8fdb\u5236\u6570\u6309\u4f4d\u53d6\u53cd\uff0c\u6240\u5f97\u7684\u65b0\u4e8c\u8fdb\u5236\u6570\u79f0\u4e3a\u539f\u4e8c\u8fdb\u5236\u6570\u7684\u53cd\u7801\u3002 11111111 11111111 11111111 11111010 \u662f 00000000 00000000 00000000 00000101 \u7684\u53cd\u7801\u3002 \u8865\u7801\uff1a\u53cd\u7801\u52a01\u79f0\u4e3a\u8865\u7801\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u8981\u5f97\u5230\u4e00\u4e2a\u6570\u7684\u8865\u7801\uff0c\u5148\u5f97\u5230\u53cd\u7801\uff0c\u7136\u540e\u5c06\u53cd\u7801\u52a0\u4e0a1\uff0c\u6240\u5f97\u6570\u79f0\u4e3a\u8865\u7801\u3002 11111111 11111111 11111111 11111010 + 1 = 11111111 11111111 11111111 11111011 -5\u5728\u8ba1\u7b97\u673a\u4e2d\u8868\u793a\u4e3a\uff1a11111111 11111111 11111111 11111011","title":"\u8d1f\u6570\u7684\u4e8c\u8fdb\u5236(\u8865\u7801=\u53cd\u7801+1)"},{"location":"basicDataType/#_2","text":"\u5341\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236 \u8f6c\u4e8c\u8fdb\u5236\u5c31\u96642\u628a\u4f59\u6570\u90fd\u6807\u5728\u53f3\u4fa7 \u6700\u4e0b\u9762\u7684\u4f59\u6570\u653e\u5728\u6700\u5de6\u9762 \u4f8b20\u7684\u4e8c\u8fdb\u5236 20...0 20\u96642\u554610\u4f590 10...0 10\u96642\u55465\u4f590 5....1 5\u96642\u55462\u4f591 2....0 2\u96642\u55461\u4f590 .....1 --------->0000 10100 \u5341\u516d\u8fdb\u5236\u8f6c\u4e8c\u8fdb\u5236 0x12--->0001 0010 0x1234-->0001 0010 0011 0100 \u4e8c\u8fdb\u5236\u8f6c\u5341\u516d\u8fdb\u5236 0001 0010 0011 0100-->0x1234","title":"\u8fdb\u5236\u95f4\u8f6c\u6362"},{"location":"basicDataType/#_3","text":"bit: 1 bit\u4f4d = 1 \u4e8c\u8fdb\u5236\u6570\u636e byte: 1 byte = 8 bit\u4f4d \uff08-128 ~ 127\uff09 \u5b57\u6bcd: 1 \u5b57\u6bcd = 1 byte = 8 bit(\u4f4d) short: 16\u4f4d char: Unicode\u5b57\u7b26\uff0c16bit\u4f4d int: 32bit\u4f4d\uff0c\u6bd4\u5982int \u7c7b\u578b\u5360\u75284\u4e2a\u5b57\u8282\uff0c32\u4f4d long: 64bit\u4f4d float: 32bit\u4f4d double: 64bit\u4f4d string: \u6c49\u5b57\uff1a1 \u6c49\u5b57 = 2 byte = 16 bit \u300a\u300a***\u8fd9\u91cc\u4e0d\u662f\u5f88\u51c6\u786e\uff0c\u5f53\u7f16\u7801\u4e0d\u540c\u7684\u65f6\u5019\uff0c1\u4e2a\u6c49\u5b57\u6240\u5360\u7684\u5b57\u8282\u6570\u4e5f\u4f1a\u6709\u6240\u4e0d\u540c\uff0c\u6709\u4e9b\u7f16\u7801\u662f\u5360 2\u4e2a\u5b57\u8282\uff0c\u6709\u4e9b\u5219\u4e0d\u662f\uff0c\u53ef\u80fd\u662f 3\u4e2a\u6216\u8005 4\u4e2a***\u300b\u300b","title":"\u57fa\u672c\u6570\u636e\u7c7b\u578b\u5360\u7684\u4f4d\u6570"},{"location":"basicDataType/#0xff","text":"&\u4f5c\u4e3a\u4f4d\u8fd0\u7b97 \uff08\u8fd8\u53ef\u4ee5\u4f5c\u4e3a\u903b\u8f91\u8fd0\u7b97\u7b26\uff09 \u64cd\u4f5c\u6570\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u540c\u4e3a1\u7ed3\u679c\u624d\u662f1\uff0c\u5176\u5b83\u5219\u4e3a0\uff0c\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u4e8c\u8fdb\u5236\u516b\u8fdb\u5236\u5341\u516d\u8fdb\u5236 0xff\u7684\u5341\u8fdb\u5236\u662f255\uff0c\u516b\u4f4d\u4e8c\u8fdb\u523611111111,\u4e00\u4e2a\u6570&\u4e0a\u5b83\u5e94\u8be5\u662f\u4e0d\u53d8\u7684\uff0c\u4f46\u662f \u7cfb\u7edf\u76d1\u6d4b\u5230byte\u4f5c\u4e3aint\u7c7b\u578b\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u7684\u65f6\u5019\uff0c\u4f1a\u81ea\u52a8\u5c06byte\u7684\u5185\u5b58\u7a7a\u95f4\u9ad8\u4f4d\u88651\u6269\u5145\u523032\u4f4d\u3002&0xff\u5373\u662f\u53d6\u4e86\u4f4e\u516b\u4f4d\uff0c\u5c3d\u7ba1\u5341\u8fdb\u5236\u6570\u4e0d\u540c\u4f46\u662f\u4fdd\u6301\u4e86\u4e8c\u8fdb\u5236\u8865\u7801\u7684\u4e00\u81f4 \u4f8b\uff1a 0x1234 \u5341\u516d\u8fdb\u5236 0001 0010 0011 0100 \u4e8c\u8fdb\u5236 0xff---->1111 1111 \u5de6\u4fa7\u88650---->0000 0000 1111 1111 \u8fd0\u7b97\u7ed3\u679c\u53d6\u4f4e\u516b\u4f4d 0000 0000 0011 0100 \u6709\u7b26\u53f7\u6574\u6570\uff0c\u6b63\u6570\u8981\u53bb\u9664\u4e00\u4e2a\u7b26\u53f7\u4f4d\uff0c\u8d1f\u6570\u4e0d\u7528 \u8ba1\u7b97\u673a\u7528\u4f4d\uff08bit\uff09\u6765\u4f5c\u4e3a\u57fa\u7840\u5355\u4f4d byte\u5b83\u7684\u8303\u56f4\u662f-127~128,\u75288\u4e2abit\u53ef\u8868\u793a 1\uff082^8\uff09~2^8-1 1111 1111 short,\u540cchar char\uff0c\u5b83\u7684\u8303\u56f4\u662f0~2^15\u6240\u4ee5\u53ea\u80fd\u752816\u4e2abit,\u5373\u4e24\u4e2abyte int,\u4ed6\u7684\u8303\u56f4\u662f-2^-31~2^31-1 long double 8byte 64bit \u53d6\u503c-(2^64)~2^63 float 4byte 32bit byte\u7c7b\u578b\u7684-127\uff0c\u5176\u8ba1\u7b97\u673a\u5b58\u50a8\u7684\u8865\u7801\u662f10000001\uff088\u4f4d\uff09\uff0c\u5c06\u5176\u4f5c\u4e3aint\u7c7b\u578b\u5411\u63a7\u5236\u53f0\u8f93\u51fa\u7684\u65f6\u5019\uff0cjvm\u4f5c\u4e86\u4e00\u4e2a\u8865\u4f4d\u7684\u5904\u7406\uff0c\u56e0\u4e3aint\u7c7b\u578b\u662f32\u4f4d\uff0c\u6240\u4ee5\u8865\u4f4d\u540e\u7684\u8865\u7801\u5c31\u662f1111111111111111111111111 10000001\uff0832\u4f4d\uff09\uff0c\u8fd9\u4e2a32\u4f4d\u4e8c\u8fdb\u5236\u8865\u7801\u8868\u793a\u7684\u4e5f\u662f-127.\u867d\u7136byte->int\uff08\u516b\u4f4d\u6269\u5c55\u523032\u4f4d\uff09\uff0c\u8ba1\u7b97\u673a\u80cc\u540e\u5b58\u50a8\u7684\u4e8c\u8fdb\u5236\u8865\u7801\u753110000001\uff088\u4f4d\uff09\u8f6c\u5316\u6210\u4e861111111111111111111111111 10000001\uff0832\u4f4d\uff09\u5f88\u663e\u7136\u8fd9\u4e24\u4e2a\u8865\u7801\u8868\u793a\u7684\u5341\u8fdb\u5236\u6570\u5b57\u4f9d\u7136\u662f\u76f8\u540c\u7684\u3002","title":"\u4e0e\u8fd0\u7b97&amp;0XFF"},{"location":"basicDataType/#_4","text":"<<:\u5de6\u79fb\u8fd0\u7b97\u7b26\uff0cnum << 1,\u76f8\u5f53\u4e8enum\u4e58\u4ee52 >>:\u53f3\u79fb\u8fd0\u7b97\u7b26\uff0cnum >> 1,\u76f8\u5f53\u4e8enum\u9664\u4ee52 >>>:\u65e0\u7b26\u53f7\u53f3\u79fb\uff0c\u5ffd\u7565\u7b26\u53f7\u4f4d\uff0c\u7a7a\u4f4d\u90fd\u4ee50\u8865\u9f50!","title":"\u79fb\u4f4d\u8fd0\u7b97"},{"location":"basicDataType/#_5","text":"\u4f4d\u5f02\u6216\u8fd0\u7b97\u7b26\u4e3a^\uff0c\u5176\u8fd0\u7b97\u89c4\u5219\u662f\uff1a\u53c2\u4e0e\u8fd0\u7b97\u7684\u6570\u5b57\uff0c\u4f4e\u4f4d\u5bf9\u9f50\uff0c\u9ad8\u4f4d\u4e0d\u8db3\u7684\u8865\u96f6\uff0c\u5982\u679c\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4f4d\u76f8\u540c\uff08\u540c\u65f6\u4e3a 0 \u6216\u540c\u65f6\u4e3a 1\uff09\u65f6\uff0c\u7ed3\u679c\u4e3a 0\uff1b\u5982\u679c\u5bf9\u5e94\u7684\u4e8c\u8fdb\u5236\u4f4d\u4e0d\u76f8\u540c\uff0c\u7ed3\u679c\u5219\u4e3a 1\u3002 11^7=12 (\u5316\u6210\u4e8c\u8fdb\u5236\u7136\u540e\u8ba1\u7b97)","title":"\u4f4d\u5f02\u6216\u8fd0\u7b97\u7b26"},{"location":"better/","text":"\u6027\u80fd\u4f18\u5316 \u6027\u80fd\u4f18\u5316 \u5185\u5b58\u4f18\u5316 \u4ec0\u4e48\u662f\u5185\u5b58\u6cc4\u6f0f\uff1f \u539f\u56e0 \u5f71\u54cd\uff1f \u5de5\u5177-leakcanary \u4ee3\u7801\u4f18\u5316 \u4f7f\u7528lint\u68c0\u67e5\u53d6\u51fa\u65e0\u6548\u4ee3\u7801 \u4ee3\u7801\u89c4\u8303\u4f18\u5316 UI\u4f18\u5316\uff08\u5e03\u5c40\u4f18\u5316\u548c\u7ed8\u5236\u4f18\u5316\uff09 \u5e03\u5c40\u4f18\u5316 \u901f\u5ea6\u4f18\u5316\uff08\u7ebf\u7a0b\u4f18\u5316\u548c\u7f51\u7edc\u4f18\u5316\uff09 \u7ebf\u7a0b\u4f18\u5316 \u4f7f\u7528\u7ebf\u7a0b\u6c60 \u7f51\u7edc\u4f18\u5316 \u56fe\u7247\uff1a \u52a0\u8f7dLoading\u4f18\u5316 \u7535\u91cf\u4f18\u5316 \u542f\u52a8\u4f18\u5316 \u51b7\u542f\u52a8 \u6696\u542f\u52a8 \u70ed\u542f\u52a8 \u542f\u52a8\u9875\u4f18\u5316 \u5206\u6790\u6027\u80fd\u7684\u5de5\u5177 APK\u7626\u8eab APK\u6784\u6210\u521d\u63a2 \u4f18\u5316\u65b9\u6848 \u5185\u5b58\u4f18\u5316 \u5185\u5b58\u6cc4\u6f0f\u662f\u5e38\u5ba2 \u4ec0\u4e48\u662f\u5185\u5b58\u6cc4\u6f0f\uff1f \u5185\u5b58\u4e0d\u5728GC\u7684\u638c\u63a7\u8303\u56f4\u5185 \u5bf9\u4e00\u4e9b\u5bf9\u8c61\u6709\u6709\u9650\u7684\u5468\u671f\u58f0\u660e\uff0c\u5e0c\u671b\u8981\u505a\u7684\u4e8b\u5b8c\u6210\u4e86\uff0c\u5b83\u4f1a\u88ab\u5783\u573e\u56de\u6536\u5668\u56de\u6536\u6389\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u8fd8\u5b58\u5728\uff0c\u5bfc\u81f4\u65e0\u6cd5\u88ab\u56de\u6536\uff0c\u5360\u7528\u5185\u5b58\uff0c\u6301\u7eed\u7d2f\u52a0\uff0c\u5185\u5b58\u5f88\u5feb\u88ab\u8017\u5c3dOOM. \u5982\u4e00\u4e2aactivity\u7684onDestroy\u88ab\u8c03\u7528\uff0c\u4f46\u662f\u5982\u679c\u6709\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u6301\u6709\u8fd9\u4e2aactivity\u7684\u5f15\u7528\uff0c\u8be5activity\u5360\u7528\u7684\u5185\u5b58\u5c31\u4e0d\u80fd\u88ab\u56de\u6536\u3002 \u539f\u56e0 \u9519\u8bef\u4f7f\u7528\u5355\u4f8b-context(ApplicationContext) handler \u5728handler\u4e2d\u8bbe\u7f6eui\u5143\u7d20 \u89e3\u51b3\u65b9\u6848\uff1a 1. activity\u5173\u95ed\u7684\u65f6\u5019\u79fb\u9664\u6240\u6709\u7684\u6d88\u606f\u548crunable 2. \u91c7\u7528\u9759\u6001\u5185\u90e8\u7c7b+\u5f31\u5f15\u7528 thread \u975e\u9759\u6001\u5185\u90e8\u7c7b\u6216\u8005\u533f\u540d\u7c7b\u521b\u5efa\u7ebf\u7a0b\u4f1a\u9690\u5f0f\u5f15\u7528activity,\u7ebf\u7a0brun\u65b9\u6cd5\u4e0d\u6267\u884c\u5b8c\uff0c\u7ebf\u7a0b\u662f\u4e0d\u4f1a\u9500\u6bc1\u7684\uff0c\u6240\u5f15\u7528\u7684activity\u4e5f\u4e0d\u4f1a\u9500\u6bc1\u3002 \u89e3\u51b3\u65b9\u6848\uff1a \u7ebf\u7a0b\u5185\u90e8\u4f7f\u7528\u5f31\u5f15\u7528/\u52a0\u4e2atag,activity\u9500\u6bc1\u65f6\u4fee\u6539tag\u503c\uff0c\u4e0d\u7ee7\u7eed\u6267\u884c\u7ebf\u7a0b\u4e2d\u7684\u64cd\u4f5c AsyncTask \u5728AsyncTask\u4e2d\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\uff0c\u5b8c\u6210\u540e\uff0c\u66f4\u65b0ui\uff0c\u6709\u65f6\u4f1a\u5728\u8017\u65f6\u64cd\u4f5c\u8fd8\u6ca1\u7ed3\u675f\uff0cactivity\u5c31\u9000\u51fa\u4e86\uff0c\u4f46\u662f\u5f15\u7528\u8fd8\u88abAsyncTask\u6301\u6709\uff0c\u65e0\u6cd5\u91ca\u653e\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002 \u89e3\u51b3\u65b9\u6cd5\uff1a\u5728ondestroy\u7684\u65f6\u5019\uff0c\u8c03\u7528AsyncTask.cancel() 5. \u8d44\u6e90\u672a\u5173\u95edBroadcastReceiver\u3001\u6ce8\u518c\u540e\u8bb0\u5f97\u53d6\u6d88\u6ce8\u518c\u3002 6. \u52a8\u753b\u8d44\u6e90\u672a\u91ca\u653e\uff0c\u65e0\u9650\u5faa\u73af\u52a8\u753b \u5f71\u54cd\uff1f oom \u5de5\u5177-leakcanary java\u7684GC\u5185\u5b58\u56de\u6536\u673a\u5236\u662f\u4ec0\u4e48\uff1f \u7b54\uff1a\u5bf9\u8c61\u5728\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\u7684\u65f6\u5019\u624d\u4f1a\u88ab\u56de\u6536 GC\u56de\u6536\u673a\u5236\u7684\u539f\u7406\u662f\u4ec0\u4e48\uff1f/\u53ef\u4ee5\u4f5c\u4e3aGC Root\u5f15\u7528\u70b9\u662f\u5565\uff1f \u7b54\uff1a1.java\u6808\u4e2d\u5f15\u7528\u7684\u5bf9\u8c612.\u65b9\u6cd5\u9759\u6001\u5f15\u7528\u7684\u5bf9\u8c613.\u65b9\u6cd5\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c614.Native\u4e2dJNI\u5f15\u7528\u7684\u5bf9\u8c615.Thread-\u6d3b\u7740\u7684\u7ebf\u7a0b\u3002 \u5185\u5b58\u6cc4\u6f0f\u539f\u56e0\uff1f \u7b54:\u4ee3\u7801\u5b58\u5728\u6cc4\u6f0f\uff0c\u5185\u5b58\u65e0\u6cd5\u91ca\u653e/\u56fe\u7247\u52a0\u8f7d\u6d88\u8017\u5927\u91cf\u5185\u5b58\uff0c\u7cfb\u7edf\u7ed9\u5e94\u7528\u5206\u914d\u5185\u5b58\u5373\u4e3a\u5e94\u7528\u80fd\u5360\u7528\u5185\u5b58\u7684\u6700\u5927\u503c\u3002 Android Profiler \u6d4b\u91cf\u5e94\u7528\u6027\u80fd \u4ee3\u7801\u4f18\u5316 \u4f7f\u7528lint\u68c0\u67e5\u53d6\u51fa\u65e0\u6548\u4ee3\u7801 \u68c0\u6d4b\u672a\u4f7f\u7528\u7684\u8d44\u6e90 \u70b9\u51fb\u83dc\u5355\u680f Analyze -> Run Inspection by Name -> unused resources -> Moudule \u2018app\u2019 -> OK \u68c0\u6d4b\u65e0\u6548\u4ee3\u7801 \u6b65\u9aa4\uff1a\u70b9\u51fb\u83dc\u5355\u680f Analyze -> Run Inspection by Name -> unused declaration -> Moudule \u2018app\u2019 -> OK \u4ee3\u7801\u89c4\u8303\u4f18\u5316 \u907f\u514d\u521b\u5efa\u4e0d\u5fc5\u8981\u7684\u5bf9\u8c61\uff0c\u8d8a\u5c11\u7684\u5bf9\u8c61\u610f\u5473\u7740\u8d8a\u5c11\u7684GC\u64cd\u4f5c 1. \u5b57\u7b26\u4e32\u62fc\u63a5\u4f18\u5148\u4f7f\u7528stringBuilder\u6216stringBuffer,\u800c\u4e0d\u662f+\u53f7\u8fde\u63a5\uff0c+\u4f1a\u521b\u5efa\u591a\u4f59\u7684\u5bf9\u8c61\uff0c\u62fc\u63a5\u7684\u5b57\u7b26\u4e32\u8d8a\u957f\uff0c+\u53f7\u8fde\u63a5\u7b26\u7684\u6027\u80fd\u8d8a\u4f4e 2. \u5f53\u4e00\u4e2a\u65b9\u6cd5\u8fd4\u56de\u503c\u4e3astring\u901a\u5e38\u8981\u5224\u65adstring\u7684\u4f5c\u7528\uff0c\u5982\u679c\u660e\u786e\u77e5\u9053\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684string\u518d\u8fdb\u884c\u62fc\u63a5\u53ef\u4ee5\u8003\u8651\u8fd4\u56de\u4e00\u4e2astringBuuffer\u5bf9\u8c61\u6765\u66ff\u4ee3\uff0c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u8fd4\u56de\uff0c\u800c\u8fd4\u56destring\u5219\u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u77ed\u751f\u547d\u5468\u671f\u7684\u4e34\u65f6\u5bf9\u8c61\u3002 \u9759\u6001\u4f18\u4e8e\u62bd\u8c61 \u5982\u679c\u53ea\u662f\u60f3\u8c03\u7528\u6765\u5b8c\u6210\u67d0\u9879\u529f\u80fd\uff0c\u53ef\u8bbe\u7f6e\u6210\u9759\u6001\u7684\uff0c\u4e0d\u7528\u4e13\u95e8\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u800c\u521b\u5efa\u5bf9\u8c61 \u5bf9\u5e38\u91cf\u4f7f\u7528static final\u4fee\u9970 \u53bb\u9664\u6de1\u9ec4\u8272\u8b66\u544a \u8282\u5236\u7684\u4f7f\u7528service,\u53ef\u8003\u8651\u4f7f\u7528intentServie\u4ee3\u66ffservice \u4e0d\u9002\u7528\u9759\u6001\u53d8\u91cf\u4fdd\u5b58\u6838\u5fc3\u6570\u636e android\u7684\u8fdb\u7a0b\u5e76\u4e0d\u662f\u5b89\u5168\u7684\uff0c\u88abkill\u6389\u540e\uff0capp\u4e0d\u4f1a\u91cd\u65b0\u5f00\u59cb\u542f\u52a8\uff0candroid\u7cfb\u7edf\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Apllication\u5bf9\u8c61\u7136\u540e\u542f\u52a8\u4e0a\u6b21\u7528\u6237\u79bb\u5f00\u65f6\u7684activity,\u9020\u6210\u8fd9\u4e2aapp\u4ece\u6765\u6ca1\u6709\u9000\u51fa\u7684\u5047\u8c61\uff0c\u9759\u6001\u53d8\u91cf\u6570\u636e\u7531\u4e8e\u8fdb\u7a0b\u88ab\u6740\u6b7b\u800c\u88ab\u521d\u59cb\u5316\u3002 \u8f6e\u8be2\u64cd\u4f5c\u4f18\u5316 \u5927\u6982\u601d\u8def\uff1a\u5f53\u7528\u6237\u6253\u5f00\u8fd9\u4e2a\u9875\u9762\u7684\u65f6\u5019\u521d\u59cb\u5316TimerTask\u5bf9\u8c61\uff0c\u6bcf\u4e2a\u4e00\u5206\u949f\u8bf7\u6c42\u4e00\u6b21\u670d\u52a1\u5668\u62c9\u53d6\u8ba2\u5355\u4fe1\u606f\u5e76\u66f4\u65b0UI\uff0c\u5f53\u7528\u6237\u79bb\u5f00\u9875\u9762\u7684\u65f6\u5019\u6e05\u9664TimerTask\u5bf9\u8c61\uff0c\u5373\u53d6\u6d88\u8f6e\u8bad\u8bf7\u6c42\u64cd\u4f5c UI\u4f18\u5316\uff08\u5e03\u5c40\u4f18\u5316\u548c\u7ed8\u5236\u4f18\u5316\uff09 \u6bcf\u79d260\u5e27\uff0c\u76f8\u5f53\u4e8e\u6bcf\u5e27\u9700\u8981\u5728\u5927\u698216\u6beb\u79d2\u5185\u5b8c\u6210\u6e32\u67d3\uff0c\u5426\u5219\u5c31\u4f1a\u5361\u987f ui\u7ebf\u7a0b\u505a\u8017\u65f6\u64cd\u4f5c Layout\u8fc7\u4e8e\u590d\u6742\uff0c\u65e0\u6cd5\u572816ms\u5185\u5b8c\u6210\u6e32\u67d3 \u540c\u4e00\u65f6\u95f4\u52a8\u753b\u6267\u884c\u7684\u6b21\u6570\u8fc7\u591a\uff0cCPU GPU\u8d1f\u8377\u8fc7\u91cd View\u9891\u7e41\u7684\u89e6\u53d1measure layout \u5185\u5b58\u9891\u7e41\u51fa\u53d1gc,stoptheword onDraw\u65b9\u6cd5\u4e0d\u9700\u8981\u521b\u5efa\u65b0\u7684\u5bf9\u8c61 onDraw\u65b9\u6cd5\u4e0d\u9700\u8981\u6267\u884c\u8017\u65f6\u64cd\u4f5c\u5faa\u73af \u65e0\u7528\u7684\u8d44\u6e90\u548c\u903b\u8f91\u5bfc\u81f4\u52a0\u8f7d\u548c\u6267\u884c\u7f13\u6162\uff09 Analyze->Run Inspection by Name\u2026 \u2013>unused resource Analyze->Inspect Code anr \u901a\u8fc7\u77ac\u65f6\u6d4b\u8bd5\u548c\u538b\u529b\u6d4b\u8bd5\u66f4\u5bb9\u6613\u51fa\u53d1\u4e0a\u9762\u95ee\u9898 \u5982\u4f55\u6765\u5b9a\u4f4d\uff1f 1. \u7cfb\u7edf\u8bbe\u7f6e-\u5f00\u53d1\u8005\u9009\u9879-\u8c03\u8bd5GPU\u8fc7\u5ea6\u7ed8\u5236\uff0c\u7ea2\u8272\u533a\u57df\u8fc7\u5ea6\u7ed8\u5236\uff0c\u5c42\u7ea7/relativelayout\u548clinealayout 2. \u5e03\u5c40\u4f18\u5316 include\u4f18\u5316-\u91cd\u7528\u516c\u5171\u5e03\u5c40 viewstub\u4f18\u5316-\u4ec5\u5728\u9700\u8981\u65f6\u624d\u52a0\u8f7d\u5e03\u5c40\u6027\u80fd\u6bd4VISISBLE\u597d merge\u4f18\u5316-\u53ef\u4ee5\u5220\u51cf\u591a\u4f59\u7684\u5c42\u7ea7\uff0c\u4f18\u5316ui\uff0c\u4f46\u662f\u65e0\u6cd5\u9884\u89c8 \u51cf\u5c11\u91cd\u53e0\uff0c\u80cc\u666f\u56fe,selector normal\u6539\u6210\u900f\u660e \u901f\u5ea6\u4f18\u5316\uff08\u7ebf\u7a0b\u4f18\u5316\u548c\u7f51\u7edc\u4f18\u5316\uff09 ANR Activity 5s\u89e6\u6478\u6216\u8005\u952e\u76d8\u8f93\u5165\u4e8b\u4ef6\u65e0\u54cd\u5e94\uff0cbroadcastReceiver 10s, service 20s \u7ebf\u7a0b\u4f18\u5316 \u4ee5\u4e0a\u51fa\u73b0\u7684anr\u591a\u6570\u7531\u4e8e\u7ebf\u7a0b\u963b\u585e\u5f15\u8d77\u7684\uff0c\u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u89e3\u51b3 * Asytask * HandlerThread * ThreadPool * intentService * \u4f7f\u7528\u7ebf\u7a0b\u6c60 \u76f4\u63a5\u521b\u5efaThread\u5b9e\u73b0Runable\u7684\u5f0a\u7aef\uff0c\u5927\u91cf\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\u5f88\u5bb9\u6613\u5bfc\u81f4gc\u9891\u7e41\u7684\u6267\u884c\uff0c\u53d1\u751f\u5185\u5b58\u6296\u52a8\u4ece\u800c\u9020\u6210\u754c\u9762\u5361\u987f \u4e3a\u4ec0\u4e48\u4f7f\u7528\u7ebf\u7a0b\u6c60\uff1f 1. \u91cd\u7528\u7ebf\u7a0b 2. \u63a7\u5236\u6700\u5927\u5e76\u53d1\u6570\u91cf 3. \u5bf9\u7ebf\u7a0b\u8fdb\u884c\u4e00\u5b9a\u7684\u7ba1\u7406 \u4f8b\u5b50\uff1a Rxjava\uff0crxandroid \u7f51\u7edc\u4f18\u5316 \u56fe\u7247\uff1a \u56fe\u7247\u4f18\u5316\u4f7f\u7528webP\u683c\u5f0f\uff0c\u5927\u5e45\u8282\u7701\u6d41\u91cf\uff0c\u76f8\u5bf9\u4e8ejpg\u8282\u770125~35%\uff0c\u5bf9\u4e8epng\u8282\u770180% Bitmap\u4f18\u5316 \u4f7f\u7528Android Matrix\u5bf9\u56fe\u7247\u7f29\u653e\u3002 \u5982\u4f55\u5728\u4e0d\u4f7f\u7528 \u7f29\u7565\u56fe\uff0c\u4e0d\u538b\u7f29\uff0c\u4f18\u5316\uff0c\u4f7f\u7528android bitmapRigionDecode\u663e\u793a\u6307\u5b9a\u533a\u57df\u3002 Glide\u52a0\u8f7d\u4f18\u5316 \u4e4b\u524d\u770b\u5230\u8c46\u74e3\u7684\u5f00\u6e90\u63a5\u53e3\uff0c\u601d\u8def\u5f88\u597d\uff0c\u63a5\u53e3\u8fd4\u56de\u56fe\u7247\u7684\u6570\u636e\u6709\u4e09\u79cd\uff0c\u9ad8\u6e05\u5927\u56fe\u3001\u6b63\u5e38\u56fe\u7247\u3001\u7f29\u7565\u56fe\uff0c\u5904\u4e8ewifi\u7528\u9ad8\u6e05\u5927\u56fe\uff0c4g\u62163g\u7528\u6b63\u5e38\uff0c\u5f31\u7f51\u6761\u4ef6\u4e0b\u52a0\u8f7d\u7f29\u7565\u56fe \u7f51\u7edc\u8bf7\u6c42\u5904\u7406\uff1a \u5bf9\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u6570\u636e\u5408\u7406\u7684\u7f13\u5b58 \u4e0b\u8f7d\u91c7\u7528\u65ad\u70b9\u7eed\u4f20 \u5237\u65b0\u6570\u636e\u5c3d\u53ef\u80fd\u91c7\u7528\u5c40\u90e8\u5237\u65b0 \u52a0\u8f7dLoading\u4f18\u5316 \u4e00\u79cd\u5c31\u662f\u4eceA\u9875\u9762\u8df3\u8f6c\u5230B\u9875\u9762\u65f6\u7684\u52a0\u8f7dloading,loading\u7684\u65f6\u5019\u9875\u9762\u662f\u7eaf\u767d\u8272\uff0c\u52a0\u8f7d\u5b8c\u6570\u636e\u624d\u663e\u793a\u5185\u5bb9\u9875\u9762 \u5728\u67d0\u4e2a\u9875\u9762\u64cd\u4f5c\u67d0\u79cd\u903b\u8f91\uff0c\u5c40\u90e8loading(\u5e27\u52a8\u753b\u6216\u8005\u8865\u95f4\u52a8\u753b)\uff0c\u5efa\u8bae\u5728\u9500\u6bc1\u5f39\u7a97\u65f6\uff0c\u9500\u6bc1\u52a8\u753b\u3002 \u7535\u91cf\u4f18\u5316 \u91cd\u89c6\u7a0b\u5ea6\u4f4e\uff0c\u97f3\u4e50\u548c\u89c6\u9891\u8017\u7535\u6700\u5927 \u7f51\u7edc\u8bf7\u6c42\u524d\u5148\u5224\u65ad\u7f51\u7edc\u7684\u72b6\u6001 \u7f51\u7edc\u8bf7\u6c42\u6700\u597d\u8fdb\u884c\u6279\u91cf\u5904\u7406\uff0c\u907f\u514d\u9891\u7e41\u95f4\u9694\u7684\u7f51\u7edc\u8bf7\u6c42 \u6709wifi\u548c\u79fb\u52a8\u7f51\u7edc\u4f18\u5148\u4f7f\u7528wifi,\u8bf7\u6c42wifi\u7684\u8017\u7535\u91cf\u8fdc\u6bd4\u79fb\u52a8\u8017\u7535\u91cf\u4f4e \u542f\u52a8\u4f18\u5316 \u51b7\u542f\u52a8 \u8017\u65f6\u6700\u957f\u7684\uff0c\u7b2c\u4e00\u6b21\u542f\u52a8app\u6216\u8005\u6740\u6b7b\u8fdb\u7a0b\u7b2c\u4e00\u6b21\u542f\u52a8\uff0c\u4e3b\u8981\u5305\u62ecapplication creat\u548cactivity\u7684creat\uff0c\u56e0\u6b64\u5728\u4e24\u4e2a\u7c7b\u7684oncreat\u65b9\u6cd5\u4e2d\u505a\u7684\u4e8b\u60c5\u8d8a\u591a\uff0c\u51b7\u542f\u52a8\u6d88\u8017\u7684\u65f6\u95f4\u8d8a\u957f \u6696\u542f\u52a8 \u5f53\u5e94\u7528\u4e2d\u7684Activity\u88ab\u9500\u6bc1\uff0c\u4f46\u5728\u5185\u5b58\u4e2d\u5e38\u9a7b\u65f6\uff0c\u542f\u52a8\u65b9\u5f0f\u5c31\u53d8\u6210\u6696\u542f\u52a8\uff0c\u51cf\u5c11\u4e86\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u3001\u5e03\u5c40\u52a0\u8f7d\u7b49\u5de5\u4f5c\uff0c\u542f\u52a8\u65f6\u95f4\u66f4\u77ed\uff0c\u7cfb\u7edf\u4f9d\u7136\u4f1a\u5c55\u73b0\u95ea\u5c4f\u9875\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2aactivity\u9875\u9762\u5448\u73b0 \u70ed\u542f\u52a8 \u7528\u6237\u4f7f\u7528\u8fd4\u56de\u952e\u9000\u51fa\u5e94\u7528\uff0c\u7136\u540e\u53c8\u9a6c\u4e0a\u91cd\u65b0\u542f\u52a8\u5e94\u7528 1. \u767d\u5c4f 2. \u95ea\u5c4f\u9875\u5012\u8ba1\u65f6\u8fdb\u884c\u4e00\u4e9b\u9884\u52a0\u8f7d 3. \u4e3b\u7ebf\u7a0b\u4e2d\u6d89\u53ca\u5230\u7684sp\u64cd\u4f5c\u5c3d\u91cf\u5728\u975eui\u7ebf\u7a0b\u6267\u884c 4. application\u521b\u5efa\u8fc7\u7a0b\u5c3d\u91cf\u5c11\u7684\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c 5. \u51cf\u5c11\u5e03\u5c40\u7684\u5c42\u6b21 \u542f\u52a8\u9875\u4f18\u5316 \u542f\u52a8\u65f6\u95f4\u4f18\u5316\uff0c\u4eceApplication\u7684onCreat()\u65b9\u6cd5\u5f00\u59cb\u5230MainActivity\u7684onCreat()\u6267\u884c\u7ed3\u675f \u5ef6\u8fdf\u521d\u59cb\u5316 \u540e\u53f0\u4efb\u52a1 \u542f\u52a8\u754c\u9762\u9884\u52a0\u8f7d * intentService\u5206\u62c5\u90e8\u5206\u521d\u59cb\u5316\u5de5\u4f5c bugly\\\u63a8\u9001\uff0c\u70ed\u4fee\u590d\u7b49\u3002\u3002\u3002 \u542f\u52a8\u9875\u767d\u5c4f\u5904\u7406 \u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\uff1f zygote\u5728\u542f\u52a8\u4e00\u4e2aAPP\u65f6\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u53bb\u8fd0\u884c\u8fd9\u4e2aapp,\u521b\u5efa\u8fdb\u7a0b\u662f\u9700\u8981\u65f6\u95f4\u7684\uff0c\u521b\u5efa\u5b8c\u6210\u4e4b\u524d\uff0c\u754c\u9762\u662f\u5047\u6b7b\u72b6\u6001\uff0c\u7cfb\u7edf\u6839\u636e\u4f60\u7684manifest\u6587\u4ef6\u8bbe\u7f6e\u7684\u4e3b\u9898\u989c\u8272\u6765\u5c55\u793a\u4e00\u4e2a\u767d\u5c4f\u6216\u8005\u9ed1\u5c4f\uff0c\u79f0\u4e3apreview window\uff0c\u5373\u9884\u89c8\u7a97\u53e3 \u5b9e\u9645\u5c31\u662factivity\u9ed8\u8ba4\u4e3b\u9898\u7684android:windowBackground\u4e3a\u767d\u8272\u6216\u8005\u9ed1\u8272\u51b3\u5b9a\u7684 APP\u542f\u52a8--previewWindow--\u542f\u52a8\u9875 \u89e3\u51b3\u529e\u6cd5\u6709\u900f\u660e\u4e3b\u9898 \u6dfb\u52a0\u4e00\u4e2a\u6709\u80cc\u666f\u7684style\u6837\u5f0f \uff0c\u7136\u540e\u95ea\u5c4f\u9875\u5f15\u7528\u8be5theme\u4e3b\u9898\uff0c\u5728\u8be5\u9875\u9762\u5c06window\u7684\u80cc\u666f\u56fe\u7247\u8bbe\u7f6e\u4e3a\u7a7a \u5206\u6790\u6027\u80fd\u7684\u5de5\u5177 Systrace \u8fdb\u884c\u57cb\u70b9\uff0c\u4f7f\u7528\u95e8\u69db\u641e\u70b9\uff0c\u9700\u8981\u8f93\u5165\u547d\u4ee4 \u539f\u7406\uff1a\u5728\u4e00\u4e9b\u5173\u952e\u94fe\u8def\u4e2d\u63d2\u5165label,\u901a\u8fc7label\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u65f6\u95f4\u6765\u786e\u5b9a\u67d0\u4e2a\u6838\u5fc3\u8fc7\u7a0b\u7684\u6267\u884c\u65f6\u95f4\uff0cframwork\u5c42\u548cjava\u4ece\u90fd\u63d2\u5165\u4e86label\u4fe1\u606f\uff0c\u4ea6\u53ef\u4ee5\u81ea\u5b9a\u4e49label \u7cfb\u7edf\u7248\u672c\u8d8a\u9ad8\uff0cFramwork\u4e2d\u6dfb\u52a0\u7684\u7cfb\u7edf\u53ef\u7528label\u5c31\u8d8a\u591a \u4f7f\u7528\u6ce8\u610f\u4e8b\u9879\uff1a 1. \u624b\u52a8\u7f29\u5c0f\u8303\u56f4 2. sdk/plaform-tools/systrace\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4 3. \u6267\u884c\u7ed3\u675f\u540e\u4f1a\u751f\u6210\u4e00\u4e2atrace.html\u6587\u4ef6 \u81ea\u5b9a\u4e49label \u5728\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u5730\u65b9\u52a0\u4e0a\u81ea\u5b9a\u4e49label,\u6293\u4e00\u904dtrace\uff0c\u5206\u6790\u95ee\u9898 \u5982\u4f55\u5206\u6790\u975edebug app debug\u548c\u975edebug\u6027\u80fd\u5dee\u522b\u5f88\u5927\uff0c\u4e3a\u4e86\u652f\u6301debug,\u7cfb\u7edf\u5f00\u542f\u4e86\u4e00\u4e9b\u5217\u529f\u80fd\uff0c\u5e76\u4e14\u5173\u95ed\u6389\u4e86\u67d0\u4e9b\u91cd\u8981\u4f18\u5316 \uff0c\u8981\u60f3\u5206\u6790app\u771f\u5b9e\u7684\u8fd0\u884c\u60c5\u51b5\u5fc5\u987b\u8981\u5728\u975edebug\u7684APP\u4e2d\u542f\u52a8systrace\u529f\u80fd\u3002 \u901a\u8fc7\u53cd\u5c04\u8c03\u7528sdk\u4e2d\u4e00\u4e2a@hide\u7684\u51fd\u6570 traceView \u8fd0\u884c\u65f6\u5f00\u9500\u5f88\u4e25\u91cd\uff0ctrace\u4f1a\u6536\u96c6\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6240\u6709\u65b9\u6cd5\u7684\u8017\u65f6\u60c5\u51b5 \u53ef\u4ee5\u57cb\u70b9 Profiler APK\u7626\u8eab APK\u6784\u6210\u521d\u63a2 \u5c06apk\u5305\u62d6\u5230android studio\u4e2d\u5c31\u53ef\u4ee5\u770b\u5230\u5305\u7ed3\u6784\u4e86\u3002 lib \u4e3b\u8981\u5b58\u50a8\u5404cpu\u67b6\u6784\u7684so\u5e93 classes.dex java\u6587\u4ef6\u7f16\u8bd1\u751f\u6210\u7684\u5b57\u8282\u7801\u6587\u4ef6 res \u8d44\u6e90\u6587\u4ef6 AndroidManifest.xml \u914d\u7f6e\u6587\u4ef6 META-INFO \u76f8\u5173\u7b7e\u540d\u4fe1\u606f resource.arsc \u8d44\u6e90\u6587\u4ef6\u6620\u5c04\u8868 \u4f18\u5316\u65b9\u6848 \u4f7f\u7528minifyEnable\u6df7\u6dc6\u4ee3\u7801 android { buildTypes { release { minifyEnabled true } } } proguard-rules.pro\u4e2d\u7f16\u5199\u6df7\u6dc6\u89c4\u5219 \u4f7f\u7528ShrinkResources\u79fb\u9664\u65e0\u7528\u8d44\u6e90 android { buildTypes { release { minifyEnabled true shrinkResources true } } } shrinkResource\u5fc5\u987b\u4e0eminifyResource\u540c\u65f6\u5f00\u542f\u624d\u6709\u6548\u3002 \u6ce8\u610f\uff1a\u91c7\u7528\u8be5\u65b9\u6cd5\u5176\u5b9e\u65e0\u7528\u7684\u8d44\u6e90\u5e76\u6ca1\u6709\u88ab\u79fb\u9664\u6389\uff0c\u800c\u662f\u88ab\u4f53\u79ef\u66f4\u5c0f\u7684\u5360\u4f4d\u7b26\u66ff\u4ee3\u4e86 \u5220\u9664\u9879\u76ee\u4e2d\u672a\u4f7f\u7528\u5230\u7684\u8d44\u6e90\u6587\u4ef6 \u901a\u8fc7androidstudio\u63d0\u4f9b\u7684lint\u5de5\u5177\uff0canalyze-run inspection by name\u7136\u540e\u8f93\u5165unused resource\u67e5\u627e\u672a\u4f7f\u7528\u7684\u8d44\u6e90\u6587\u4ef6\uff0c\u7136\u540e\u5220\u9664\u3002 \u5220\u9664\u9879\u76ee\u4e2d\u672a\u4f7f\u7528\u7684\u4ee3\u7801 analyze-run inspection by name\u7136\u540e\u8f93\u5165unused declearation \u627e\u5230\u65e0\u7528\u4ee3\u7801\u5bf9\u5176\u5220\u9664 \u901a\u8fc7\u53cd\u5c04\u5f15\u7528\u7684\u65b9\u6cd5\u6216\u8005\u7c7b\uff0clint\u8bc6\u522b\u4e0d\u4e86\uff0c\u4e5f\u4f1a\u7ed9\u68c0\u67e5\u51fa\u6765\uff0c\u5220\u9664\u7684\u65f6\u5019\u901a\u8fc7\u53cd\u5c04\u5f15\u7528\u7684\u65b9\u6cd5\u6216\u8005\u7c7b\u5343\u4e07\u4e0d\u80fd\u5220\u9664 \u5bf9\u56fe\u7247\u8fdb\u884c\u538b\u7f29 \u5c06Png\u56fe\u7247\u6362\u6210\u4f53\u79ef\u66f4\u5c0f\u7684jpg\u683c\u5f0f\u3002 \u4f7f\u7528tinypng\u6216\u8005upng\u5bf9\u56fe\u7247\u8fdb\u884c\u538b\u7f29 \u4f7f\u7528vector\u77e2\u91cf\u56fe \u5c06\u56fe\u7247\u8f6c\u5316\u6210webP\u683c\u5f0f(\u8981\u6c42\u6700\u4f4e\u7684api\u662f18)\u8f6c\u6362\u540ejpg\u8282\u770135%\u3002png 80% \u4f7f\u7528shape\u4ee3\u66ff\u56fe\u7247 \u4f7f\u7528Resource Configs\u8fdb\u884c\u8bed\u8a00\u914d\u7f6e Android\u5e94\u7528\u672c\u8eab\u662f\u652f\u6301\u56fd\u9645\u5316\u7684\uff0c\u4f46\u56fd\u5185\u7684\u9879\u76ee\u597d\u591a\u90fd\u662f\u5728\u56fd\u5185\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u56fd\u9645\u5316\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5bf9\u76f8\u5173\u7684String\u8fdb\u884c\u51cf\u6cd5\u64cd\u4f5c\uff0c\u4f7f\u5176\u53ea\u5305\u542b\u7279\u5b9a\u7684\u8bed\u8a00\uff08\u4f8b\u5982\u4e2d\u6587\uff09 android { defaultConfig { ... //\u8bed\u8a00\u8d44\u6e90\uff0c\u53ea\u652f\u6301\u4e2d\u6587 resConfigs \"zh-rCN\" } } so\u5e93\u64cd\u4f5c\uff0c\u5728\u5f15\u5165\u7b2c\u4e09\u65b9sdk\u96be\u514d\u8981\u5f15\u5165\u5bf9\u5e94\u7684so\u5e93\uff0c\u4e00\u822c\u7ed9\u5230\u7684so\u5e93\u5206\u597d\u591a\u67b6\u6784\uff08armeabi, armeabi-v7a, x86\u7b49\u7b49\uff09 Android\u7cfb\u7edf \u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u4e03\u79cd\u4e0d\u540c\u7684CPU\u67b6\u6784\uff1a ARMv5 ARMv7 x86 MIPS ARMv8 MIPS64 x86_64 \u6240\u6709\u7684\u67b6\u6784\u8bbe\u5907x86,x8664,armeabi-v7a,arm64-v8a\u90fd\u652f\u6301armeabi\u67b6\u6784\u7684.so\u6587\u4ef6\uff0c\u6240\u4ee5\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u4f7f\u7528armeabi\u6216\u8005armeabi-v7a \u5fae\u4fe1\u3001qq\u3001\u7f51\u6613\u4e91\u97f3\u4e50\u7b49\u90fd\u53ea\u4fdd\u7559\u4e86armeabi-v7a android { defaultConfig { ndk { abiFilters 'armeabi','armeabi-v7a' } } }","title":"APP\u6574\u4f53\u4f18\u5316"},{"location":"better/#_1","text":"\u6027\u80fd\u4f18\u5316 \u5185\u5b58\u4f18\u5316 \u4ec0\u4e48\u662f\u5185\u5b58\u6cc4\u6f0f\uff1f \u539f\u56e0 \u5f71\u54cd\uff1f \u5de5\u5177-leakcanary \u4ee3\u7801\u4f18\u5316 \u4f7f\u7528lint\u68c0\u67e5\u53d6\u51fa\u65e0\u6548\u4ee3\u7801 \u4ee3\u7801\u89c4\u8303\u4f18\u5316 UI\u4f18\u5316\uff08\u5e03\u5c40\u4f18\u5316\u548c\u7ed8\u5236\u4f18\u5316\uff09 \u5e03\u5c40\u4f18\u5316 \u901f\u5ea6\u4f18\u5316\uff08\u7ebf\u7a0b\u4f18\u5316\u548c\u7f51\u7edc\u4f18\u5316\uff09 \u7ebf\u7a0b\u4f18\u5316 \u4f7f\u7528\u7ebf\u7a0b\u6c60 \u7f51\u7edc\u4f18\u5316 \u56fe\u7247\uff1a \u52a0\u8f7dLoading\u4f18\u5316 \u7535\u91cf\u4f18\u5316 \u542f\u52a8\u4f18\u5316 \u51b7\u542f\u52a8 \u6696\u542f\u52a8 \u70ed\u542f\u52a8 \u542f\u52a8\u9875\u4f18\u5316 \u5206\u6790\u6027\u80fd\u7684\u5de5\u5177 APK\u7626\u8eab APK\u6784\u6210\u521d\u63a2 \u4f18\u5316\u65b9\u6848","title":"\u6027\u80fd\u4f18\u5316"},{"location":"better/#_2","text":"\u5185\u5b58\u6cc4\u6f0f\u662f\u5e38\u5ba2","title":"\u5185\u5b58\u4f18\u5316"},{"location":"better/#_3","text":"\u5185\u5b58\u4e0d\u5728GC\u7684\u638c\u63a7\u8303\u56f4\u5185 \u5bf9\u4e00\u4e9b\u5bf9\u8c61\u6709\u6709\u9650\u7684\u5468\u671f\u58f0\u660e\uff0c\u5e0c\u671b\u8981\u505a\u7684\u4e8b\u5b8c\u6210\u4e86\uff0c\u5b83\u4f1a\u88ab\u5783\u573e\u56de\u6536\u5668\u56de\u6536\u6389\uff0c\u4f46\u662f\u6709\u4e00\u4e9b\u5bf9\u8fd9\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u8fd8\u5b58\u5728\uff0c\u5bfc\u81f4\u65e0\u6cd5\u88ab\u56de\u6536\uff0c\u5360\u7528\u5185\u5b58\uff0c\u6301\u7eed\u7d2f\u52a0\uff0c\u5185\u5b58\u5f88\u5feb\u88ab\u8017\u5c3dOOM. \u5982\u4e00\u4e2aactivity\u7684onDestroy\u88ab\u8c03\u7528\uff0c\u4f46\u662f\u5982\u679c\u6709\u4e00\u4e2a\u540e\u53f0\u7ebf\u7a0b\u6301\u6709\u8fd9\u4e2aactivity\u7684\u5f15\u7528\uff0c\u8be5activity\u5360\u7528\u7684\u5185\u5b58\u5c31\u4e0d\u80fd\u88ab\u56de\u6536\u3002","title":"\u4ec0\u4e48\u662f\u5185\u5b58\u6cc4\u6f0f\uff1f"},{"location":"better/#_4","text":"\u9519\u8bef\u4f7f\u7528\u5355\u4f8b-context(ApplicationContext) handler \u5728handler\u4e2d\u8bbe\u7f6eui\u5143\u7d20 \u89e3\u51b3\u65b9\u6848\uff1a 1. activity\u5173\u95ed\u7684\u65f6\u5019\u79fb\u9664\u6240\u6709\u7684\u6d88\u606f\u548crunable 2. \u91c7\u7528\u9759\u6001\u5185\u90e8\u7c7b+\u5f31\u5f15\u7528 thread \u975e\u9759\u6001\u5185\u90e8\u7c7b\u6216\u8005\u533f\u540d\u7c7b\u521b\u5efa\u7ebf\u7a0b\u4f1a\u9690\u5f0f\u5f15\u7528activity,\u7ebf\u7a0brun\u65b9\u6cd5\u4e0d\u6267\u884c\u5b8c\uff0c\u7ebf\u7a0b\u662f\u4e0d\u4f1a\u9500\u6bc1\u7684\uff0c\u6240\u5f15\u7528\u7684activity\u4e5f\u4e0d\u4f1a\u9500\u6bc1\u3002 \u89e3\u51b3\u65b9\u6848\uff1a \u7ebf\u7a0b\u5185\u90e8\u4f7f\u7528\u5f31\u5f15\u7528/\u52a0\u4e2atag,activity\u9500\u6bc1\u65f6\u4fee\u6539tag\u503c\uff0c\u4e0d\u7ee7\u7eed\u6267\u884c\u7ebf\u7a0b\u4e2d\u7684\u64cd\u4f5c AsyncTask \u5728AsyncTask\u4e2d\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\uff0c\u5b8c\u6210\u540e\uff0c\u66f4\u65b0ui\uff0c\u6709\u65f6\u4f1a\u5728\u8017\u65f6\u64cd\u4f5c\u8fd8\u6ca1\u7ed3\u675f\uff0cactivity\u5c31\u9000\u51fa\u4e86\uff0c\u4f46\u662f\u5f15\u7528\u8fd8\u88abAsyncTask\u6301\u6709\uff0c\u65e0\u6cd5\u91ca\u653e\u5bfc\u81f4\u5185\u5b58\u6cc4\u6f0f\u3002 \u89e3\u51b3\u65b9\u6cd5\uff1a\u5728ondestroy\u7684\u65f6\u5019\uff0c\u8c03\u7528AsyncTask.cancel() 5. \u8d44\u6e90\u672a\u5173\u95edBroadcastReceiver\u3001\u6ce8\u518c\u540e\u8bb0\u5f97\u53d6\u6d88\u6ce8\u518c\u3002 6. \u52a8\u753b\u8d44\u6e90\u672a\u91ca\u653e\uff0c\u65e0\u9650\u5faa\u73af\u52a8\u753b","title":"\u539f\u56e0"},{"location":"better/#_5","text":"oom","title":"\u5f71\u54cd\uff1f"},{"location":"better/#-leakcanary","text":"java\u7684GC\u5185\u5b58\u56de\u6536\u673a\u5236\u662f\u4ec0\u4e48\uff1f \u7b54\uff1a\u5bf9\u8c61\u5728\u6ca1\u6709\u4efb\u4f55\u5f15\u7528\u7684\u65f6\u5019\u624d\u4f1a\u88ab\u56de\u6536 GC\u56de\u6536\u673a\u5236\u7684\u539f\u7406\u662f\u4ec0\u4e48\uff1f/\u53ef\u4ee5\u4f5c\u4e3aGC Root\u5f15\u7528\u70b9\u662f\u5565\uff1f \u7b54\uff1a1.java\u6808\u4e2d\u5f15\u7528\u7684\u5bf9\u8c612.\u65b9\u6cd5\u9759\u6001\u5f15\u7528\u7684\u5bf9\u8c613.\u65b9\u6cd5\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c614.Native\u4e2dJNI\u5f15\u7528\u7684\u5bf9\u8c615.Thread-\u6d3b\u7740\u7684\u7ebf\u7a0b\u3002 \u5185\u5b58\u6cc4\u6f0f\u539f\u56e0\uff1f \u7b54:\u4ee3\u7801\u5b58\u5728\u6cc4\u6f0f\uff0c\u5185\u5b58\u65e0\u6cd5\u91ca\u653e/\u56fe\u7247\u52a0\u8f7d\u6d88\u8017\u5927\u91cf\u5185\u5b58\uff0c\u7cfb\u7edf\u7ed9\u5e94\u7528\u5206\u914d\u5185\u5b58\u5373\u4e3a\u5e94\u7528\u80fd\u5360\u7528\u5185\u5b58\u7684\u6700\u5927\u503c\u3002 Android Profiler \u6d4b\u91cf\u5e94\u7528\u6027\u80fd","title":"\u5de5\u5177-leakcanary"},{"location":"better/#_6","text":"","title":"\u4ee3\u7801\u4f18\u5316"},{"location":"better/#lint","text":"\u68c0\u6d4b\u672a\u4f7f\u7528\u7684\u8d44\u6e90 \u70b9\u51fb\u83dc\u5355\u680f Analyze -> Run Inspection by Name -> unused resources -> Moudule \u2018app\u2019 -> OK \u68c0\u6d4b\u65e0\u6548\u4ee3\u7801 \u6b65\u9aa4\uff1a\u70b9\u51fb\u83dc\u5355\u680f Analyze -> Run Inspection by Name -> unused declaration -> Moudule \u2018app\u2019 -> OK","title":"\u4f7f\u7528lint\u68c0\u67e5\u53d6\u51fa\u65e0\u6548\u4ee3\u7801"},{"location":"better/#_7","text":"\u907f\u514d\u521b\u5efa\u4e0d\u5fc5\u8981\u7684\u5bf9\u8c61\uff0c\u8d8a\u5c11\u7684\u5bf9\u8c61\u610f\u5473\u7740\u8d8a\u5c11\u7684GC\u64cd\u4f5c 1. \u5b57\u7b26\u4e32\u62fc\u63a5\u4f18\u5148\u4f7f\u7528stringBuilder\u6216stringBuffer,\u800c\u4e0d\u662f+\u53f7\u8fde\u63a5\uff0c+\u4f1a\u521b\u5efa\u591a\u4f59\u7684\u5bf9\u8c61\uff0c\u62fc\u63a5\u7684\u5b57\u7b26\u4e32\u8d8a\u957f\uff0c+\u53f7\u8fde\u63a5\u7b26\u7684\u6027\u80fd\u8d8a\u4f4e 2. \u5f53\u4e00\u4e2a\u65b9\u6cd5\u8fd4\u56de\u503c\u4e3astring\u901a\u5e38\u8981\u5224\u65adstring\u7684\u4f5c\u7528\uff0c\u5982\u679c\u660e\u786e\u77e5\u9053\u8be5\u65b9\u6cd5\u8fd4\u56de\u7684string\u518d\u8fdb\u884c\u62fc\u63a5\u53ef\u4ee5\u8003\u8651\u8fd4\u56de\u4e00\u4e2astringBuuffer\u5bf9\u8c61\u6765\u66ff\u4ee3\uff0c\u5c06\u4e00\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528\u8fd4\u56de\uff0c\u800c\u8fd4\u56destring\u5219\u662f\u521b\u5efa\u4e86\u4e00\u4e2a\u77ed\u751f\u547d\u5468\u671f\u7684\u4e34\u65f6\u5bf9\u8c61\u3002 \u9759\u6001\u4f18\u4e8e\u62bd\u8c61 \u5982\u679c\u53ea\u662f\u60f3\u8c03\u7528\u6765\u5b8c\u6210\u67d0\u9879\u529f\u80fd\uff0c\u53ef\u8bbe\u7f6e\u6210\u9759\u6001\u7684\uff0c\u4e0d\u7528\u4e13\u95e8\u8c03\u7528\u8fd9\u4e2a\u65b9\u6cd5\u800c\u521b\u5efa\u5bf9\u8c61 \u5bf9\u5e38\u91cf\u4f7f\u7528static final\u4fee\u9970 \u53bb\u9664\u6de1\u9ec4\u8272\u8b66\u544a \u8282\u5236\u7684\u4f7f\u7528service,\u53ef\u8003\u8651\u4f7f\u7528intentServie\u4ee3\u66ffservice \u4e0d\u9002\u7528\u9759\u6001\u53d8\u91cf\u4fdd\u5b58\u6838\u5fc3\u6570\u636e android\u7684\u8fdb\u7a0b\u5e76\u4e0d\u662f\u5b89\u5168\u7684\uff0c\u88abkill\u6389\u540e\uff0capp\u4e0d\u4f1a\u91cd\u65b0\u5f00\u59cb\u542f\u52a8\uff0candroid\u7cfb\u7edf\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Apllication\u5bf9\u8c61\u7136\u540e\u542f\u52a8\u4e0a\u6b21\u7528\u6237\u79bb\u5f00\u65f6\u7684activity,\u9020\u6210\u8fd9\u4e2aapp\u4ece\u6765\u6ca1\u6709\u9000\u51fa\u7684\u5047\u8c61\uff0c\u9759\u6001\u53d8\u91cf\u6570\u636e\u7531\u4e8e\u8fdb\u7a0b\u88ab\u6740\u6b7b\u800c\u88ab\u521d\u59cb\u5316\u3002 \u8f6e\u8be2\u64cd\u4f5c\u4f18\u5316 \u5927\u6982\u601d\u8def\uff1a\u5f53\u7528\u6237\u6253\u5f00\u8fd9\u4e2a\u9875\u9762\u7684\u65f6\u5019\u521d\u59cb\u5316TimerTask\u5bf9\u8c61\uff0c\u6bcf\u4e2a\u4e00\u5206\u949f\u8bf7\u6c42\u4e00\u6b21\u670d\u52a1\u5668\u62c9\u53d6\u8ba2\u5355\u4fe1\u606f\u5e76\u66f4\u65b0UI\uff0c\u5f53\u7528\u6237\u79bb\u5f00\u9875\u9762\u7684\u65f6\u5019\u6e05\u9664TimerTask\u5bf9\u8c61\uff0c\u5373\u53d6\u6d88\u8f6e\u8bad\u8bf7\u6c42\u64cd\u4f5c","title":"\u4ee3\u7801\u89c4\u8303\u4f18\u5316"},{"location":"better/#ui","text":"\u6bcf\u79d260\u5e27\uff0c\u76f8\u5f53\u4e8e\u6bcf\u5e27\u9700\u8981\u5728\u5927\u698216\u6beb\u79d2\u5185\u5b8c\u6210\u6e32\u67d3\uff0c\u5426\u5219\u5c31\u4f1a\u5361\u987f ui\u7ebf\u7a0b\u505a\u8017\u65f6\u64cd\u4f5c Layout\u8fc7\u4e8e\u590d\u6742\uff0c\u65e0\u6cd5\u572816ms\u5185\u5b8c\u6210\u6e32\u67d3 \u540c\u4e00\u65f6\u95f4\u52a8\u753b\u6267\u884c\u7684\u6b21\u6570\u8fc7\u591a\uff0cCPU GPU\u8d1f\u8377\u8fc7\u91cd View\u9891\u7e41\u7684\u89e6\u53d1measure layout \u5185\u5b58\u9891\u7e41\u51fa\u53d1gc,stoptheword onDraw\u65b9\u6cd5\u4e0d\u9700\u8981\u521b\u5efa\u65b0\u7684\u5bf9\u8c61 onDraw\u65b9\u6cd5\u4e0d\u9700\u8981\u6267\u884c\u8017\u65f6\u64cd\u4f5c\u5faa\u73af \u65e0\u7528\u7684\u8d44\u6e90\u548c\u903b\u8f91\u5bfc\u81f4\u52a0\u8f7d\u548c\u6267\u884c\u7f13\u6162\uff09 Analyze->Run Inspection by Name\u2026 \u2013>unused resource Analyze->Inspect Code anr \u901a\u8fc7\u77ac\u65f6\u6d4b\u8bd5\u548c\u538b\u529b\u6d4b\u8bd5\u66f4\u5bb9\u6613\u51fa\u53d1\u4e0a\u9762\u95ee\u9898 \u5982\u4f55\u6765\u5b9a\u4f4d\uff1f 1. \u7cfb\u7edf\u8bbe\u7f6e-\u5f00\u53d1\u8005\u9009\u9879-\u8c03\u8bd5GPU\u8fc7\u5ea6\u7ed8\u5236\uff0c\u7ea2\u8272\u533a\u57df\u8fc7\u5ea6\u7ed8\u5236\uff0c\u5c42\u7ea7/relativelayout\u548clinealayout 2.","title":"UI\u4f18\u5316\uff08\u5e03\u5c40\u4f18\u5316\u548c\u7ed8\u5236\u4f18\u5316\uff09"},{"location":"better/#_8","text":"include\u4f18\u5316-\u91cd\u7528\u516c\u5171\u5e03\u5c40 viewstub\u4f18\u5316-\u4ec5\u5728\u9700\u8981\u65f6\u624d\u52a0\u8f7d\u5e03\u5c40\u6027\u80fd\u6bd4VISISBLE\u597d merge\u4f18\u5316-\u53ef\u4ee5\u5220\u51cf\u591a\u4f59\u7684\u5c42\u7ea7\uff0c\u4f18\u5316ui\uff0c\u4f46\u662f\u65e0\u6cd5\u9884\u89c8 \u51cf\u5c11\u91cd\u53e0\uff0c\u80cc\u666f\u56fe,selector normal\u6539\u6210\u900f\u660e","title":"\u5e03\u5c40\u4f18\u5316"},{"location":"better/#_9","text":"ANR Activity 5s\u89e6\u6478\u6216\u8005\u952e\u76d8\u8f93\u5165\u4e8b\u4ef6\u65e0\u54cd\u5e94\uff0cbroadcastReceiver 10s, service 20s","title":"\u901f\u5ea6\u4f18\u5316\uff08\u7ebf\u7a0b\u4f18\u5316\u548c\u7f51\u7edc\u4f18\u5316\uff09"},{"location":"better/#_10","text":"\u4ee5\u4e0a\u51fa\u73b0\u7684anr\u591a\u6570\u7531\u4e8e\u7ebf\u7a0b\u963b\u585e\u5f15\u8d77\u7684\uff0c\u53ef\u901a\u8fc7\u4ee5\u4e0b\u65b9\u6cd5\u89e3\u51b3 * Asytask * HandlerThread * ThreadPool * intentService *","title":"\u7ebf\u7a0b\u4f18\u5316"},{"location":"better/#_11","text":"\u76f4\u63a5\u521b\u5efaThread\u5b9e\u73b0Runable\u7684\u5f0a\u7aef\uff0c\u5927\u91cf\u7ebf\u7a0b\u7684\u521b\u5efa\u548c\u9500\u6bc1\u5f88\u5bb9\u6613\u5bfc\u81f4gc\u9891\u7e41\u7684\u6267\u884c\uff0c\u53d1\u751f\u5185\u5b58\u6296\u52a8\u4ece\u800c\u9020\u6210\u754c\u9762\u5361\u987f \u4e3a\u4ec0\u4e48\u4f7f\u7528\u7ebf\u7a0b\u6c60\uff1f 1. \u91cd\u7528\u7ebf\u7a0b 2. \u63a7\u5236\u6700\u5927\u5e76\u53d1\u6570\u91cf 3. \u5bf9\u7ebf\u7a0b\u8fdb\u884c\u4e00\u5b9a\u7684\u7ba1\u7406 \u4f8b\u5b50\uff1a Rxjava\uff0crxandroid","title":"\u4f7f\u7528\u7ebf\u7a0b\u6c60"},{"location":"better/#_12","text":"","title":"\u7f51\u7edc\u4f18\u5316"},{"location":"better/#_13","text":"\u56fe\u7247\u4f18\u5316\u4f7f\u7528webP\u683c\u5f0f\uff0c\u5927\u5e45\u8282\u7701\u6d41\u91cf\uff0c\u76f8\u5bf9\u4e8ejpg\u8282\u770125~35%\uff0c\u5bf9\u4e8epng\u8282\u770180% Bitmap\u4f18\u5316 \u4f7f\u7528Android Matrix\u5bf9\u56fe\u7247\u7f29\u653e\u3002 \u5982\u4f55\u5728\u4e0d\u4f7f\u7528 \u7f29\u7565\u56fe\uff0c\u4e0d\u538b\u7f29\uff0c\u4f18\u5316\uff0c\u4f7f\u7528android bitmapRigionDecode\u663e\u793a\u6307\u5b9a\u533a\u57df\u3002 Glide\u52a0\u8f7d\u4f18\u5316 \u4e4b\u524d\u770b\u5230\u8c46\u74e3\u7684\u5f00\u6e90\u63a5\u53e3\uff0c\u601d\u8def\u5f88\u597d\uff0c\u63a5\u53e3\u8fd4\u56de\u56fe\u7247\u7684\u6570\u636e\u6709\u4e09\u79cd\uff0c\u9ad8\u6e05\u5927\u56fe\u3001\u6b63\u5e38\u56fe\u7247\u3001\u7f29\u7565\u56fe\uff0c\u5904\u4e8ewifi\u7528\u9ad8\u6e05\u5927\u56fe\uff0c4g\u62163g\u7528\u6b63\u5e38\uff0c\u5f31\u7f51\u6761\u4ef6\u4e0b\u52a0\u8f7d\u7f29\u7565\u56fe \u7f51\u7edc\u8bf7\u6c42\u5904\u7406\uff1a \u5bf9\u670d\u52a1\u7aef\u8fd4\u56de\u7684\u6570\u636e\u5408\u7406\u7684\u7f13\u5b58 \u4e0b\u8f7d\u91c7\u7528\u65ad\u70b9\u7eed\u4f20 \u5237\u65b0\u6570\u636e\u5c3d\u53ef\u80fd\u91c7\u7528\u5c40\u90e8\u5237\u65b0","title":"\u56fe\u7247\uff1a"},{"location":"better/#loading","text":"\u4e00\u79cd\u5c31\u662f\u4eceA\u9875\u9762\u8df3\u8f6c\u5230B\u9875\u9762\u65f6\u7684\u52a0\u8f7dloading,loading\u7684\u65f6\u5019\u9875\u9762\u662f\u7eaf\u767d\u8272\uff0c\u52a0\u8f7d\u5b8c\u6570\u636e\u624d\u663e\u793a\u5185\u5bb9\u9875\u9762 \u5728\u67d0\u4e2a\u9875\u9762\u64cd\u4f5c\u67d0\u79cd\u903b\u8f91\uff0c\u5c40\u90e8loading(\u5e27\u52a8\u753b\u6216\u8005\u8865\u95f4\u52a8\u753b)\uff0c\u5efa\u8bae\u5728\u9500\u6bc1\u5f39\u7a97\u65f6\uff0c\u9500\u6bc1\u52a8\u753b\u3002","title":"\u52a0\u8f7dLoading\u4f18\u5316"},{"location":"better/#_14","text":"\u91cd\u89c6\u7a0b\u5ea6\u4f4e\uff0c\u97f3\u4e50\u548c\u89c6\u9891\u8017\u7535\u6700\u5927 \u7f51\u7edc\u8bf7\u6c42\u524d\u5148\u5224\u65ad\u7f51\u7edc\u7684\u72b6\u6001 \u7f51\u7edc\u8bf7\u6c42\u6700\u597d\u8fdb\u884c\u6279\u91cf\u5904\u7406\uff0c\u907f\u514d\u9891\u7e41\u95f4\u9694\u7684\u7f51\u7edc\u8bf7\u6c42 \u6709wifi\u548c\u79fb\u52a8\u7f51\u7edc\u4f18\u5148\u4f7f\u7528wifi,\u8bf7\u6c42wifi\u7684\u8017\u7535\u91cf\u8fdc\u6bd4\u79fb\u52a8\u8017\u7535\u91cf\u4f4e","title":"\u7535\u91cf\u4f18\u5316"},{"location":"better/#_15","text":"","title":"\u542f\u52a8\u4f18\u5316"},{"location":"better/#_16","text":"\u8017\u65f6\u6700\u957f\u7684\uff0c\u7b2c\u4e00\u6b21\u542f\u52a8app\u6216\u8005\u6740\u6b7b\u8fdb\u7a0b\u7b2c\u4e00\u6b21\u542f\u52a8\uff0c\u4e3b\u8981\u5305\u62ecapplication creat\u548cactivity\u7684creat\uff0c\u56e0\u6b64\u5728\u4e24\u4e2a\u7c7b\u7684oncreat\u65b9\u6cd5\u4e2d\u505a\u7684\u4e8b\u60c5\u8d8a\u591a\uff0c\u51b7\u542f\u52a8\u6d88\u8017\u7684\u65f6\u95f4\u8d8a\u957f","title":"\u51b7\u542f\u52a8"},{"location":"better/#_17","text":"\u5f53\u5e94\u7528\u4e2d\u7684Activity\u88ab\u9500\u6bc1\uff0c\u4f46\u5728\u5185\u5b58\u4e2d\u5e38\u9a7b\u65f6\uff0c\u542f\u52a8\u65b9\u5f0f\u5c31\u53d8\u6210\u6696\u542f\u52a8\uff0c\u51cf\u5c11\u4e86\u5bf9\u8c61\u7684\u521d\u59cb\u5316\u3001\u5e03\u5c40\u52a0\u8f7d\u7b49\u5de5\u4f5c\uff0c\u542f\u52a8\u65f6\u95f4\u66f4\u77ed\uff0c\u7cfb\u7edf\u4f9d\u7136\u4f1a\u5c55\u73b0\u95ea\u5c4f\u9875\uff0c\u76f4\u5230\u7b2c\u4e00\u4e2aactivity\u9875\u9762\u5448\u73b0","title":"\u6696\u542f\u52a8"},{"location":"better/#_18","text":"\u7528\u6237\u4f7f\u7528\u8fd4\u56de\u952e\u9000\u51fa\u5e94\u7528\uff0c\u7136\u540e\u53c8\u9a6c\u4e0a\u91cd\u65b0\u542f\u52a8\u5e94\u7528 1. \u767d\u5c4f 2. \u95ea\u5c4f\u9875\u5012\u8ba1\u65f6\u8fdb\u884c\u4e00\u4e9b\u9884\u52a0\u8f7d 3. \u4e3b\u7ebf\u7a0b\u4e2d\u6d89\u53ca\u5230\u7684sp\u64cd\u4f5c\u5c3d\u91cf\u5728\u975eui\u7ebf\u7a0b\u6267\u884c 4. application\u521b\u5efa\u8fc7\u7a0b\u5c3d\u91cf\u5c11\u7684\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c 5. \u51cf\u5c11\u5e03\u5c40\u7684\u5c42\u6b21","title":"\u70ed\u542f\u52a8"},{"location":"better/#_19","text":"\u542f\u52a8\u65f6\u95f4\u4f18\u5316\uff0c\u4eceApplication\u7684onCreat()\u65b9\u6cd5\u5f00\u59cb\u5230MainActivity\u7684onCreat()\u6267\u884c\u7ed3\u675f \u5ef6\u8fdf\u521d\u59cb\u5316 \u540e\u53f0\u4efb\u52a1 \u542f\u52a8\u754c\u9762\u9884\u52a0\u8f7d * intentService\u5206\u62c5\u90e8\u5206\u521d\u59cb\u5316\u5de5\u4f5c bugly\\\u63a8\u9001\uff0c\u70ed\u4fee\u590d\u7b49\u3002\u3002\u3002 \u542f\u52a8\u9875\u767d\u5c4f\u5904\u7406 \u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\uff1f zygote\u5728\u542f\u52a8\u4e00\u4e2aAPP\u65f6\uff0c\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u8fdb\u7a0b\u53bb\u8fd0\u884c\u8fd9\u4e2aapp,\u521b\u5efa\u8fdb\u7a0b\u662f\u9700\u8981\u65f6\u95f4\u7684\uff0c\u521b\u5efa\u5b8c\u6210\u4e4b\u524d\uff0c\u754c\u9762\u662f\u5047\u6b7b\u72b6\u6001\uff0c\u7cfb\u7edf\u6839\u636e\u4f60\u7684manifest\u6587\u4ef6\u8bbe\u7f6e\u7684\u4e3b\u9898\u989c\u8272\u6765\u5c55\u793a\u4e00\u4e2a\u767d\u5c4f\u6216\u8005\u9ed1\u5c4f\uff0c\u79f0\u4e3apreview window\uff0c\u5373\u9884\u89c8\u7a97\u53e3 \u5b9e\u9645\u5c31\u662factivity\u9ed8\u8ba4\u4e3b\u9898\u7684android:windowBackground\u4e3a\u767d\u8272\u6216\u8005\u9ed1\u8272\u51b3\u5b9a\u7684 APP\u542f\u52a8--previewWindow--\u542f\u52a8\u9875 \u89e3\u51b3\u529e\u6cd5\u6709\u900f\u660e\u4e3b\u9898 \u6dfb\u52a0\u4e00\u4e2a\u6709\u80cc\u666f\u7684style\u6837\u5f0f \uff0c\u7136\u540e\u95ea\u5c4f\u9875\u5f15\u7528\u8be5theme\u4e3b\u9898\uff0c\u5728\u8be5\u9875\u9762\u5c06window\u7684\u80cc\u666f\u56fe\u7247\u8bbe\u7f6e\u4e3a\u7a7a","title":"\u542f\u52a8\u9875\u4f18\u5316"},{"location":"better/#_20","text":"Systrace \u8fdb\u884c\u57cb\u70b9\uff0c\u4f7f\u7528\u95e8\u69db\u641e\u70b9\uff0c\u9700\u8981\u8f93\u5165\u547d\u4ee4 \u539f\u7406\uff1a\u5728\u4e00\u4e9b\u5173\u952e\u94fe\u8def\u4e2d\u63d2\u5165label,\u901a\u8fc7label\u7684\u5f00\u59cb\u548c\u7ed3\u675f\u65f6\u95f4\u6765\u786e\u5b9a\u67d0\u4e2a\u6838\u5fc3\u8fc7\u7a0b\u7684\u6267\u884c\u65f6\u95f4\uff0cframwork\u5c42\u548cjava\u4ece\u90fd\u63d2\u5165\u4e86label\u4fe1\u606f\uff0c\u4ea6\u53ef\u4ee5\u81ea\u5b9a\u4e49label \u7cfb\u7edf\u7248\u672c\u8d8a\u9ad8\uff0cFramwork\u4e2d\u6dfb\u52a0\u7684\u7cfb\u7edf\u53ef\u7528label\u5c31\u8d8a\u591a \u4f7f\u7528\u6ce8\u610f\u4e8b\u9879\uff1a 1. \u624b\u52a8\u7f29\u5c0f\u8303\u56f4 2. sdk/plaform-tools/systrace\u76ee\u5f55\u4e0b\u6267\u884c\u547d\u4ee4 3. \u6267\u884c\u7ed3\u675f\u540e\u4f1a\u751f\u6210\u4e00\u4e2atrace.html\u6587\u4ef6 \u81ea\u5b9a\u4e49label \u5728\u5f00\u59cb\u548c\u7ed3\u675f\u7684\u5730\u65b9\u52a0\u4e0a\u81ea\u5b9a\u4e49label,\u6293\u4e00\u904dtrace\uff0c\u5206\u6790\u95ee\u9898 \u5982\u4f55\u5206\u6790\u975edebug app debug\u548c\u975edebug\u6027\u80fd\u5dee\u522b\u5f88\u5927\uff0c\u4e3a\u4e86\u652f\u6301debug,\u7cfb\u7edf\u5f00\u542f\u4e86\u4e00\u4e9b\u5217\u529f\u80fd\uff0c\u5e76\u4e14\u5173\u95ed\u6389\u4e86\u67d0\u4e9b\u91cd\u8981\u4f18\u5316 \uff0c\u8981\u60f3\u5206\u6790app\u771f\u5b9e\u7684\u8fd0\u884c\u60c5\u51b5\u5fc5\u987b\u8981\u5728\u975edebug\u7684APP\u4e2d\u542f\u52a8systrace\u529f\u80fd\u3002 \u901a\u8fc7\u53cd\u5c04\u8c03\u7528sdk\u4e2d\u4e00\u4e2a@hide\u7684\u51fd\u6570 traceView \u8fd0\u884c\u65f6\u5f00\u9500\u5f88\u4e25\u91cd\uff0ctrace\u4f1a\u6536\u96c6\u7a0b\u5e8f\u8fd0\u884c\u65f6\u6240\u6709\u65b9\u6cd5\u7684\u8017\u65f6\u60c5\u51b5 \u53ef\u4ee5\u57cb\u70b9 Profiler","title":"\u5206\u6790\u6027\u80fd\u7684\u5de5\u5177"},{"location":"better/#apk","text":"","title":"APK\u7626\u8eab"},{"location":"better/#apk_1","text":"\u5c06apk\u5305\u62d6\u5230android studio\u4e2d\u5c31\u53ef\u4ee5\u770b\u5230\u5305\u7ed3\u6784\u4e86\u3002 lib \u4e3b\u8981\u5b58\u50a8\u5404cpu\u67b6\u6784\u7684so\u5e93 classes.dex java\u6587\u4ef6\u7f16\u8bd1\u751f\u6210\u7684\u5b57\u8282\u7801\u6587\u4ef6 res \u8d44\u6e90\u6587\u4ef6 AndroidManifest.xml \u914d\u7f6e\u6587\u4ef6 META-INFO \u76f8\u5173\u7b7e\u540d\u4fe1\u606f resource.arsc \u8d44\u6e90\u6587\u4ef6\u6620\u5c04\u8868","title":"APK\u6784\u6210\u521d\u63a2"},{"location":"better/#_21","text":"\u4f7f\u7528minifyEnable\u6df7\u6dc6\u4ee3\u7801 android { buildTypes { release { minifyEnabled true } } } proguard-rules.pro\u4e2d\u7f16\u5199\u6df7\u6dc6\u89c4\u5219 \u4f7f\u7528ShrinkResources\u79fb\u9664\u65e0\u7528\u8d44\u6e90 android { buildTypes { release { minifyEnabled true shrinkResources true } } } shrinkResource\u5fc5\u987b\u4e0eminifyResource\u540c\u65f6\u5f00\u542f\u624d\u6709\u6548\u3002 \u6ce8\u610f\uff1a\u91c7\u7528\u8be5\u65b9\u6cd5\u5176\u5b9e\u65e0\u7528\u7684\u8d44\u6e90\u5e76\u6ca1\u6709\u88ab\u79fb\u9664\u6389\uff0c\u800c\u662f\u88ab\u4f53\u79ef\u66f4\u5c0f\u7684\u5360\u4f4d\u7b26\u66ff\u4ee3\u4e86 \u5220\u9664\u9879\u76ee\u4e2d\u672a\u4f7f\u7528\u5230\u7684\u8d44\u6e90\u6587\u4ef6 \u901a\u8fc7androidstudio\u63d0\u4f9b\u7684lint\u5de5\u5177\uff0canalyze-run inspection by name\u7136\u540e\u8f93\u5165unused resource\u67e5\u627e\u672a\u4f7f\u7528\u7684\u8d44\u6e90\u6587\u4ef6\uff0c\u7136\u540e\u5220\u9664\u3002 \u5220\u9664\u9879\u76ee\u4e2d\u672a\u4f7f\u7528\u7684\u4ee3\u7801 analyze-run inspection by name\u7136\u540e\u8f93\u5165unused declearation \u627e\u5230\u65e0\u7528\u4ee3\u7801\u5bf9\u5176\u5220\u9664 \u901a\u8fc7\u53cd\u5c04\u5f15\u7528\u7684\u65b9\u6cd5\u6216\u8005\u7c7b\uff0clint\u8bc6\u522b\u4e0d\u4e86\uff0c\u4e5f\u4f1a\u7ed9\u68c0\u67e5\u51fa\u6765\uff0c\u5220\u9664\u7684\u65f6\u5019\u901a\u8fc7\u53cd\u5c04\u5f15\u7528\u7684\u65b9\u6cd5\u6216\u8005\u7c7b\u5343\u4e07\u4e0d\u80fd\u5220\u9664 \u5bf9\u56fe\u7247\u8fdb\u884c\u538b\u7f29 \u5c06Png\u56fe\u7247\u6362\u6210\u4f53\u79ef\u66f4\u5c0f\u7684jpg\u683c\u5f0f\u3002 \u4f7f\u7528tinypng\u6216\u8005upng\u5bf9\u56fe\u7247\u8fdb\u884c\u538b\u7f29 \u4f7f\u7528vector\u77e2\u91cf\u56fe \u5c06\u56fe\u7247\u8f6c\u5316\u6210webP\u683c\u5f0f(\u8981\u6c42\u6700\u4f4e\u7684api\u662f18)\u8f6c\u6362\u540ejpg\u8282\u770135%\u3002png 80% \u4f7f\u7528shape\u4ee3\u66ff\u56fe\u7247 \u4f7f\u7528Resource Configs\u8fdb\u884c\u8bed\u8a00\u914d\u7f6e Android\u5e94\u7528\u672c\u8eab\u662f\u652f\u6301\u56fd\u9645\u5316\u7684\uff0c\u4f46\u56fd\u5185\u7684\u9879\u76ee\u597d\u591a\u90fd\u662f\u5728\u56fd\u5185\u4f7f\u7528\uff0c\u4e0d\u9700\u8981\u56fd\u9645\u5316\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5bf9\u76f8\u5173\u7684String\u8fdb\u884c\u51cf\u6cd5\u64cd\u4f5c\uff0c\u4f7f\u5176\u53ea\u5305\u542b\u7279\u5b9a\u7684\u8bed\u8a00\uff08\u4f8b\u5982\u4e2d\u6587\uff09 android { defaultConfig { ... //\u8bed\u8a00\u8d44\u6e90\uff0c\u53ea\u652f\u6301\u4e2d\u6587 resConfigs \"zh-rCN\" } } so\u5e93\u64cd\u4f5c\uff0c\u5728\u5f15\u5165\u7b2c\u4e09\u65b9sdk\u96be\u514d\u8981\u5f15\u5165\u5bf9\u5e94\u7684so\u5e93\uff0c\u4e00\u822c\u7ed9\u5230\u7684so\u5e93\u5206\u597d\u591a\u67b6\u6784\uff08armeabi, armeabi-v7a, x86\u7b49\u7b49\uff09 Android\u7cfb\u7edf \u76ee\u524d\u652f\u6301\u4ee5\u4e0b\u4e03\u79cd\u4e0d\u540c\u7684CPU\u67b6\u6784\uff1a ARMv5 ARMv7 x86 MIPS ARMv8 MIPS64 x86_64 \u6240\u6709\u7684\u67b6\u6784\u8bbe\u5907x86,x8664,armeabi-v7a,arm64-v8a\u90fd\u652f\u6301armeabi\u67b6\u6784\u7684.so\u6587\u4ef6\uff0c\u6240\u4ee5\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u4e1a\u52a1\u9700\u6c42\u9009\u62e9\u4f7f\u7528armeabi\u6216\u8005armeabi-v7a \u5fae\u4fe1\u3001qq\u3001\u7f51\u6613\u4e91\u97f3\u4e50\u7b49\u90fd\u53ea\u4fdd\u7559\u4e86armeabi-v7a android { defaultConfig { ndk { abiFilters 'armeabi','armeabi-v7a' } } }","title":"\u4f18\u5316\u65b9\u6848"},{"location":"collection/","text":"collection\u96c6\u5408 collection\u96c6\u5408 \u5b9a\u4e49\u7684\u7406\u89e3 \u96c6\u5408\u7ee7\u627f\u5173\u7cfb Collection Set \u5b9a\u4e49\u7684\u7406\u89e3 \u7b80\u5355\u4f7f\u7528 list \u5b9a\u4e49\u7684\u7406\u89e3 map \u5b9a\u4e49\u7684\u7406\u89e3 \u4f7f\u7528\u65b9\u6cd5 \u5b9a\u4e49\u7684\u7406\u89e3 java\u4f5c\u4e3a\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u8bb8\u591a\u5730\u65b9\u90fd\u662f\u4f1a\u5bf9\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff0c\u90a3\u5bf9\u4e8e\u591a\u4e2a\u5bf9\u8c61\u7684\u64cd\u4f5c\uff0c\u9996\u76f8\u8981\u8fdb\u884c\u5b58\u50a8\uff0c\u7136\u540e\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u96c6\u5408\u5c31\u662f\u5e38\u7528\u7684\u5b58\u50a8\u65b9\u5f0f\uff0c\u6570\u7ec4\u867d\u7136\u4e5f\u662f\u4e2a\u5bb9\u5668\uff0c\u4f46\u662f\u53ea\u80fd\u5b58\u50a8\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u800c\u4e14\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u662f\u5f88\u65b9\u4fbf\uff0c\u96c6\u5408\u53ea\u80fd\u5b58\u50a8\u5bf9\u8c61\uff0c\u957f\u5ea6\u53ef\u4ee5\u81ea\u589e\u7684\uff0c\u6bd4\u8f83\u7075\u6d3b\u3002 \u96c6\u5408\u7ee7\u627f\u5173\u7cfb graph TD A[Iterator]-->B[Collection] A-->C[Map] B--\u65e0\u5e8f\u4e0d\u91cd\u590d-->D[Set] B--\u6709\u5e8f\u53ef\u91cd\u590d-->E[List] D--\u65e0\u5e8f-->D1[HashSet] D--\u6392\u5e8f-->D2[TreeSet] E--\u67e5\u6539\u4f18-->E1[ArrayList] E--\u589e\u5220\u4f18-->E2[LinkedList] C--\u65e0\u5e8f-->C1[HashMap] C--\u6392\u5e8f-->C2[TreeMap] vector\u548chashtable\u5747\u88ab\u66ff\u4ee3 vector\u4e0earralist\u533a\u522b\uff0cvector add\u65b9\u6cd5\u540c\u6b65\uff0carraylist\u975e\u540c\u6b65\uff0c vector\u6269\u5bb91\u500d\uff0carraylist0.5\u500d\uff0c vector\u6784\u9020\u65b9\u6cd5\u662f\u76f4\u63a5\u521d\u59cb\u531610\uff0carraylist\u7b2c\u4e00\u6b21\u8c03\u7528\u6dfb\u52a0\u65b9\u6cd5\u521d\u59cb\u5316\u5bb9\u91cf\u4e3a10\uff0c vector\u662fjdk1.0,arraylist\u662fjdk1.2 vector\u662f\u7ebf\u7a0b\u540c\u6b65\u7684\u6548\u7387\u4f4e\u5b89\u5168\u6027\u9ad8 \u589e\u52a0\u6216\u8005\u5220\u9664\u8f83\u591a\u4f7f\u7528linkedList\uff0c\u67e5\u627e\u591a\u4f7f\u7528arraylist. hashtable \u88abconcurrenthashmap\u66ff\u4ee3 hashtable\u4f18\u70b9\uff0c\u540c\u6b65\uff0c\u4f46\u662f\u6548\u7387\u4f4e\u3002 Collection Set \u5b9a\u4e49\u7684\u7406\u89e3 \u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u8fd9\u79cd\u5bb9\u5668\uff0ckey\u548cvalue\u76f8\u540c\uff0c\u6ca1\u6709\u91cd\u590d\u7684value\u3002\u65e0\u5e8f\uff0c\u5141\u8bb8Null\u5143\u7d20\u3002 set\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u6709\uff1a hashset:hash\u7b97\u6cd5\u5b58\u53d6\u5bf9\u8c61\uff0c\u5b58\u53d6\u901f\u5ea6\u5feb treeset: \u80fd\u591f\u5bf9\u5143\u7d20\u8fdb\u884c\u6392\u5e8f \u7b80\u5355\u4f7f\u7528 Set<Integer> hashSet = new HashSet<Integer>(); hashSet.add(3); hashSet.add(4); \u904d\u5386 for (Integer integer :hashSet){ } Iterator<Integer> iterator =hashSet.iterator(); while (iterator.hasNext()){ Integer integer=iterator.next(); } \u5728\u653e\u5165\u81ea\u5df1\u5b9a\u4e49\u7684\u7c7b\u5b9e\u4f8b\u65f6\uff0c\u9700\u8981\u91cd\u5199hashcode\u548cequals\u65b9\u6cd5\uff0c\u7528\u81ea\u5df1\u7684\u5173\u952e\u5b57\u6765\u91cd\u5199\uff0c\u56e0\u4e3a\u5f53\u4f7f\u7528HashSet\u65f6\uff0chashCode()\u65b9\u6cd5\u5c31\u4f1a\u5f97\u5230\u8c03\u7528\uff0c\u5224\u65ad\u5df2\u7ecf\u5b58\u50a8\u5728\u96c6\u5408\u4e2d\u7684\u5bf9\u8c61\u7684hash code\u503c\u662f\u5426\u4e0e\u589e\u52a0\u7684\u5bf9\u8c61\u7684hash code\u503c\u4e00\u81f4\uff1b\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u76f4\u63a5\u52a0\u8fdb\u53bb\uff1b\u5982\u679c\u4e00\u81f4\uff0c\u518d\u8fdb\u884cequals\u65b9\u6cd5\u7684\u6bd4\u8f83\uff0cequals\u65b9\u6cd5\u5982\u679c\u8fd4\u56detrue\uff0c\u8868\u793a\u5bf9\u8c61\u5df2\u7ecf\u52a0\u8fdb\u53bb\u4e86\uff0c\u5c31\u4e0d\u4f1a\u518d\u589e\u52a0\u65b0\u7684\u5bf9\u8c61\uff0c\u5426\u5219\u52a0\u8fdb\u53bb\u3002 list \u5b9a\u4e49\u7684\u7406\u89e3 \u662f\u4e00\u4e2a\u7ee7\u627fcollection\u7684\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u6709\uff1a ArrayList:\u67e5\u8be2\u5feb\uff0c\u589e\u5220\u6162\uff0c\u4e0d\u540c\u6b65\uff0c0.5\u589e\u957f LinkedList:\u589e\u5220\u5feb Vector: \u90fd\u6162\uff0c\u88abarraylist\u66ff\u4ee3\uff0c\u7ebf\u7a0b\u5b89\u5168 Stack: \u7ee7\u627f\u4e8evector map \u5b9a\u4e49\u7684\u7406\u89e3 Map\u662f\u4e2a\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u6709\uff1a HahMap: \u975e\u540c\u6b65\uff0c\u65e0\u5e8f\u6570\u7ec4+\u94fe\u8868+\u7ea2\u9ed1\u6811 TreeMap:\u5e95\u5c42\u4e8c\u53c9\u6811\uff0c\u4e0d\u540c\u6b65\uff0c\u53ef\u7528\u4e8e\u6392\u5e8f LinkedHashMap:\u904d\u5386\u65f6\u65f6\u662f\u63d2\u5165\u987a\u5e8f\uff0c\u6216\u8005\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u6b21\u5e8f\uff0c\u901f\u5ea6\u7a0d\u6162\uff0c\u8fed\u4ee3\u66f4\u5feb HashTable: ConcurrentHashMap:\u5e76\u53d1\u6548\u7387\u66f4\u9ad8\u7528\u6765\u66ff\u4ee3hashtable ... \u4f7f\u7528\u65b9\u6cd5 \u65b9\u6cd5 \u6dfb\u52a0 V put(K key, V value)\u53ef\u4ee5\u76f8\u540c\u7684key\uff0c\u4f46\u662fvalue\u4f1a\u8986\u76d6\u524d\u4e00\u4e2a putAll(Map<? extend K, ? extends V> m) \u5220\u9664 remove() \u5220\u9664\u5173\u8054\u5bf9\u8c61\uff0c\u6307\u5b9akey\u5bf9\u8c61 clear() \u6e05\u7a7a\u96c6\u5408\u5bf9\u8c61 \u83b7\u53d6 value get(key) \u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u662f\u5426\u5b58\u5728\u7684\u60c5\u51b5\uff0c\u6307\u5b9a\u7684key\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de\u7684\u662fnull \u5224\u65ad boolean isEmpty()\u957f\u5ea6\u4e3a0\u8fd4\u56detrue,\u5426\u5219false boolean containsKey(Object key) \u5224\u65ad\u96c6\u5408\u4e2d\u662f\u5426\u5305\u542bkey boolean containsValue(Object value),\u662f\u5426\u5305\u542b\u6307\u5b9avalue \u957f\u5ea6 int size()","title":"\u96c6\u5408"},{"location":"collection/#collection","text":"collection\u96c6\u5408 \u5b9a\u4e49\u7684\u7406\u89e3 \u96c6\u5408\u7ee7\u627f\u5173\u7cfb Collection Set \u5b9a\u4e49\u7684\u7406\u89e3 \u7b80\u5355\u4f7f\u7528 list \u5b9a\u4e49\u7684\u7406\u89e3 map \u5b9a\u4e49\u7684\u7406\u89e3 \u4f7f\u7528\u65b9\u6cd5","title":"collection\u96c6\u5408"},{"location":"collection/#_1","text":"java\u4f5c\u4e3a\u9762\u5411\u5bf9\u8c61\u7684\u8bed\u8a00\uff0c\u8bb8\u591a\u5730\u65b9\u90fd\u662f\u4f1a\u5bf9\u5bf9\u8c61\u8fdb\u884c\u64cd\u4f5c\uff0c\u90a3\u5bf9\u4e8e\u591a\u4e2a\u5bf9\u8c61\u7684\u64cd\u4f5c\uff0c\u9996\u76f8\u8981\u8fdb\u884c\u5b58\u50a8\uff0c\u7136\u540e\u76f8\u5e94\u7684\u64cd\u4f5c\uff0c\u96c6\u5408\u5c31\u662f\u5e38\u7528\u7684\u5b58\u50a8\u65b9\u5f0f\uff0c\u6570\u7ec4\u867d\u7136\u4e5f\u662f\u4e2a\u5bb9\u5668\uff0c\u4f46\u662f\u53ea\u80fd\u5b58\u50a8\u57fa\u672c\u6570\u636e\u7c7b\u578b\uff0c\u800c\u4e14\u957f\u5ea6\u662f\u56fa\u5b9a\u7684\uff0c\u4e0d\u662f\u5f88\u65b9\u4fbf\uff0c\u96c6\u5408\u53ea\u80fd\u5b58\u50a8\u5bf9\u8c61\uff0c\u957f\u5ea6\u53ef\u4ee5\u81ea\u589e\u7684\uff0c\u6bd4\u8f83\u7075\u6d3b\u3002","title":"\u5b9a\u4e49\u7684\u7406\u89e3"},{"location":"collection/#_2","text":"graph TD A[Iterator]-->B[Collection] A-->C[Map] B--\u65e0\u5e8f\u4e0d\u91cd\u590d-->D[Set] B--\u6709\u5e8f\u53ef\u91cd\u590d-->E[List] D--\u65e0\u5e8f-->D1[HashSet] D--\u6392\u5e8f-->D2[TreeSet] E--\u67e5\u6539\u4f18-->E1[ArrayList] E--\u589e\u5220\u4f18-->E2[LinkedList] C--\u65e0\u5e8f-->C1[HashMap] C--\u6392\u5e8f-->C2[TreeMap] vector\u548chashtable\u5747\u88ab\u66ff\u4ee3 vector\u4e0earralist\u533a\u522b\uff0cvector add\u65b9\u6cd5\u540c\u6b65\uff0carraylist\u975e\u540c\u6b65\uff0c vector\u6269\u5bb91\u500d\uff0carraylist0.5\u500d\uff0c vector\u6784\u9020\u65b9\u6cd5\u662f\u76f4\u63a5\u521d\u59cb\u531610\uff0carraylist\u7b2c\u4e00\u6b21\u8c03\u7528\u6dfb\u52a0\u65b9\u6cd5\u521d\u59cb\u5316\u5bb9\u91cf\u4e3a10\uff0c vector\u662fjdk1.0,arraylist\u662fjdk1.2 vector\u662f\u7ebf\u7a0b\u540c\u6b65\u7684\u6548\u7387\u4f4e\u5b89\u5168\u6027\u9ad8 \u589e\u52a0\u6216\u8005\u5220\u9664\u8f83\u591a\u4f7f\u7528linkedList\uff0c\u67e5\u627e\u591a\u4f7f\u7528arraylist. hashtable \u88abconcurrenthashmap\u66ff\u4ee3 hashtable\u4f18\u70b9\uff0c\u540c\u6b65\uff0c\u4f46\u662f\u6548\u7387\u4f4e\u3002","title":"\u96c6\u5408\u7ee7\u627f\u5173\u7cfb"},{"location":"collection/#collection_1","text":"","title":"Collection"},{"location":"collection/#set","text":"","title":"Set"},{"location":"collection/#_3","text":"\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u8fd9\u79cd\u5bb9\u5668\uff0ckey\u548cvalue\u76f8\u540c\uff0c\u6ca1\u6709\u91cd\u590d\u7684value\u3002\u65e0\u5e8f\uff0c\u5141\u8bb8Null\u5143\u7d20\u3002 set\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u6709\uff1a hashset:hash\u7b97\u6cd5\u5b58\u53d6\u5bf9\u8c61\uff0c\u5b58\u53d6\u901f\u5ea6\u5feb treeset: \u80fd\u591f\u5bf9\u5143\u7d20\u8fdb\u884c\u6392\u5e8f","title":"\u5b9a\u4e49\u7684\u7406\u89e3"},{"location":"collection/#_4","text":"Set<Integer> hashSet = new HashSet<Integer>(); hashSet.add(3); hashSet.add(4); \u904d\u5386 for (Integer integer :hashSet){ } Iterator<Integer> iterator =hashSet.iterator(); while (iterator.hasNext()){ Integer integer=iterator.next(); } \u5728\u653e\u5165\u81ea\u5df1\u5b9a\u4e49\u7684\u7c7b\u5b9e\u4f8b\u65f6\uff0c\u9700\u8981\u91cd\u5199hashcode\u548cequals\u65b9\u6cd5\uff0c\u7528\u81ea\u5df1\u7684\u5173\u952e\u5b57\u6765\u91cd\u5199\uff0c\u56e0\u4e3a\u5f53\u4f7f\u7528HashSet\u65f6\uff0chashCode()\u65b9\u6cd5\u5c31\u4f1a\u5f97\u5230\u8c03\u7528\uff0c\u5224\u65ad\u5df2\u7ecf\u5b58\u50a8\u5728\u96c6\u5408\u4e2d\u7684\u5bf9\u8c61\u7684hash code\u503c\u662f\u5426\u4e0e\u589e\u52a0\u7684\u5bf9\u8c61\u7684hash code\u503c\u4e00\u81f4\uff1b\u5982\u679c\u4e0d\u4e00\u81f4\uff0c\u76f4\u63a5\u52a0\u8fdb\u53bb\uff1b\u5982\u679c\u4e00\u81f4\uff0c\u518d\u8fdb\u884cequals\u65b9\u6cd5\u7684\u6bd4\u8f83\uff0cequals\u65b9\u6cd5\u5982\u679c\u8fd4\u56detrue\uff0c\u8868\u793a\u5bf9\u8c61\u5df2\u7ecf\u52a0\u8fdb\u53bb\u4e86\uff0c\u5c31\u4e0d\u4f1a\u518d\u589e\u52a0\u65b0\u7684\u5bf9\u8c61\uff0c\u5426\u5219\u52a0\u8fdb\u53bb\u3002","title":"\u7b80\u5355\u4f7f\u7528"},{"location":"collection/#list","text":"","title":"list"},{"location":"collection/#_5","text":"\u662f\u4e00\u4e2a\u7ee7\u627fcollection\u7684\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u6709\uff1a ArrayList:\u67e5\u8be2\u5feb\uff0c\u589e\u5220\u6162\uff0c\u4e0d\u540c\u6b65\uff0c0.5\u589e\u957f LinkedList:\u589e\u5220\u5feb Vector: \u90fd\u6162\uff0c\u88abarraylist\u66ff\u4ee3\uff0c\u7ebf\u7a0b\u5b89\u5168 Stack: \u7ee7\u627f\u4e8evector","title":"\u5b9a\u4e49\u7684\u7406\u89e3"},{"location":"collection/#map","text":"","title":"map"},{"location":"collection/#_6","text":"Map\u662f\u4e2a\u63a5\u53e3\uff0c\u5b9e\u73b0\u7c7b\u6709\uff1a HahMap: \u975e\u540c\u6b65\uff0c\u65e0\u5e8f\u6570\u7ec4+\u94fe\u8868+\u7ea2\u9ed1\u6811 TreeMap:\u5e95\u5c42\u4e8c\u53c9\u6811\uff0c\u4e0d\u540c\u6b65\uff0c\u53ef\u7528\u4e8e\u6392\u5e8f LinkedHashMap:\u904d\u5386\u65f6\u65f6\u662f\u63d2\u5165\u987a\u5e8f\uff0c\u6216\u8005\u6700\u8fd1\u6700\u5c11\u4f7f\u7528\u6b21\u5e8f\uff0c\u901f\u5ea6\u7a0d\u6162\uff0c\u8fed\u4ee3\u66f4\u5feb HashTable: ConcurrentHashMap:\u5e76\u53d1\u6548\u7387\u66f4\u9ad8\u7528\u6765\u66ff\u4ee3hashtable ...","title":"\u5b9a\u4e49\u7684\u7406\u89e3"},{"location":"collection/#_7","text":"\u65b9\u6cd5 \u6dfb\u52a0 V put(K key, V value)\u53ef\u4ee5\u76f8\u540c\u7684key\uff0c\u4f46\u662fvalue\u4f1a\u8986\u76d6\u524d\u4e00\u4e2a putAll(Map<? extend K, ? extends V> m) \u5220\u9664 remove() \u5220\u9664\u5173\u8054\u5bf9\u8c61\uff0c\u6307\u5b9akey\u5bf9\u8c61 clear() \u6e05\u7a7a\u96c6\u5408\u5bf9\u8c61 \u83b7\u53d6 value get(key) \u53ef\u4ee5\u7528\u4e8e\u5224\u65ad\u662f\u5426\u5b58\u5728\u7684\u60c5\u51b5\uff0c\u6307\u5b9a\u7684key\u4e0d\u5b58\u5728\u65f6\u8fd4\u56de\u7684\u662fnull \u5224\u65ad boolean isEmpty()\u957f\u5ea6\u4e3a0\u8fd4\u56detrue,\u5426\u5219false boolean containsKey(Object key) \u5224\u65ad\u96c6\u5408\u4e2d\u662f\u5426\u5305\u542bkey boolean containsValue(Object value),\u662f\u5426\u5305\u542b\u6307\u5b9avalue \u957f\u5ea6 int size()","title":"\u4f7f\u7528\u65b9\u6cd5"},{"location":"contact/","text":"'hey guys! this is contact me page'","title":"Contact"},{"location":"context/","text":"important points\uff1a It is the context of the current state of the application. It can be used to get information regarding the activity and application. It can be used to get access to resources, databases, and shared preferences, and etc. Both the Activity and Application classes extend the Context class. Mainly two types of context Wrong use of Context can easily lead to memory leaks in an android application. Application Context: It is the application and we are present in Application. For example - MyApplication(which extends Application class). It is an instance of MyApplication only. It is an instance that is the singleton and can be accessed in activity via getApplicationContext(). This context is tied to the lifecycle of an application. The application context can be used where you need a context whose lifecycle is separate from the current context or when you are passing a context beyond the scope of activity. Example Use: If you have to create a singleton object for your application and that object needs a context, always pass the application context. If you pass the activity context here, it will lead to the memory leak as it will keep the reference to the activity and activity will not be garbage collected. In case, when you have to initialize a library in an activity, always pass the application context, not the activity context. You only use getApplicationContext() when you know you need a Context for something that may live longer than any other likely Context you have at your disposal. Activity Context: It is the activity and we are present in Activity. For example - MainActivity. It is an instance of MainActivity only. This context is available in an activity. This context is tied to the lifecycle of an activity. The activity context should be used when you are passing the context in the scope of an activity or you need the context whose lifecycle is attached to the current context. Example Use: If you have to create an object whose lifecycle is attached to an activity, you can use the activity context. ContentProvider This context is the application context and can be used as the application context. You can get it using the getContext() method. When to use which Context? always remember, in case of Singleton(lifecycle is attached to the application lifecycle), always use the Application Context. Whenever you are in Activity, for any UI operations like showing toast, dialogs, and etc, use the Activity Context. Always try to use the nearest context which is available to you. When you are in Activity, the nearest context is Activity context. When you are in Application, the nearest context is the Application context. If Singleton, use the Application Context. \u53c2\u8003\u94fe\u63a5 https://blog.mindorks.com/understanding-context-in-android-application-330913e32514","title":"ConText"},{"location":"context/#important-points","text":"It is the context of the current state of the application. It can be used to get information regarding the activity and application. It can be used to get access to resources, databases, and shared preferences, and etc. Both the Activity and Application classes extend the Context class.","title":"important points\uff1a"},{"location":"context/#mainly-two-types-of-context","text":"Wrong use of Context can easily lead to memory leaks in an android application. Application Context: It is the application and we are present in Application. For example - MyApplication(which extends Application class). It is an instance of MyApplication only. It is an instance that is the singleton and can be accessed in activity via getApplicationContext(). This context is tied to the lifecycle of an application. The application context can be used where you need a context whose lifecycle is separate from the current context or when you are passing a context beyond the scope of activity. Example Use: If you have to create a singleton object for your application and that object needs a context, always pass the application context. If you pass the activity context here, it will lead to the memory leak as it will keep the reference to the activity and activity will not be garbage collected. In case, when you have to initialize a library in an activity, always pass the application context, not the activity context. You only use getApplicationContext() when you know you need a Context for something that may live longer than any other likely Context you have at your disposal. Activity Context: It is the activity and we are present in Activity. For example - MainActivity. It is an instance of MainActivity only. This context is available in an activity. This context is tied to the lifecycle of an activity. The activity context should be used when you are passing the context in the scope of an activity or you need the context whose lifecycle is attached to the current context. Example Use: If you have to create an object whose lifecycle is attached to an activity, you can use the activity context.","title":"Mainly two types of context"},{"location":"context/#contentprovider","text":"This context is the application context and can be used as the application context. You can get it using the getContext() method.","title":"ContentProvider"},{"location":"context/#when-to-use-which-context","text":"always remember, in case of Singleton(lifecycle is attached to the application lifecycle), always use the Application Context. Whenever you are in Activity, for any UI operations like showing toast, dialogs, and etc, use the Activity Context. Always try to use the nearest context which is available to you. When you are in Activity, the nearest context is Activity context. When you are in Application, the nearest context is the Application context. If Singleton, use the Application Context.","title":"When to use which Context?"},{"location":"context/#_1","text":"https://blog.mindorks.com/understanding-context-in-android-application-330913e32514","title":"\u53c2\u8003\u94fe\u63a5"},{"location":"designParttern/","text":"\u4e91\u6536\u94f6APP\u9605\u8bfb\u6587\u6863 SplashActicity 1.initUmeng+initSunmiBlePrint 2.\u5ef6\u65f63s\u4e00\u4e2ahandler\u6765\u51b3\u5b9a\u63a5\u4e0b\u6765\u8fdb\u5165\u54ea\u4e2a\u9875\u9762\uff08\u62ec\u53f7\u91cc\u9762\u662f\u6761\u4ef6\uff09 \u2003\u8fdb\u5165GuidActivity(\u5224\u65adsp\u7248\u672c\u53f7\u8ddf\u914d\u7f6e\u6587\u4ef6\u7248\u672c\u53f7\u662f\u5426\u4e00\u81f4\uff0c\u8fdb\u5165\u767b\u9646\u9875\u9762\u65f6\u4fdd\u5b58\u7248\u672c\u53f7) \u2003\u8fdb\u5165MainActivity(\u901a\u8fc7logintoken\u5224\u65ad\u662f\u5426\u8fdb\u5165MainActivity) \u2003\u8fdb\u5165LoginAcitivity(else\u8fdb\u5165LoginActivity) 3.\u5f00\u542f\u65e5\u5fd7\u4e0a\u4f20Service GuidActivity \u2003\u4e00\u4e2a\u5f88\u7b80\u5355\u6ed1\u52a8\u7684\u8f6e\u64ad\u56fe\u5916\u52a0\u4e00\u4e2a\u8fdb\u5165LoginActivity\u7684\u6309\u94ae LoginActivity \u2003\u81ea\u5b9a\u4e49EditText(\u4e3b\u8981\u529f\u80fd\u6709\uff1a\u6e05\u9664\u56fe\u6807\uff0cEditText\u6296\u52a8\u52a8\u753b) \u2003\u91cd\u7f6e\u5bc6\u7801 \u2003\u767b\u9646\uff08\u5305\u542b\u83b7\u53d6\u516c\u94a5\u63a5\u53e3+\u767b\u9646\u63a5\u53e3\uff09 \u2003\u20031.\u5bf9\u4e8e\u767b\u9646\u53c2\u6570pwd\u5b57\u6bb5\u7684\u52a0\u5bc6\uff08RSA(pwd,publicKey)\uff09 \u2003\u20032.\u81ea\u5b9a\u4e49Toast(YellowToastUtils\u5bc6\u7801\u9519\u8bef\u9876\u90e8\u663e\u793a\u4e00\u6bb5\u9ec4\u8272\u80cc\u666f\u63d0\u793a) \u2003\u20033.\u4f7f\u7528Linerlayout+RelativeLayout framlayout+\u6743\u91cd\u5e03\u5c40\u6cd5 \u20034.","title":"**\u4e91\u6536\u94f6APP\u9605\u8bfb\u6587\u6863**"},{"location":"designParttern/#app","text":"SplashActicity 1.initUmeng+initSunmiBlePrint 2.\u5ef6\u65f63s\u4e00\u4e2ahandler\u6765\u51b3\u5b9a\u63a5\u4e0b\u6765\u8fdb\u5165\u54ea\u4e2a\u9875\u9762\uff08\u62ec\u53f7\u91cc\u9762\u662f\u6761\u4ef6\uff09 \u2003\u8fdb\u5165GuidActivity(\u5224\u65adsp\u7248\u672c\u53f7\u8ddf\u914d\u7f6e\u6587\u4ef6\u7248\u672c\u53f7\u662f\u5426\u4e00\u81f4\uff0c\u8fdb\u5165\u767b\u9646\u9875\u9762\u65f6\u4fdd\u5b58\u7248\u672c\u53f7) \u2003\u8fdb\u5165MainActivity(\u901a\u8fc7logintoken\u5224\u65ad\u662f\u5426\u8fdb\u5165MainActivity) \u2003\u8fdb\u5165LoginAcitivity(else\u8fdb\u5165LoginActivity) 3.\u5f00\u542f\u65e5\u5fd7\u4e0a\u4f20Service GuidActivity \u2003\u4e00\u4e2a\u5f88\u7b80\u5355\u6ed1\u52a8\u7684\u8f6e\u64ad\u56fe\u5916\u52a0\u4e00\u4e2a\u8fdb\u5165LoginActivity\u7684\u6309\u94ae LoginActivity \u2003\u81ea\u5b9a\u4e49EditText(\u4e3b\u8981\u529f\u80fd\u6709\uff1a\u6e05\u9664\u56fe\u6807\uff0cEditText\u6296\u52a8\u52a8\u753b) \u2003\u91cd\u7f6e\u5bc6\u7801 \u2003\u767b\u9646\uff08\u5305\u542b\u83b7\u53d6\u516c\u94a5\u63a5\u53e3+\u767b\u9646\u63a5\u53e3\uff09 \u2003\u20031.\u5bf9\u4e8e\u767b\u9646\u53c2\u6570pwd\u5b57\u6bb5\u7684\u52a0\u5bc6\uff08RSA(pwd,publicKey)\uff09 \u2003\u20032.\u81ea\u5b9a\u4e49Toast(YellowToastUtils\u5bc6\u7801\u9519\u8bef\u9876\u90e8\u663e\u793a\u4e00\u6bb5\u9ec4\u8272\u80cc\u666f\u63d0\u793a) \u2003\u20033.\u4f7f\u7528Linerlayout+RelativeLayout framlayout+\u6743\u91cd\u5e03\u5c40\u6cd5 \u20034.","title":"\u4e91\u6536\u94f6APP\u9605\u8bfb\u6587\u6863"},{"location":"flutterplugincoding/","text":"androidstudio\u521b\u5efa\u63d2\u4ef6\u9879\u76ee android studio File-New-New Flutter Project \u6253\u5f00\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u63d2\u4ef6\u9879\u76ee\u7684\u5b89\u5353\u90e8\u5206 \u9f20\u6807\u9009\u4e2d\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u9879\u76ee\u540d\u53f3\u952e\uff0c\u7136\u540e\u9009\u62e9Flutter-open android moduler in android studio \u5728\u6253\u5f00\u7684\u9879\u76ee","title":"flutter\u63d2\u4ef6\u5f00\u53d1"},{"location":"flutterplugincoding/#androidstudio","text":"android studio File-New-New Flutter Project","title":"androidstudio\u521b\u5efa\u63d2\u4ef6\u9879\u76ee"},{"location":"flutterplugincoding/#_1","text":"\u9f20\u6807\u9009\u4e2d\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u9879\u76ee\u540d\u53f3\u952e\uff0c\u7136\u540e\u9009\u62e9Flutter-open android moduler in android studio \u5728\u6253\u5f00\u7684\u9879\u76ee","title":"\u6253\u5f00\u4e0a\u4e00\u6b65\u521b\u5efa\u7684\u63d2\u4ef6\u9879\u76ee\u7684\u5b89\u5353\u90e8\u5206"},{"location":"fourcomponent/","text":"\u56db\u5927\u7ec4\u4ef6\u53ca\u751f\u547d\u5468\u671f Activity \u751f\u547d\u5468\u671f \u7ecf\u5178\u9898\u76ee\uff1aA->B \u95eeA\u548cB\u7684\u751f\u547d\u5468\u671f\u53d8\u5316\uff1f\u7136\u540e\u4eceB\u8fd4\u56deA\uff0c\u95eeA\u548cB\u7684\u751f\u547d\u5468\u671f\u53d8\u5316\uff1f A(onPause) B(onCreat) B(onStart) B(onResume) A(onStop) \u4eceB\u8fd4\u56deA B(onPause) A(onRestart) A(onStart) A(onResume) B(onStop) B(onDestroy) \u4e3b\u8981\u77e5\u8bc6\u70b9\uff1a\u638c\u63e1\u4e24\u7ec4\u5bf9\u5e94\u5173\u7cfb onStart-onResume onPause-onStop \u542f\u52a8\u6a21\u5f0f 1. standard \u6807\u51c6\u7684\u6808\u7ed3\u6784 2. singleTop \u5728\u6808\u9876\u53ef\u590d\u7528 3. singleInstance \u5168\u5c40\u590d\u7528\uff0c\u4e00\u4e2a\u72ec\u7acb\u7684\u6808\u4e2d\uff0c\u6709\u5751 ActivityA,ActivityB(singleInstance),ActivityC A\u4e2d\u542f\u52a8B,B\u4e2d\u542f\u52a8C \u6b64\u65f6\u6309\u7406\u5728\u4efb\u52a1\u6808\u4e2d\u7684\u987a\u5e8f\u4ece\u4e0a\u5230\u4e0b\u662fCBA \u6309\u7406\u5728C\u4e2d\u6309\u8fd4\u56de\u952e\u5e94\u8be5\u56de\u5230B\u4e2d\uff0c\u6b64\u65f6\u5374\u56de\u5230\u4e86A\u4e2d\u3002 \u65b9\u6cd5\u5728B\u4e2d\u5b9a\u4e49\u5168\u5c40\u53d8\u91cfreturnActivityB,\u7136\u540e\u5728A\u7684onstart\u65b9\u6cd5\u4e2d\u5224\u65ad\u5168\u5c40\u53d8\u91cfreturnActivityB\uff0c\u5982\u679c\u4e3atrue\u5219\u8df3\u8f6c\u5230B 4. singleTask \u540c\u6808\u7684\u590d\u7528\uff0c\u9876\u51fa\u6808 \u7ecf\u5178\u9898\u76ee\uff1a\u5404\u4e2a\u6a21\u5f0f\u7684\u4f7f\u7528\u573a\u666f \u6570\u636e\u4f20\u9012 1. intent 2. startActivityForResult \u4e8b\u4ef6\u5206\u53d1 Service service\u4e2d\u80fd\u5426\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\u53ca\u5982\u4f55 \u548cactivity\u901a\u4fe1 1. \u751f\u547d\u5468\u671f 1. startService * call to startService * onCreat * onStartCommand() * Service running * onDestroy * Service Shut Down 2. bindService * call to bindService * onCreat * onBind * Client are bind to Service * onUnbind * onDestroy * Service shut down \u542f\u52a8\u6a21\u5f0f 1. startService 2. bindService \u4f7f\u7528\u65b9\u6cd5 \u7b2c\u4e00\u6b65\u5728Manifest\u4e2d\u6ce8\u518c \u7b2c\u4e8c\u6b65\u542f\u52a8startService/bindService \u7b2c\u4e09\u6b65\u89e3\u7ed1unBindService \u7b2c\u56db\u6b65\u6682\u505cstopService Activity\u548cService\u901a\u4fe1","title":"\u56db\u5927\u7ec4\u4ef6"},{"location":"fourcomponent/#_1","text":"","title":"\u56db\u5927\u7ec4\u4ef6\u53ca\u751f\u547d\u5468\u671f"},{"location":"fourcomponent/#activity","text":"\u751f\u547d\u5468\u671f \u7ecf\u5178\u9898\u76ee\uff1aA->B \u95eeA\u548cB\u7684\u751f\u547d\u5468\u671f\u53d8\u5316\uff1f\u7136\u540e\u4eceB\u8fd4\u56deA\uff0c\u95eeA\u548cB\u7684\u751f\u547d\u5468\u671f\u53d8\u5316\uff1f A(onPause) B(onCreat) B(onStart) B(onResume) A(onStop) \u4eceB\u8fd4\u56deA B(onPause) A(onRestart) A(onStart) A(onResume) B(onStop) B(onDestroy) \u4e3b\u8981\u77e5\u8bc6\u70b9\uff1a\u638c\u63e1\u4e24\u7ec4\u5bf9\u5e94\u5173\u7cfb onStart-onResume onPause-onStop \u542f\u52a8\u6a21\u5f0f 1. standard \u6807\u51c6\u7684\u6808\u7ed3\u6784 2. singleTop \u5728\u6808\u9876\u53ef\u590d\u7528 3. singleInstance \u5168\u5c40\u590d\u7528\uff0c\u4e00\u4e2a\u72ec\u7acb\u7684\u6808\u4e2d\uff0c\u6709\u5751 ActivityA,ActivityB(singleInstance),ActivityC A\u4e2d\u542f\u52a8B,B\u4e2d\u542f\u52a8C \u6b64\u65f6\u6309\u7406\u5728\u4efb\u52a1\u6808\u4e2d\u7684\u987a\u5e8f\u4ece\u4e0a\u5230\u4e0b\u662fCBA \u6309\u7406\u5728C\u4e2d\u6309\u8fd4\u56de\u952e\u5e94\u8be5\u56de\u5230B\u4e2d\uff0c\u6b64\u65f6\u5374\u56de\u5230\u4e86A\u4e2d\u3002 \u65b9\u6cd5\u5728B\u4e2d\u5b9a\u4e49\u5168\u5c40\u53d8\u91cfreturnActivityB,\u7136\u540e\u5728A\u7684onstart\u65b9\u6cd5\u4e2d\u5224\u65ad\u5168\u5c40\u53d8\u91cfreturnActivityB\uff0c\u5982\u679c\u4e3atrue\u5219\u8df3\u8f6c\u5230B 4. singleTask \u540c\u6808\u7684\u590d\u7528\uff0c\u9876\u51fa\u6808 \u7ecf\u5178\u9898\u76ee\uff1a\u5404\u4e2a\u6a21\u5f0f\u7684\u4f7f\u7528\u573a\u666f \u6570\u636e\u4f20\u9012 1. intent 2. startActivityForResult \u4e8b\u4ef6\u5206\u53d1","title":"Activity"},{"location":"fourcomponent/#service","text":"service\u4e2d\u80fd\u5426\u8fdb\u884c\u8017\u65f6\u64cd\u4f5c\u53ca\u5982\u4f55 \u548cactivity\u901a\u4fe1 1. \u751f\u547d\u5468\u671f 1. startService * call to startService * onCreat * onStartCommand() * Service running * onDestroy * Service Shut Down 2. bindService * call to bindService * onCreat * onBind * Client are bind to Service * onUnbind * onDestroy * Service shut down \u542f\u52a8\u6a21\u5f0f 1. startService 2. bindService \u4f7f\u7528\u65b9\u6cd5 \u7b2c\u4e00\u6b65\u5728Manifest\u4e2d\u6ce8\u518c \u7b2c\u4e8c\u6b65\u542f\u52a8startService/bindService \u7b2c\u4e09\u6b65\u89e3\u7ed1unBindService \u7b2c\u56db\u6b65\u6682\u505cstopService Activity\u548cService\u901a\u4fe1","title":"Service"},{"location":"garbage/","text":"jvm\u5185\u5b58\u6a21\u578b \u8981\u7406\u89e3gc\u5fc5\u987b\u7406\u89e3jvm\uff0cjvm\u4e3b\u8981\u7ba1\u7406\u4e24\u79cd\u5185\u5b58\uff1a\u5806\u975e\u5806 \u5806(Heap Memory)\uff1a\u7c7b\u5b9e\u4f8b\u548c\u6570\u7ec4\u7684\u5185\u5b58 \u975e\u5806(No-heap Memory)\uff1a\u65b9\u6cd5\u533a\uff0c\u7c7b\u7ed3\u6784\uff08\u8fd0\u884c\u65f6\u5e38\u6570\u6c60\uff0c\u5b57\u6bb5\u548c\u65b9\u6cd5\uff09\uff0c\u7c7b\u52a0\u8f7d\u4fe1\u606f GC\u4e3b\u8981\u56de\u6536\u7684\u5185\u5b58\u662f\u5806\u5185\u5b58 \u5806\u5185\u5b58\u6a21\u578b 1. \u5806\u5185\u5b58\u5206\u4e24\u5757\uff0c\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\uff0c\u6bd4\u4f8b(1:2) * \u8001\u5e74\u4ee3\u4e3b\u8981\u5b58\u653e\u5e94\u7528\u7a0b\u5e8f\u4e2d\u751f\u547d\u5468\u671f\u8f83\u957f\u7684\u7684\u5b58\u6d3b\u5bf9\u8c61 2. \u65b0\u751f\u4ee3\u5206\u4e09\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2aeden\u533a\u548c\u4e24\u4e2asurvivor\u533a\uff0c\u6bd4\u4f8b8\uff1a1\uff1a1 * eden\u533a\u5b58\u653e\u65b0\u751f\u7684\u5bf9\u8c61 * survivor\u533a\u5b58\u653e\u6bcf\u6b21\u5783\u573e\u56de\u6536\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61 \u53ef\u56de\u6536\u5bf9\u8c61\u7684\u5224\u5b9a \u4ec0\u4e48\u6837\u7684\u5bf9\u8c61\u662f\u5783\u573e\uff1f 1. \u5f15\u7528\u8ba1\u6570\u7b97\u6cd5 \u539f\u7406\u5c31\u662f\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5668\uff0c\u6bcf\u5f53\u6709\u4e00\u4e2a\u5730\u65b9\u5f15\u7528\u5b83\uff0c\u8ba1\u6570\u5668\u5c31\u52a01\uff0c \u5f53\u5f15\u7528\u5931\u6548\u65f6\uff0c\u8ba1\u6570\u503c\u5c31\u51cf1\uff0c\u8ba1\u6570\u5668\u4e3a0\u7684\u5bf9\u8c61\u5c31\u662f\u4e0d\u5728\u88ab\u4f7f\u7528\u7684\u3002 * \u7b80\u5355\u3001\u9ad8\u6548\uff08objectiveC\u7528\u7684\u8be5\u7b97\u6cd5\uff09 * \u5f88\u96be\u5904\u7406\u5faa\u73af\u5f15\u7528\uff08\u76f8\u4e92\u5f15\u7528\u4e24\u4e2a\u5bf9\u8c61\uff09 \u53ef\u8fbe\u6027\u5206\u6790\u7b97\u6cd5 \u4e3a\u4e86\u89e3\u51b3\u5faa\u73af\u5f15\u7528\uff0cjava\u91c7\u7528\u65b0\u7684\u7b97\u6cd5 \u4eceGC\u7684ROOT\u4f5c\u4e3a\u8d77\u70b9\uff0c\u5411\u4e0b\u641c\u7d22\u5b83\u4eec\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u53ef\u751f\u6210\u4e00\u68f5\u5f15\u7528\u6811\uff0c\u6811\u7684\u8282\u70b9\u53ef\u89c6\u4e3a\u53ef\u8fbe\u5bf9\u8c61\uff0c\u53cd\u4e4b\u89c6\u4e3a\u4e0d\u53ef\u8fbe \u5982\u4f55\u5b9a\u4e49GC root,java\u8bed\u8a00\u5b9a\u4e49\u5982\u4e0bGC-ROOT\u5bf9\u8c61 * \u865a\u62df\u673a\u6808\u4e2d\u5f15\u7528\u7684\u5bf9\u8c61 * \u65b9\u6cd5\u533a\u4e2d\u9759\u6001\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61 * \u65b9\u6cd5\u533a\u4e2d\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61 * \u672c\u5730\u65b9\u6cd5\u6808\u4e2djni\u5f15\u7528\u7684\u5bf9\u8c61 ## stop the world \u5783\u573e\u56de\u6536\u65f6\u9700\u8981\u6574\u4e2a\u5f15\u7528\u72b6\u6001\u4fdd\u6301\u4e0d\u53d8\uff0c\u5426\u5219\u5224\u5b9a\u662f\u5783\u573e\uff0c\u7b49\u4f1a\u5c31\u4e0d\u662f\u4e86\uff0cGC\u7684\u65f6\u5019\u6240\u6709\u7684\u7a0b\u5e8f\u6267\u884c\u5904\u4e8e\u6682\u505c\u7684\u72b6\u6001\uff0c\u5361\u4f4f\uff0c\u8fd9\u79cd\u5361\u987f\u975e\u5e38\u77ed\uff0c\u5bf9\u7a0b\u5e8f\u7684\u5f71\u54cd\u5fae\u4e4e\u5176\u5fae\uff0cGC\u7684\u5361\u987f\u7531\u6b64\u800c\u6765\u3002 \u51e0\u79cd\u5783\u573e\u56de\u6536\u7b97\u6cd5 \u5982\u4f55\u56de\u6536\uff1fJava\u865a\u62df\u673a\u91c7\u7528\u7684\u662f\u5206\u4ee3\u56de\u6536\u7b97\u6cd5\uff0c\u60f3\u8981\u7406\u89e3\u5206\u4ee3\u56de\u6536\u7b97\u6cd5\uff0c\u6709\u5fc5\u8981\u5148\u4e86\u89e3\u5176\u5b83\u51e0\u79cd\u7b80\u5355\u7b97\u6cd5 1. \u6807\u8bb0\u6e05\u695a\u7b97\u6cd5(Mark-Sweep) \u6807\u8bb0\u9636\u6bb5\uff1a\u6807\u8bb0\u6240\u6709\u9700\u8981\u88ab\u56de\u6536\u7684\u5bf9\u8c61 \u6e05\u695a\u9636\u6bb5\uff1a\u56de\u6536\u88ab\u6807\u8bb0\u5bf9\u8c61\u5360\u7528\u7684\u7a7a\u95f4 * \u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0 * \u5bb9\u6613\u4ea7\u751f\u5185\u5b58\u788e\u7247\uff0c\u788e\u7247\u592a\u591a\u53ef\u80fd\u5bfc\u81f4\u540e\u7eed\u9700\u8981\u4e3a\u5927\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4\u65e0\u6cd5\u627e\u5230\u8db3\u591f\u7684\u7a7a\u95f4\uff0c\u63d0\u524d\u89e6\u53d1\u65b0\u7684\u4e00\u6b21\u5783\u573e\u6536\u96c6\u52a8\u4f5c\u3002 \u590d\u5236\u7b97\u6cd5\uff08Copying\uff09 \u5c06\u5185\u5b58\u5206\u4e3a\u5927\u5c0f\u76f8\u540c\u7684\u4e24\u5757\uff0c\u6bcf\u6b21\u53ea\u4f7f\u7528\u5176\u4e2d\u7684\u4e00\u5757\uff0c\u5f53\u8fd9\u4e00\u5757\u7528\u5b8c\u4e86\uff0c\u5c06\u8fd8\u6d3b\u7740\u7684\u5bf9\u8c61\u590d\u5236\u5230\u53e6\u5916\u4e00\u5757\uff0c\u518d\u628a\u5df2\u4f7f\u7528\u7684\u4e00\u5757\u4e00\u6b21\u6e05\u7406\u6389\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u51fa\u73b0\u5185\u5b58\u788e\u7247\u95ee\u9898\uff0c * \u7b80\u5355\uff0c\u9ad8\u6548 * \u5bf9\u5185\u5b58\u7a7a\u95f4\u7684\u4f7f\u7528\u4ed8\u51fa\u4e86\u9ad8\u6602\u7684\u4ee3\u4ef7\uff0c\u53ef \u4f7f\u7528\u5185\u5b58\u7f29\u5c11\u5230\u4e86\u539f\u6765\u7684\u4e00\u534a Copying\u7b97\u6cd5\u7684\u6548\u7387\u53d6\u51b3\u4e8e\u6d3b\u7740\u7684\u5bf9\u8c61\uff0c\u6d3b\u7740\u7684\u5bf9\u8c61\u8d8a\u591acopying\u8d8a\u591a\uff0c\u6548\u7387\u8d8a\u6162 \u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff08Mark-compact\uff09 \u6807\u8bb0\u9636\u6bb5\u548cMark-sweep\u4e00\u6837\uff0c\u6807\u8bb0\u51fa\u9700\u8981\u88ab\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u5b8c\u6210\u6807\u8bb0\u540e\uff0c\u5c06\u5b58\u6d3b\u7684\u5bf9\u8c61\u5411\u4e00\u7aef\u79fb\u52a8\uff0c\u6e05\u7406\u6389\u7aef\u8fb9\u754c\u4ee5\u5916\u7684\u5185\u5b58 * \u9002\u7528\u4e8e\u5b58\u6d3b\u5bf9\u8c61\u591a\uff0c\u56de\u6536\u5bf9\u8c61\u5c11\u7684\u60c5\u51b5 \u5206\u4ee3\u56de\u6536\u7b97\u6cd5 \u4e0d\u662f\u4e00\u79cd\u65b0\u7684\u7b97\u6cd5\u800c\u662f\u590d\u5236\u7b97\u6cd5\u548c\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\u7684\u6574\u5408 \u590d\u5236\u7b97\u6cd5\uff1a\u9002\u7528\u4e8e\u5b58\u6d3b\u5bf9\u8c61\u5c11\uff0c\u56de\u6536\u5bf9\u8c61\u591a \u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff1a\u9002\u7528\u4e8e\u5b58\u6d3b\u5bf9\u8c61\u591a\uff0c\u56de\u6536\u5bf9\u8c61\u5c11 \u5806\u5185\u5b58\u5206\u4e3a\u8001\u5e74\u4ee3(Old generation)\u548c\u65b0\u751f\u4ee3(young Generation),\u8001\u5e74\u4ee3\u7684\u7279\u70b9\u662f\u6bcf\u6b21\u5783\u573e\u6536\u96c6\u65f6\u53ea\u6709\u5c11\u91cf\u7684\u5bf9\u8c61\u9700\u8981\u88ab\u56de\u6536\uff0c\u65b0\u751f\u4ee3\u7684\u7279\u70b9\u662f\u6bcf\u6b21\u5783\u573e\u56de\u6536\u65f6\u90fd\u6709\u5927\u91cf\u7684\u5bf9\u8c61\u9700\u8981\u88ab\u56de\u6536\uff0c\u6839\u636e\u4e0d\u540c\u4ee3\u7684\u7279\u70b9\u91c7\u7528\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u5206\u4ee3\u7b97\u6cd5\u3002 \u8be6\u7ec6\u5206\u6790 1. \u5bf9\u4e8e\u65b0\u751f\u4ee3\u91c7\u7528Copying\u7b97\u6cd5\uff0c\u56e0\u4e3a\u65b0\u751f\u4ee3\u6bcf\u6b21\u5783\u573e\u56de\u6536\u7684\u65f6\u5019\u90fd\u8981\u56de\u6536\u5927\u90e8\u5206\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u8bf4\u9700\u8981\u590d\u5236\u7684\u5b58\u6d3b\u7684\u5bf9\u8c61\u8f83\u5c11\uff0c\u6240\u4ee5\u91c7\u7528Copying\u7b97\u6cd5\u7684\u6548\u7387\u6700\u9ad8\uff0c\u5b9e\u9645\u4e2d\u5e76\u4e0d\u662f\u6309\u7167\u4e0a\u9762Copying\u7b97\u6cd5\u4e2d\u8bf4\u76841\uff1a1\u5206\u6210\u76f8\u7b49\u7684\u4e24\u5757\uff0c\u800c\u662f\u5c06\u65b0\u751f\u4ee3\u5206\u4e3aeden\u7a7a\u95f4\u548csurvivor\u7a7a\u95f48\uff1a1\uff1a1 2. \u7531\u4e8e\u8001\u5e74\u4ee3\u6bcf\u6b21\u53ea\u56de\u6536\u5c11\u91cf\u5bf9\u8c61\uff0c\u4e00\u822c\u4f7f\u7528Mark-compact\u7b97\u6cd5 QA1.\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u5757Survivor\u7a7a\u95f4\uff1f \u8fd9\u91cc\u6d89\u53ca\u5230\u4e00\u4e2a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u7684\u5b58\u6d3b\u5468\u671f\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u4e00\u4e2a\u5bf9\u8c61\u5728\u65b0\u751f\u4ee3\u7ecf\u538615\u6b21\uff08\u4ec5\u4f9b\u53c2\u8003\uff09GC\uff0c\u5c31\u53ef\u4ee5\u79fb\u5230\u8001\u5e74\u4ee3\u4e86\u3002\u95ee\u9898\u6765\u4e86\uff0c\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21GC\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u628aEden\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61\u653e\u5230Survivor A\u7a7a\u95f4\uff0c\u4f46\u662f\u7b2c\u4e8c\u6b21GC\u7684\u65f6\u5019\uff0cSurvivor A\u7a7a\u95f4\u7684\u5b58\u6d3b\u5bf9\u8c61\u4e5f\u9700\u8981\u518d\u6b21\u7528Copying\u7b97\u6cd5\uff0c\u653e\u5230Survivor B\u7a7a\u95f4\u4e0a\uff0c\u800c\u628a\u521a\u521a\u7684Survivor A\u7a7a\u95f4\u548cEden\u7a7a\u95f4\u6e05\u9664\u3002\u7b2c\u4e09\u6b21GC\u65f6\uff0c\u53c8\u628aSurvivor B\u7a7a\u95f4\u7684\u5b58\u6d3b\u5bf9\u8c61\u590d\u5236\u5230Survivor A\u7a7a\u95f4\uff0c\u5982\u6b64\u53cd\u590d\u3002 \u6240\u4ee5\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u4e24\u5757Survivor\u7a7a\u95f4\u6765\u56de\u5012\u817e\u3002 QA2.\u4e3a\u4ec0\u4e48EDEN\u7a7a\u95f4\u8fd9\u4e48\u5927\u800cSurvivor\u7a7a\u95f4\u8fd9\u4e48\u5c0f\uff1f \u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u90fd\u662f\u653e\u5728Eden\u7a7a\u95f4\uff0c\u8fd9\u662f\u5f88\u9891\u7e41\u7684\uff0c\u5c24\u5176\u662f\u5927\u91cf\u7684\u5c40\u90e8\u53d8\u91cf\u4ea7\u751f\u7684\u4e34\u65f6\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u7edd\u5927\u90e8\u5206\u90fd\u5e94\u8be5\u9a6c\u4e0a\u88ab\u56de\u6536\uff0c\u80fd\u5b58\u6d3b\u4e0b\u6765\u88ab\u8f6c\u79fb\u5230survivor\u7a7a\u95f4\u7684\u5f80\u5f80\u4e0d\u591a\u3002\u6240\u4ee5\uff0c\u8bbe\u7f6e\u8f83\u5927\u7684Eden\u7a7a\u95f4\u548c\u8f83\u5c0f\u7684Survivor\u7a7a\u95f4\u662f\u5408\u7406\u7684\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u5185\u5b58\u7684\u4f7f\u7528\u7387\uff0c\u7f13\u89e3\u4e86Copying\u7b97\u6cd5\u7684\u7f3a\u70b9\u3002 \u6211\u770b8\uff1a1\uff1a1\u5c31\u633a\u597d\u7684\uff0c\u5f53\u7136\u8fd9\u4e2a\u6bd4\u4f8b\u662f\u53ef\u4ee5\u8c03\u6574\u7684\uff0c\u5305\u62ec\u4e0a\u9762\u7684\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u76841\uff1a2\u7684\u6bd4\u4f8b\u4e5f\u662f\u53ef\u4ee5\u8c03\u6574\u7684\u3002 \u65b0\u7684\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u4eceEden\u7a7a\u95f4\u5f80Survivor\u7a7a\u95f4\u8f6c\u79fb\u7684\u65f6\u5019Survivor\u7a7a\u95f4\u4e0d\u591f\u4e86\u600e\u4e48\u529e\uff1f\u76f4\u63a5\u653e\u5230\u8001\u5e74\u4ee3\u53bb\u3002 Eden\u7a7a\u95f4\u548c\u4e24\u5757Survivor\u7a7a\u95f4\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1f \u73b0\u5728\u5047\u5b9a\u6709\u65b0\u751f\u4ee3Eden\uff0cSurvivor A\uff0c Survivor B\u4e09\u5757\u7a7a\u95f4\u548c\u8001\u751f\u4ee3Old\u4e00\u5757\u7a7a\u95f4\u3002 // \u5206\u914d\u4e86\u4e00\u4e2a\u53c8\u4e00\u4e2a\u5bf9\u8c61 \u653e\u5230Eden\u533a // \u4e0d\u597d\uff0cEden\u533a\u6ee1\u4e86\uff0c\u53ea\u80fdGC(\u65b0\u751f\u4ee3GC\uff1aMinor GC)\u4e86 \u628aEden\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61copy\u5230Survivor A\u533a\uff0c\u7136\u540e\u6e05\u7a7aEden\u533a\uff08\u672c\u6765Survivor B\u533a\u4e5f\u9700\u8981\u6e05\u7a7a\u7684\uff0c\u4e0d\u8fc7\u672c\u6765\u5c31\u662f\u7a7a\u7684\uff09 // \u53c8\u5206\u914d\u4e86\u4e00\u4e2a\u53c8\u4e00\u4e2a\u5bf9\u8c61 \u653e\u5230Eden\u533a // \u4e0d\u597d\uff0cEden\u533a\u53c8\u6ee1\u4e86\uff0c\u53ea\u80fdGC(\u65b0\u751f\u4ee3GC\uff1aMinor GC)\u4e86 \u628aEden\u533a\u548cSurvivor A\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61copy\u5230Survivor B\u533a\uff0c\u7136\u540e\u6e05\u7a7aEden\u533a\u548cSurvivor A\u533a // \u53c8\u5206\u914d\u4e86\u4e00\u4e2a\u53c8\u4e00\u4e2a\u5bf9\u8c61 \u653e\u5230Eden\u533a // \u4e0d\u597d\uff0cEden\u533a\u53c8\u6ee1\u4e86\uff0c\u53ea\u80fdGC(\u65b0\u751f\u4ee3GC\uff1aMinor GC)\u4e86 \u628aEden\u533a\u548cSurvivor B\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61copy\u5230Survivor A\u533a\uff0c\u7136\u540e\u6e05\u7a7aEden\u533a\u548cSurvivor B\u533a // ... // \u6709\u7684\u5bf9\u8c61\u6765\u56de\u5728Survivor A\u533a\u6216\u8005B\u533a\u5446\u4e86\u6bd4\u598215\u6b21\uff0c\u5c31\u88ab\u5206\u914d\u5230\u8001\u5e74\u4ee3Old\u533a // \u6709\u7684\u5bf9\u8c61\u592a\u5927\uff0c\u8d85\u8fc7\u4e86Eden\u533a\uff0c\u76f4\u63a5\u88ab\u5206\u914d\u5728Old\u533a // \u6709\u7684\u5b58\u6d3b\u5bf9\u8c61\uff0c\u653e\u4e0d\u4e0bSurvivor\u533a\uff0c\u4e5f\u88ab\u5206\u914d\u5230Old\u533a // ... // \u5728\u67d0\u6b21Minor GC\u7684\u8fc7\u7a0b\u4e2d\u7a81\u7136\u53d1\u73b0\uff1a // \u4e0d\u597d\uff0c\u8001\u5e74\u4ee3Old\u533a\u4e5f\u6ee1\u4e86\uff0c\u8fd9\u662f\u4e00\u6b21\u5927GC(\u8001\u5e74\u4ee3GC\uff1aMajor GC) Old\u533a\u6162\u6162\u7684\u6574\u7406\u4e00\u756a\uff0c\u7a7a\u95f4\u53c8\u591f\u4e86 // \u7ee7\u7eedMinor GC // ... // ... \u901a\u8fc7\u65e5\u5fd7\u5206\u6790GC\u7c7b\u578b GC_FOR_MALLOC: \u8868\u793a\u662f\u5728\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u65f6\u5185\u5b58\u4e0d\u8db3\u89e6\u53d1\u7684GC\u3002 GC_CONCURRENT: \u5f53\u6211\u4eec\u5e94\u7528\u7a0b\u5e8f\u7684\u5806\u5185\u5b58\u8fbe\u5230\u4e00\u5b9a\u91cf\uff0c\u6216\u8005\u53ef\u4ee5\u7406\u89e3\u4e3a\u5feb\u8981\u6ee1\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u89e6\u53d1GC\u64cd\u4f5c\u6765\u91ca\u653e\u5185\u5b58\u3002 GC_EXPLICIT: \u8868\u793a\u662f\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528System.gc\u3001VMRuntime.gc\u63a5\u53e3\u6216\u8005\u6536\u5230SIGUSR1\u4fe1\u53f7\u65f6\u89e6\u53d1\u7684GC\u3002 GC_BEFORE_OOM: \u8868\u793a\u662f\u5728\u51c6\u5907\u629bOOM\u5f02\u5e38\u4e4b\u524d\u8fdb\u884c\u7684\u6700\u540e\u52aa\u529b\u800c\u89e6\u53d1\u7684GC\u3002","title":"\u5783\u573e\u56de\u6536\u673a\u5236"},{"location":"garbage/#jvm","text":"\u8981\u7406\u89e3gc\u5fc5\u987b\u7406\u89e3jvm\uff0cjvm\u4e3b\u8981\u7ba1\u7406\u4e24\u79cd\u5185\u5b58\uff1a\u5806\u975e\u5806 \u5806(Heap Memory)\uff1a\u7c7b\u5b9e\u4f8b\u548c\u6570\u7ec4\u7684\u5185\u5b58 \u975e\u5806(No-heap Memory)\uff1a\u65b9\u6cd5\u533a\uff0c\u7c7b\u7ed3\u6784\uff08\u8fd0\u884c\u65f6\u5e38\u6570\u6c60\uff0c\u5b57\u6bb5\u548c\u65b9\u6cd5\uff09\uff0c\u7c7b\u52a0\u8f7d\u4fe1\u606f GC\u4e3b\u8981\u56de\u6536\u7684\u5185\u5b58\u662f\u5806\u5185\u5b58","title":"jvm\u5185\u5b58\u6a21\u578b"},{"location":"garbage/#_1","text":"1. \u5806\u5185\u5b58\u5206\u4e24\u5757\uff0c\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\uff0c\u6bd4\u4f8b(1:2) * \u8001\u5e74\u4ee3\u4e3b\u8981\u5b58\u653e\u5e94\u7528\u7a0b\u5e8f\u4e2d\u751f\u547d\u5468\u671f\u8f83\u957f\u7684\u7684\u5b58\u6d3b\u5bf9\u8c61 2. \u65b0\u751f\u4ee3\u5206\u4e09\u4e2a\u90e8\u5206\uff0c\u4e00\u4e2aeden\u533a\u548c\u4e24\u4e2asurvivor\u533a\uff0c\u6bd4\u4f8b8\uff1a1\uff1a1 * eden\u533a\u5b58\u653e\u65b0\u751f\u7684\u5bf9\u8c61 * survivor\u533a\u5b58\u653e\u6bcf\u6b21\u5783\u573e\u56de\u6536\u540e\u5b58\u6d3b\u7684\u5bf9\u8c61","title":"\u5806\u5185\u5b58\u6a21\u578b"},{"location":"garbage/#_2","text":"\u4ec0\u4e48\u6837\u7684\u5bf9\u8c61\u662f\u5783\u573e\uff1f 1. \u5f15\u7528\u8ba1\u6570\u7b97\u6cd5 \u539f\u7406\u5c31\u662f\u7ed9\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e2a\u5f15\u7528\u8ba1\u6570\u5668\uff0c\u6bcf\u5f53\u6709\u4e00\u4e2a\u5730\u65b9\u5f15\u7528\u5b83\uff0c\u8ba1\u6570\u5668\u5c31\u52a01\uff0c \u5f53\u5f15\u7528\u5931\u6548\u65f6\uff0c\u8ba1\u6570\u503c\u5c31\u51cf1\uff0c\u8ba1\u6570\u5668\u4e3a0\u7684\u5bf9\u8c61\u5c31\u662f\u4e0d\u5728\u88ab\u4f7f\u7528\u7684\u3002 * \u7b80\u5355\u3001\u9ad8\u6548\uff08objectiveC\u7528\u7684\u8be5\u7b97\u6cd5\uff09 * \u5f88\u96be\u5904\u7406\u5faa\u73af\u5f15\u7528\uff08\u76f8\u4e92\u5f15\u7528\u4e24\u4e2a\u5bf9\u8c61\uff09 \u53ef\u8fbe\u6027\u5206\u6790\u7b97\u6cd5 \u4e3a\u4e86\u89e3\u51b3\u5faa\u73af\u5f15\u7528\uff0cjava\u91c7\u7528\u65b0\u7684\u7b97\u6cd5 \u4eceGC\u7684ROOT\u4f5c\u4e3a\u8d77\u70b9\uff0c\u5411\u4e0b\u641c\u7d22\u5b83\u4eec\u5f15\u7528\u7684\u5bf9\u8c61\uff0c\u53ef\u751f\u6210\u4e00\u68f5\u5f15\u7528\u6811\uff0c\u6811\u7684\u8282\u70b9\u53ef\u89c6\u4e3a\u53ef\u8fbe\u5bf9\u8c61\uff0c\u53cd\u4e4b\u89c6\u4e3a\u4e0d\u53ef\u8fbe \u5982\u4f55\u5b9a\u4e49GC root,java\u8bed\u8a00\u5b9a\u4e49\u5982\u4e0bGC-ROOT\u5bf9\u8c61 * \u865a\u62df\u673a\u6808\u4e2d\u5f15\u7528\u7684\u5bf9\u8c61 * \u65b9\u6cd5\u533a\u4e2d\u9759\u6001\u5c5e\u6027\u5f15\u7528\u7684\u5bf9\u8c61 * \u65b9\u6cd5\u533a\u4e2d\u5e38\u91cf\u5f15\u7528\u7684\u5bf9\u8c61 * \u672c\u5730\u65b9\u6cd5\u6808\u4e2djni\u5f15\u7528\u7684\u5bf9\u8c61 ## stop the world \u5783\u573e\u56de\u6536\u65f6\u9700\u8981\u6574\u4e2a\u5f15\u7528\u72b6\u6001\u4fdd\u6301\u4e0d\u53d8\uff0c\u5426\u5219\u5224\u5b9a\u662f\u5783\u573e\uff0c\u7b49\u4f1a\u5c31\u4e0d\u662f\u4e86\uff0cGC\u7684\u65f6\u5019\u6240\u6709\u7684\u7a0b\u5e8f\u6267\u884c\u5904\u4e8e\u6682\u505c\u7684\u72b6\u6001\uff0c\u5361\u4f4f\uff0c\u8fd9\u79cd\u5361\u987f\u975e\u5e38\u77ed\uff0c\u5bf9\u7a0b\u5e8f\u7684\u5f71\u54cd\u5fae\u4e4e\u5176\u5fae\uff0cGC\u7684\u5361\u987f\u7531\u6b64\u800c\u6765\u3002","title":"\u53ef\u56de\u6536\u5bf9\u8c61\u7684\u5224\u5b9a"},{"location":"garbage/#_3","text":"\u5982\u4f55\u56de\u6536\uff1fJava\u865a\u62df\u673a\u91c7\u7528\u7684\u662f\u5206\u4ee3\u56de\u6536\u7b97\u6cd5\uff0c\u60f3\u8981\u7406\u89e3\u5206\u4ee3\u56de\u6536\u7b97\u6cd5\uff0c\u6709\u5fc5\u8981\u5148\u4e86\u89e3\u5176\u5b83\u51e0\u79cd\u7b80\u5355\u7b97\u6cd5 1. \u6807\u8bb0\u6e05\u695a\u7b97\u6cd5(Mark-Sweep) \u6807\u8bb0\u9636\u6bb5\uff1a\u6807\u8bb0\u6240\u6709\u9700\u8981\u88ab\u56de\u6536\u7684\u5bf9\u8c61 \u6e05\u695a\u9636\u6bb5\uff1a\u56de\u6536\u88ab\u6807\u8bb0\u5bf9\u8c61\u5360\u7528\u7684\u7a7a\u95f4 * \u7b80\u5355\uff0c\u5bb9\u6613\u5b9e\u73b0 * \u5bb9\u6613\u4ea7\u751f\u5185\u5b58\u788e\u7247\uff0c\u788e\u7247\u592a\u591a\u53ef\u80fd\u5bfc\u81f4\u540e\u7eed\u9700\u8981\u4e3a\u5927\u5bf9\u8c61\u5206\u914d\u7a7a\u95f4\u65e0\u6cd5\u627e\u5230\u8db3\u591f\u7684\u7a7a\u95f4\uff0c\u63d0\u524d\u89e6\u53d1\u65b0\u7684\u4e00\u6b21\u5783\u573e\u6536\u96c6\u52a8\u4f5c\u3002 \u590d\u5236\u7b97\u6cd5\uff08Copying\uff09 \u5c06\u5185\u5b58\u5206\u4e3a\u5927\u5c0f\u76f8\u540c\u7684\u4e24\u5757\uff0c\u6bcf\u6b21\u53ea\u4f7f\u7528\u5176\u4e2d\u7684\u4e00\u5757\uff0c\u5f53\u8fd9\u4e00\u5757\u7528\u5b8c\u4e86\uff0c\u5c06\u8fd8\u6d3b\u7740\u7684\u5bf9\u8c61\u590d\u5236\u5230\u53e6\u5916\u4e00\u5757\uff0c\u518d\u628a\u5df2\u4f7f\u7528\u7684\u4e00\u5757\u4e00\u6b21\u6e05\u7406\u6389\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u51fa\u73b0\u5185\u5b58\u788e\u7247\u95ee\u9898\uff0c * \u7b80\u5355\uff0c\u9ad8\u6548 * \u5bf9\u5185\u5b58\u7a7a\u95f4\u7684\u4f7f\u7528\u4ed8\u51fa\u4e86\u9ad8\u6602\u7684\u4ee3\u4ef7\uff0c\u53ef \u4f7f\u7528\u5185\u5b58\u7f29\u5c11\u5230\u4e86\u539f\u6765\u7684\u4e00\u534a Copying\u7b97\u6cd5\u7684\u6548\u7387\u53d6\u51b3\u4e8e\u6d3b\u7740\u7684\u5bf9\u8c61\uff0c\u6d3b\u7740\u7684\u5bf9\u8c61\u8d8a\u591acopying\u8d8a\u591a\uff0c\u6548\u7387\u8d8a\u6162 \u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff08Mark-compact\uff09 \u6807\u8bb0\u9636\u6bb5\u548cMark-sweep\u4e00\u6837\uff0c\u6807\u8bb0\u51fa\u9700\u8981\u88ab\u56de\u6536\u7684\u5bf9\u8c61\uff0c\u5b8c\u6210\u6807\u8bb0\u540e\uff0c\u5c06\u5b58\u6d3b\u7684\u5bf9\u8c61\u5411\u4e00\u7aef\u79fb\u52a8\uff0c\u6e05\u7406\u6389\u7aef\u8fb9\u754c\u4ee5\u5916\u7684\u5185\u5b58 * \u9002\u7528\u4e8e\u5b58\u6d3b\u5bf9\u8c61\u591a\uff0c\u56de\u6536\u5bf9\u8c61\u5c11\u7684\u60c5\u51b5 \u5206\u4ee3\u56de\u6536\u7b97\u6cd5 \u4e0d\u662f\u4e00\u79cd\u65b0\u7684\u7b97\u6cd5\u800c\u662f\u590d\u5236\u7b97\u6cd5\u548c\u6807\u8bb0\u6574\u7406\u7b97\u6cd5\u7684\u6574\u5408 \u590d\u5236\u7b97\u6cd5\uff1a\u9002\u7528\u4e8e\u5b58\u6d3b\u5bf9\u8c61\u5c11\uff0c\u56de\u6536\u5bf9\u8c61\u591a \u6807\u8bb0\u6574\u7406\u7b97\u6cd5\uff1a\u9002\u7528\u4e8e\u5b58\u6d3b\u5bf9\u8c61\u591a\uff0c\u56de\u6536\u5bf9\u8c61\u5c11 \u5806\u5185\u5b58\u5206\u4e3a\u8001\u5e74\u4ee3(Old generation)\u548c\u65b0\u751f\u4ee3(young Generation),\u8001\u5e74\u4ee3\u7684\u7279\u70b9\u662f\u6bcf\u6b21\u5783\u573e\u6536\u96c6\u65f6\u53ea\u6709\u5c11\u91cf\u7684\u5bf9\u8c61\u9700\u8981\u88ab\u56de\u6536\uff0c\u65b0\u751f\u4ee3\u7684\u7279\u70b9\u662f\u6bcf\u6b21\u5783\u573e\u56de\u6536\u65f6\u90fd\u6709\u5927\u91cf\u7684\u5bf9\u8c61\u9700\u8981\u88ab\u56de\u6536\uff0c\u6839\u636e\u4e0d\u540c\u4ee3\u7684\u7279\u70b9\u91c7\u7528\u4e0d\u540c\u7684\u7b97\u6cd5\uff0c\u8fd9\u5c31\u662f\u5206\u4ee3\u7b97\u6cd5\u3002 \u8be6\u7ec6\u5206\u6790 1. \u5bf9\u4e8e\u65b0\u751f\u4ee3\u91c7\u7528Copying\u7b97\u6cd5\uff0c\u56e0\u4e3a\u65b0\u751f\u4ee3\u6bcf\u6b21\u5783\u573e\u56de\u6536\u7684\u65f6\u5019\u90fd\u8981\u56de\u6536\u5927\u90e8\u5206\u5bf9\u8c61\uff0c\u4e5f\u5c31\u662f\u8bf4\u9700\u8981\u590d\u5236\u7684\u5b58\u6d3b\u7684\u5bf9\u8c61\u8f83\u5c11\uff0c\u6240\u4ee5\u91c7\u7528Copying\u7b97\u6cd5\u7684\u6548\u7387\u6700\u9ad8\uff0c\u5b9e\u9645\u4e2d\u5e76\u4e0d\u662f\u6309\u7167\u4e0a\u9762Copying\u7b97\u6cd5\u4e2d\u8bf4\u76841\uff1a1\u5206\u6210\u76f8\u7b49\u7684\u4e24\u5757\uff0c\u800c\u662f\u5c06\u65b0\u751f\u4ee3\u5206\u4e3aeden\u7a7a\u95f4\u548csurvivor\u7a7a\u95f48\uff1a1\uff1a1 2. \u7531\u4e8e\u8001\u5e74\u4ee3\u6bcf\u6b21\u53ea\u56de\u6536\u5c11\u91cf\u5bf9\u8c61\uff0c\u4e00\u822c\u4f7f\u7528Mark-compact\u7b97\u6cd5 QA1.\u4e3a\u4ec0\u4e48\u9700\u8981\u4e24\u5757Survivor\u7a7a\u95f4\uff1f \u8fd9\u91cc\u6d89\u53ca\u5230\u4e00\u4e2a\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u7684\u5b58\u6d3b\u5468\u671f\u7684\u95ee\u9898\uff0c\u6bd4\u5982\u4e00\u4e2a\u5bf9\u8c61\u5728\u65b0\u751f\u4ee3\u7ecf\u538615\u6b21\uff08\u4ec5\u4f9b\u53c2\u8003\uff09GC\uff0c\u5c31\u53ef\u4ee5\u79fb\u5230\u8001\u5e74\u4ee3\u4e86\u3002\u95ee\u9898\u6765\u4e86\uff0c\u5f53\u6211\u4eec\u7b2c\u4e00\u6b21GC\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u4ee5\u628aEden\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61\u653e\u5230Survivor A\u7a7a\u95f4\uff0c\u4f46\u662f\u7b2c\u4e8c\u6b21GC\u7684\u65f6\u5019\uff0cSurvivor A\u7a7a\u95f4\u7684\u5b58\u6d3b\u5bf9\u8c61\u4e5f\u9700\u8981\u518d\u6b21\u7528Copying\u7b97\u6cd5\uff0c\u653e\u5230Survivor B\u7a7a\u95f4\u4e0a\uff0c\u800c\u628a\u521a\u521a\u7684Survivor A\u7a7a\u95f4\u548cEden\u7a7a\u95f4\u6e05\u9664\u3002\u7b2c\u4e09\u6b21GC\u65f6\uff0c\u53c8\u628aSurvivor B\u7a7a\u95f4\u7684\u5b58\u6d3b\u5bf9\u8c61\u590d\u5236\u5230Survivor A\u7a7a\u95f4\uff0c\u5982\u6b64\u53cd\u590d\u3002 \u6240\u4ee5\uff0c\u8fd9\u91cc\u5c31\u9700\u8981\u4e24\u5757Survivor\u7a7a\u95f4\u6765\u56de\u5012\u817e\u3002 QA2.\u4e3a\u4ec0\u4e48EDEN\u7a7a\u95f4\u8fd9\u4e48\u5927\u800cSurvivor\u7a7a\u95f4\u8fd9\u4e48\u5c0f\uff1f \u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u90fd\u662f\u653e\u5728Eden\u7a7a\u95f4\uff0c\u8fd9\u662f\u5f88\u9891\u7e41\u7684\uff0c\u5c24\u5176\u662f\u5927\u91cf\u7684\u5c40\u90e8\u53d8\u91cf\u4ea7\u751f\u7684\u4e34\u65f6\u5bf9\u8c61\uff0c\u8fd9\u4e9b\u5bf9\u8c61\u7edd\u5927\u90e8\u5206\u90fd\u5e94\u8be5\u9a6c\u4e0a\u88ab\u56de\u6536\uff0c\u80fd\u5b58\u6d3b\u4e0b\u6765\u88ab\u8f6c\u79fb\u5230survivor\u7a7a\u95f4\u7684\u5f80\u5f80\u4e0d\u591a\u3002\u6240\u4ee5\uff0c\u8bbe\u7f6e\u8f83\u5927\u7684Eden\u7a7a\u95f4\u548c\u8f83\u5c0f\u7684Survivor\u7a7a\u95f4\u662f\u5408\u7406\u7684\uff0c\u5927\u5927\u63d0\u9ad8\u4e86\u5185\u5b58\u7684\u4f7f\u7528\u7387\uff0c\u7f13\u89e3\u4e86Copying\u7b97\u6cd5\u7684\u7f3a\u70b9\u3002 \u6211\u770b8\uff1a1\uff1a1\u5c31\u633a\u597d\u7684\uff0c\u5f53\u7136\u8fd9\u4e2a\u6bd4\u4f8b\u662f\u53ef\u4ee5\u8c03\u6574\u7684\uff0c\u5305\u62ec\u4e0a\u9762\u7684\u65b0\u751f\u4ee3\u548c\u8001\u5e74\u4ee3\u76841\uff1a2\u7684\u6bd4\u4f8b\u4e5f\u662f\u53ef\u4ee5\u8c03\u6574\u7684\u3002 \u65b0\u7684\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u4eceEden\u7a7a\u95f4\u5f80Survivor\u7a7a\u95f4\u8f6c\u79fb\u7684\u65f6\u5019Survivor\u7a7a\u95f4\u4e0d\u591f\u4e86\u600e\u4e48\u529e\uff1f\u76f4\u63a5\u653e\u5230\u8001\u5e74\u4ee3\u53bb\u3002 Eden\u7a7a\u95f4\u548c\u4e24\u5757Survivor\u7a7a\u95f4\u7684\u5de5\u4f5c\u6d41\u7a0b\uff1f \u73b0\u5728\u5047\u5b9a\u6709\u65b0\u751f\u4ee3Eden\uff0cSurvivor A\uff0c Survivor B\u4e09\u5757\u7a7a\u95f4\u548c\u8001\u751f\u4ee3Old\u4e00\u5757\u7a7a\u95f4\u3002 // \u5206\u914d\u4e86\u4e00\u4e2a\u53c8\u4e00\u4e2a\u5bf9\u8c61 \u653e\u5230Eden\u533a // \u4e0d\u597d\uff0cEden\u533a\u6ee1\u4e86\uff0c\u53ea\u80fdGC(\u65b0\u751f\u4ee3GC\uff1aMinor GC)\u4e86 \u628aEden\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61copy\u5230Survivor A\u533a\uff0c\u7136\u540e\u6e05\u7a7aEden\u533a\uff08\u672c\u6765Survivor B\u533a\u4e5f\u9700\u8981\u6e05\u7a7a\u7684\uff0c\u4e0d\u8fc7\u672c\u6765\u5c31\u662f\u7a7a\u7684\uff09 // \u53c8\u5206\u914d\u4e86\u4e00\u4e2a\u53c8\u4e00\u4e2a\u5bf9\u8c61 \u653e\u5230Eden\u533a // \u4e0d\u597d\uff0cEden\u533a\u53c8\u6ee1\u4e86\uff0c\u53ea\u80fdGC(\u65b0\u751f\u4ee3GC\uff1aMinor GC)\u4e86 \u628aEden\u533a\u548cSurvivor A\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61copy\u5230Survivor B\u533a\uff0c\u7136\u540e\u6e05\u7a7aEden\u533a\u548cSurvivor A\u533a // \u53c8\u5206\u914d\u4e86\u4e00\u4e2a\u53c8\u4e00\u4e2a\u5bf9\u8c61 \u653e\u5230Eden\u533a // \u4e0d\u597d\uff0cEden\u533a\u53c8\u6ee1\u4e86\uff0c\u53ea\u80fdGC(\u65b0\u751f\u4ee3GC\uff1aMinor GC)\u4e86 \u628aEden\u533a\u548cSurvivor B\u533a\u7684\u5b58\u6d3b\u5bf9\u8c61copy\u5230Survivor A\u533a\uff0c\u7136\u540e\u6e05\u7a7aEden\u533a\u548cSurvivor B\u533a // ... // \u6709\u7684\u5bf9\u8c61\u6765\u56de\u5728Survivor A\u533a\u6216\u8005B\u533a\u5446\u4e86\u6bd4\u598215\u6b21\uff0c\u5c31\u88ab\u5206\u914d\u5230\u8001\u5e74\u4ee3Old\u533a // \u6709\u7684\u5bf9\u8c61\u592a\u5927\uff0c\u8d85\u8fc7\u4e86Eden\u533a\uff0c\u76f4\u63a5\u88ab\u5206\u914d\u5728Old\u533a // \u6709\u7684\u5b58\u6d3b\u5bf9\u8c61\uff0c\u653e\u4e0d\u4e0bSurvivor\u533a\uff0c\u4e5f\u88ab\u5206\u914d\u5230Old\u533a // ... // \u5728\u67d0\u6b21Minor GC\u7684\u8fc7\u7a0b\u4e2d\u7a81\u7136\u53d1\u73b0\uff1a // \u4e0d\u597d\uff0c\u8001\u5e74\u4ee3Old\u533a\u4e5f\u6ee1\u4e86\uff0c\u8fd9\u662f\u4e00\u6b21\u5927GC(\u8001\u5e74\u4ee3GC\uff1aMajor GC) Old\u533a\u6162\u6162\u7684\u6574\u7406\u4e00\u756a\uff0c\u7a7a\u95f4\u53c8\u591f\u4e86 // \u7ee7\u7eedMinor GC // ... // ...","title":"\u51e0\u79cd\u5783\u573e\u56de\u6536\u7b97\u6cd5"},{"location":"garbage/#gc","text":"GC_FOR_MALLOC: \u8868\u793a\u662f\u5728\u5806\u4e0a\u5206\u914d\u5bf9\u8c61\u65f6\u5185\u5b58\u4e0d\u8db3\u89e6\u53d1\u7684GC\u3002 GC_CONCURRENT: \u5f53\u6211\u4eec\u5e94\u7528\u7a0b\u5e8f\u7684\u5806\u5185\u5b58\u8fbe\u5230\u4e00\u5b9a\u91cf\uff0c\u6216\u8005\u53ef\u4ee5\u7406\u89e3\u4e3a\u5feb\u8981\u6ee1\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u89e6\u53d1GC\u64cd\u4f5c\u6765\u91ca\u653e\u5185\u5b58\u3002 GC_EXPLICIT: \u8868\u793a\u662f\u5e94\u7528\u7a0b\u5e8f\u8c03\u7528System.gc\u3001VMRuntime.gc\u63a5\u53e3\u6216\u8005\u6536\u5230SIGUSR1\u4fe1\u53f7\u65f6\u89e6\u53d1\u7684GC\u3002 GC_BEFORE_OOM: \u8868\u793a\u662f\u5728\u51c6\u5907\u629bOOM\u5f02\u5e38\u4e4b\u524d\u8fdb\u884c\u7684\u6700\u540e\u52aa\u529b\u800c\u89e6\u53d1\u7684GC\u3002","title":"\u901a\u8fc7\u65e5\u5fd7\u5206\u6790GC\u7c7b\u578b"},{"location":"git_client_steps/","text":"Android\u7aef\u5f00\u53d1\u7248\u672c\u7ba1\u7406\u6d41\u7a0b \u9879\u76ee\u6240\u6709\u5206\u652f\u89e3\u91ca\uff1a \u672c\u5730\u5206\u652f\uff1a\u672c\u5730\u5f00\u53d1\u7684\u5206\u652f\uff0c\u62c9\u53d6\u7684\u7ebf\u4e0adev\u5206\u652for\u5b9a\u5236\u5206\u652f dev\u5206\u652f\uff1a\u4e3b\u5e72\u9700\u6c42\u5f00\u53d1\u5206\u652f\uff0cdev\u4e0emaster\u662f\u540c\u6b65\u7684 \u5b9a\u5236\u5206\u652f\uff1a\u5b9a\u5236\u5ba2\u6237\u7684\u9700\u6c42\u5f00\u53d1\u5206\u652f\uff0c\u6bcf\u4e00\u6b21\u5b9a\u5236\u90fd\u662f\u4ecemaster\u5206\u652f\u4e0a\u62c9\u7684\u6700\u65b0\u5df2\u53d1\u5e03\u4e0a\u7ebf\u7684tag\u4ee3\u7801 \u5b9a\u5236\u9879\u76ee\uff1a\u4ece\u6807\u51c6\u9879\u76ee\u4e0a\u62bd\u51fa\u6765\u7684\u7279\u5b9a\u9879\u76ee\uff0c\u5982\uff1amini\u516c\u5171\u5e93\u662f\u4ece\u6807\u51c6\u516c\u5171\u5e93\u62bd\u51fa\u6765\u7684\uff0c\u79d2\u9a8c\u65e0ui\u7248\u672c\u662f\u4ece\u6807\u51c6\u7248\u672c\u4e2d\u62bd\u51fa\u6765\u7684\u7b49 \u6ce8\u610f1\uff1a\u4e0d\u8bba\u662f\u201c\u6807\u51c6\u9879\u76ee\u201d\u8fd8\u662f\u201c\u5b9a\u5236\u9879\u76ee\u201d\uff0c\u90fd\u5fc5\u987b\u5305\u542b\uff1adev\u3001master\u5206\u652f\uff0c\u5982\u6709\u5b9a\u5236\u9700\u6c42\uff0c\u53ef\u62c9\u5b9a\u5236\u5206\u652f \u6ce8\u610f2\uff1a\u5982\u679c\u5982\u679cmaster\u5206\u652f\u662f\u8d85\u8fc7dev\u5206\u652f\u7684\uff0c\u62c9\u53d6mater\u5206\u652f\u540e\u662f\u63d0\u4ea4\u4e0d\u5230dev\u5206\u652f\uff08\u62a5\u9519\uff09\uff0c\u53ef\u4ee5\u8fdc\u7aef\u5c06mater\u5206\u652f\u4ee3\u7801\u5408\u5e76\u5230dev\u5206\u652f\uff0c\u7136\u540e\u672c\u5730\u518d\u5207\u51fadev\u5206\u652f\uff0c\u7136\u540e\u63d0\u4ea4\u5230\u8fdc\u7aefdev\u3002 \u5ba2\u6237\u7aef\u5f00\u53d1\u7248\u672c\u7ba1\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a \u6ce8\u610f\uff1a\u9488\u5bf9\u201c\u4e3b\u5e72\u9700\u6c42\u5f00\u53d1\u201d\u548c\u201c\u5b9a\u5236\u9700\u6c42\u5f00\u53d1\u201d\u6709\u4e0d\u540c\u7684\u6d41\u7a0b ![image](","title":"Android\u7aefgit\u7248\u672c\u7ba1\u7406"},{"location":"git_client_steps/#android","text":"\u9879\u76ee\u6240\u6709\u5206\u652f\u89e3\u91ca\uff1a \u672c\u5730\u5206\u652f\uff1a\u672c\u5730\u5f00\u53d1\u7684\u5206\u652f\uff0c\u62c9\u53d6\u7684\u7ebf\u4e0adev\u5206\u652for\u5b9a\u5236\u5206\u652f dev\u5206\u652f\uff1a\u4e3b\u5e72\u9700\u6c42\u5f00\u53d1\u5206\u652f\uff0cdev\u4e0emaster\u662f\u540c\u6b65\u7684 \u5b9a\u5236\u5206\u652f\uff1a\u5b9a\u5236\u5ba2\u6237\u7684\u9700\u6c42\u5f00\u53d1\u5206\u652f\uff0c\u6bcf\u4e00\u6b21\u5b9a\u5236\u90fd\u662f\u4ecemaster\u5206\u652f\u4e0a\u62c9\u7684\u6700\u65b0\u5df2\u53d1\u5e03\u4e0a\u7ebf\u7684tag\u4ee3\u7801 \u5b9a\u5236\u9879\u76ee\uff1a\u4ece\u6807\u51c6\u9879\u76ee\u4e0a\u62bd\u51fa\u6765\u7684\u7279\u5b9a\u9879\u76ee\uff0c\u5982\uff1amini\u516c\u5171\u5e93\u662f\u4ece\u6807\u51c6\u516c\u5171\u5e93\u62bd\u51fa\u6765\u7684\uff0c\u79d2\u9a8c\u65e0ui\u7248\u672c\u662f\u4ece\u6807\u51c6\u7248\u672c\u4e2d\u62bd\u51fa\u6765\u7684\u7b49 \u6ce8\u610f1\uff1a\u4e0d\u8bba\u662f\u201c\u6807\u51c6\u9879\u76ee\u201d\u8fd8\u662f\u201c\u5b9a\u5236\u9879\u76ee\u201d\uff0c\u90fd\u5fc5\u987b\u5305\u542b\uff1adev\u3001master\u5206\u652f\uff0c\u5982\u6709\u5b9a\u5236\u9700\u6c42\uff0c\u53ef\u62c9\u5b9a\u5236\u5206\u652f \u6ce8\u610f2\uff1a\u5982\u679c\u5982\u679cmaster\u5206\u652f\u662f\u8d85\u8fc7dev\u5206\u652f\u7684\uff0c\u62c9\u53d6mater\u5206\u652f\u540e\u662f\u63d0\u4ea4\u4e0d\u5230dev\u5206\u652f\uff08\u62a5\u9519\uff09\uff0c\u53ef\u4ee5\u8fdc\u7aef\u5c06mater\u5206\u652f\u4ee3\u7801\u5408\u5e76\u5230dev\u5206\u652f\uff0c\u7136\u540e\u672c\u5730\u518d\u5207\u51fadev\u5206\u652f\uff0c\u7136\u540e\u63d0\u4ea4\u5230\u8fdc\u7aefdev\u3002","title":"Android\u7aef\u5f00\u53d1\u7248\u672c\u7ba1\u7406\u6d41\u7a0b"},{"location":"git_client_steps/#_1","text":"\u6ce8\u610f\uff1a\u9488\u5bf9\u201c\u4e3b\u5e72\u9700\u6c42\u5f00\u53d1\u201d\u548c\u201c\u5b9a\u5236\u9700\u6c42\u5f00\u53d1\u201d\u6709\u4e0d\u540c\u7684\u6d41\u7a0b ![image](","title":"\u5ba2\u6237\u7aef\u5f00\u53d1\u7248\u672c\u7ba1\u7406\u6d41\u7a0b\u5982\u4e0b\uff1a"},{"location":"git_commit_log/","text":"\u76ee\u7684 \u53ef\u4ee5\u5feb\u901f\u4e86\u89e3\u6bcf\u4e2acommit\u7684\u76ee\u7684\uff0c\u4e5f\u80fd\u65b9\u4fbf\u67e5\u627e\u60f3\u8981\u7684\u4fe1\u606f \u4ee3\u7801bug\u94fe\u63a5\u80fd\u8ba9\u80fdCode Reviewer\u548c\u540e\u9762\u7684\u4eba\u770b\u61c2\u4ee3\u7801\u4fee\u6539 \u6807\u51c6\u5316log\u6709\u5229\u4e8e\u9879\u76ee\u4ea4\u63a5\uff0c\u540c\u65f6\u4e5f\u65b9\u4fbf\u65b0\u4eba\u4e86\u89e3\u9879\u76ee\u5386\u53f2 \u53ef\u4ee5\u901a\u8fc7log\u81ea\u52a8\u751f\u6210change log \u89c4\u5219 <type>(<scope>): <version>: <subject> <BLANK LINE> <body> <BLANK LINE> <extend> 1. type\u5b9a\u4e49 type\u4ee3\u8868\u4e86\u6b64\u6b21\u63d0\u4ea4\u7684\u76ee\u7684\uff0c\u6839\u636e\u76ee\u7684\u7684\u4e0d\u540c\u53ef\u4ee5\u8be6\u7ec6\u7684\u533a\u5206\uff1a feat\uff1a\u65b0\u529f\u80fd fix\uff1a\u4fee\u590dbug docs: \u4ec5\u4ec5\u4fee\u6539\u4e86\u6587\u6863\uff0c\u5982 README\u7b49 style: \u4ee3\u7801\u683c\u5f0f\u7684\u4fee\u6539\uff0c\u4e0d\u5f71\u54cd\u4ee3\u7801\u7684\u529f\u80fd refactor: \u4ee3\u7801\u91cd\u6784\uff0c\u6ca1\u6709\u52a0\u65b0\u529f\u80fd\u6216\u8005\u4fee\u590dbug perf: \u6027\u80fd\u4f18\u5316\u65b9\u9762\u7684\u6539\u52a8\uff0c\u53ef\u4ee5\u7b49\u540c\u4e8erefactor test: \u5bf9\u6d4b\u8bd5\u7528\u4f8b\u6a21\u5757\u7684\u6539\u52a8\uff0c\u5305\u62ec\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u7b49 chore: \u6539\u53d8\u6784\u5efa\u6d41\u7a0b\u3001\u6216\u8005\u589e\u52a0\u4f9d\u8d56\u5e93\u3001\u5de5\u5177\u7b49 revert: \u56de\u6eda\u7248\u672c 2. scope\u5b9a\u4e49 \u53ef\u9009\u90e8\u5206\uff0c\u7528\u4e8e\u8bf4\u660e commit \u5f71\u54cd\u7684\u8303\u56f4\u3002\u5982\u53ea\u5f71\u54cdpush socketservice\u6216adpush\u3002\u5c3d\u91cf\u80fd\u786e\u5b9ascope\u8303\u56f4\u5c31\u5c3d\u91cf\u586b\u4e0a\uff0c\u5e76\u4e14\u8d8a\u5c0f\u8d8a\u597d\u3002 3. version\u5b9a\u4e49 \u5c31\u662f\u8fd9\u4e2acommit\u662f\u5728\u54ea\u4e2a\u7248\u672c\u4e0b\u8fdb\u884c\u7684\u4fee\u6539\u3002\u59821.3.1\u3002 4. subject\u5b9a\u4e49 \u662f\u672c\u6b21commit\u76ee\u7684\u7684\u7b80\u77ed\u63cf\u8ff0\u3002\u5728\u80fd\u63cf\u8ff0\u6e05\u695a\u6b64\u6b21\u63d0\u4ea4\u76ee\u7684\u7684\u524d\u63d0\u4e0b\u7528\u5c3d\u53ef\u80fd\u5c11\u7684\u6587\u5b57\uff0c\u6700\u597d\u4e0d\u8981\u8d85\u8fc730\u4e2a\u6c49\u5b57\u3002 5. body\u5b9a\u4e49 \u53ef\u9009\u90e8\u5206\uff0c\u5bf9\u672c\u5730\u63d0\u4ea4\u66f4\u8be6\u7ec6\u7684\u63cf\u8ff0\u3002 6. extend\u5b9a\u4e49 \u53ef\u9009\u90e8\u5206\u3002\u5bf9\u4e8efix\u7b49\u6709jira\u7684\u5355\u5b50\u7684\uff0c\u53ef\u4ee5\u5c06\u5355\u5b50\u7684\u94fe\u63a5\u8d34\u5728\u8fd9\u91cc\u3002 \u4f8b\u5b50\uff1a feat\u4f8b\u5b50 feat($browser): onUrlChange event (popstate/hashchange/polling) Added new event to $browser: - forward popstate event if available - forward hashchange event if popstate not available - do polling when neither popstate nor hashchange available Feature #392 fix\u7684\u4f8b\u5b50 fix(adpush): 1.3.1: couple of unit tests for IE9 Older IEs serialize html uppercased, but IE9 does not... Would be better to expect case insensitive, unfortunately jasmine does not allow to user regexps for throw expectations. Fixed #392 doc\u7684\u4f8b\u5b50 docs(guide): 1.3.1: updated fixed docs from Google Docs Couple of typos fixed: - indentation - batchLogbatchLog -> batchLog - start periodic checking - missing brace \u751f\u6210changelog \u811a\u672c\u6b65\u9aa4\uff1a npm install -g conventional-changelog-cli cd ${project} conventional-changelog -p angular -i CHANGELOG.md -w -r 0 > CHANGELOG.md","title":"commit log"},{"location":"git_commit_log/#_1","text":"\u53ef\u4ee5\u5feb\u901f\u4e86\u89e3\u6bcf\u4e2acommit\u7684\u76ee\u7684\uff0c\u4e5f\u80fd\u65b9\u4fbf\u67e5\u627e\u60f3\u8981\u7684\u4fe1\u606f \u4ee3\u7801bug\u94fe\u63a5\u80fd\u8ba9\u80fdCode Reviewer\u548c\u540e\u9762\u7684\u4eba\u770b\u61c2\u4ee3\u7801\u4fee\u6539 \u6807\u51c6\u5316log\u6709\u5229\u4e8e\u9879\u76ee\u4ea4\u63a5\uff0c\u540c\u65f6\u4e5f\u65b9\u4fbf\u65b0\u4eba\u4e86\u89e3\u9879\u76ee\u5386\u53f2 \u53ef\u4ee5\u901a\u8fc7log\u81ea\u52a8\u751f\u6210change log","title":"\u76ee\u7684"},{"location":"git_commit_log/#_2","text":"<type>(<scope>): <version>: <subject> <BLANK LINE> <body> <BLANK LINE> <extend> 1. type\u5b9a\u4e49 type\u4ee3\u8868\u4e86\u6b64\u6b21\u63d0\u4ea4\u7684\u76ee\u7684\uff0c\u6839\u636e\u76ee\u7684\u7684\u4e0d\u540c\u53ef\u4ee5\u8be6\u7ec6\u7684\u533a\u5206\uff1a feat\uff1a\u65b0\u529f\u80fd fix\uff1a\u4fee\u590dbug docs: \u4ec5\u4ec5\u4fee\u6539\u4e86\u6587\u6863\uff0c\u5982 README\u7b49 style: \u4ee3\u7801\u683c\u5f0f\u7684\u4fee\u6539\uff0c\u4e0d\u5f71\u54cd\u4ee3\u7801\u7684\u529f\u80fd refactor: \u4ee3\u7801\u91cd\u6784\uff0c\u6ca1\u6709\u52a0\u65b0\u529f\u80fd\u6216\u8005\u4fee\u590dbug perf: \u6027\u80fd\u4f18\u5316\u65b9\u9762\u7684\u6539\u52a8\uff0c\u53ef\u4ee5\u7b49\u540c\u4e8erefactor test: \u5bf9\u6d4b\u8bd5\u7528\u4f8b\u6a21\u5757\u7684\u6539\u52a8\uff0c\u5305\u62ec\u5355\u5143\u6d4b\u8bd5\u3001\u96c6\u6210\u6d4b\u8bd5\u7b49 chore: \u6539\u53d8\u6784\u5efa\u6d41\u7a0b\u3001\u6216\u8005\u589e\u52a0\u4f9d\u8d56\u5e93\u3001\u5de5\u5177\u7b49 revert: \u56de\u6eda\u7248\u672c 2. scope\u5b9a\u4e49 \u53ef\u9009\u90e8\u5206\uff0c\u7528\u4e8e\u8bf4\u660e commit \u5f71\u54cd\u7684\u8303\u56f4\u3002\u5982\u53ea\u5f71\u54cdpush socketservice\u6216adpush\u3002\u5c3d\u91cf\u80fd\u786e\u5b9ascope\u8303\u56f4\u5c31\u5c3d\u91cf\u586b\u4e0a\uff0c\u5e76\u4e14\u8d8a\u5c0f\u8d8a\u597d\u3002 3. version\u5b9a\u4e49 \u5c31\u662f\u8fd9\u4e2acommit\u662f\u5728\u54ea\u4e2a\u7248\u672c\u4e0b\u8fdb\u884c\u7684\u4fee\u6539\u3002\u59821.3.1\u3002 4. subject\u5b9a\u4e49 \u662f\u672c\u6b21commit\u76ee\u7684\u7684\u7b80\u77ed\u63cf\u8ff0\u3002\u5728\u80fd\u63cf\u8ff0\u6e05\u695a\u6b64\u6b21\u63d0\u4ea4\u76ee\u7684\u7684\u524d\u63d0\u4e0b\u7528\u5c3d\u53ef\u80fd\u5c11\u7684\u6587\u5b57\uff0c\u6700\u597d\u4e0d\u8981\u8d85\u8fc730\u4e2a\u6c49\u5b57\u3002 5. body\u5b9a\u4e49 \u53ef\u9009\u90e8\u5206\uff0c\u5bf9\u672c\u5730\u63d0\u4ea4\u66f4\u8be6\u7ec6\u7684\u63cf\u8ff0\u3002 6. extend\u5b9a\u4e49 \u53ef\u9009\u90e8\u5206\u3002\u5bf9\u4e8efix\u7b49\u6709jira\u7684\u5355\u5b50\u7684\uff0c\u53ef\u4ee5\u5c06\u5355\u5b50\u7684\u94fe\u63a5\u8d34\u5728\u8fd9\u91cc\u3002 \u4f8b\u5b50\uff1a feat\u4f8b\u5b50 feat($browser): onUrlChange event (popstate/hashchange/polling) Added new event to $browser: - forward popstate event if available - forward hashchange event if popstate not available - do polling when neither popstate nor hashchange available Feature #392 fix\u7684\u4f8b\u5b50 fix(adpush): 1.3.1: couple of unit tests for IE9 Older IEs serialize html uppercased, but IE9 does not... Would be better to expect case insensitive, unfortunately jasmine does not allow to user regexps for throw expectations. Fixed #392 doc\u7684\u4f8b\u5b50 docs(guide): 1.3.1: updated fixed docs from Google Docs Couple of typos fixed: - indentation - batchLogbatchLog -> batchLog - start periodic checking - missing brace","title":"\u89c4\u5219"},{"location":"git_commit_log/#changelog","text":"\u811a\u672c\u6b65\u9aa4\uff1a npm install -g conventional-changelog-cli cd ${project} conventional-changelog -p angular -i CHANGELOG.md -w -r 0 > CHANGELOG.md","title":"\u751f\u6210changelog"},{"location":"git_scenes/","text":"\u6d4b\u8bd5\u5728gitignore\u6dfb\u52a0\u524d\u5c31\u63d0\u4ea4\u7684\u9879\u76ee\u65e0\u6cd5\u518d\u8fc7\u6ee4\u7684\u95ee\u9898 1.\u9996\u5148\u4e3a\u907f\u514d\u51b2\u7a81\u9700\u8981\u5148\u540c\u6b65\u4e0b\u8fdc\u7a0b\u4ed3\u5e93\uff0cstatus\u4e3a\u672aadd\u7684\u7ea2\u8272\u4e5f\u4e0d\u8981\u7d27 git pull 2.\u518d\u672c\u5730\u9879\u76ee\u76ee\u5f55\u4e0b\u5220\u9664\u7f13\u5b58,\u53ea\u662f\u6e05\u695a\u7f13\u5b58\u4e0d\u7528\u62c5\u5fc3 git rm -r --cached . 3.\u65b0\u5efa.gitignore\u6587\u4ef6\u653e\u5230.git\u76f8\u540c\u76ee\u5f55\u4e2d\uff0c\u8be5\u6b65\u9aa4\u653e\u57281\\2\u6b65\u9aa4\u524d\u4e5f\u6ca1\u4e8b\uff0c\u5728add\u524d\u5e94\u8be5\u90fd\u884c 4.\u518d\u6b21add\u6240\u6709\u6587\u4ef6 git add . 5.\u518d\u6b21\u6dfb\u52a0commit git commit -m 'add ignore' 6.\u6700\u540e\u63d0\u4ea4\u5230\u8fdc\u7a0b\u7684\u4ed3\u5e93\u5373\u53ef git push origin master 7.\u7ebf\u4e0a\u53ef\u770b\u5230\u5728\u6dfb\u52a0.gitignore\u4e4b\u524d\u4f46\u662f\u5728ignore\u4e2d\u7684\u6587\u4ef6\u4e5f\u4f1a\u4e0d\u89c1\u4e86","title":"\u5e38\u89c1\u573a\u666f\u64cd\u4f5c"},{"location":"git_scenes/#gitignore","text":"1.\u9996\u5148\u4e3a\u907f\u514d\u51b2\u7a81\u9700\u8981\u5148\u540c\u6b65\u4e0b\u8fdc\u7a0b\u4ed3\u5e93\uff0cstatus\u4e3a\u672aadd\u7684\u7ea2\u8272\u4e5f\u4e0d\u8981\u7d27 git pull 2.\u518d\u672c\u5730\u9879\u76ee\u76ee\u5f55\u4e0b\u5220\u9664\u7f13\u5b58,\u53ea\u662f\u6e05\u695a\u7f13\u5b58\u4e0d\u7528\u62c5\u5fc3 git rm -r --cached . 3.\u65b0\u5efa.gitignore\u6587\u4ef6\u653e\u5230.git\u76f8\u540c\u76ee\u5f55\u4e2d\uff0c\u8be5\u6b65\u9aa4\u653e\u57281\\2\u6b65\u9aa4\u524d\u4e5f\u6ca1\u4e8b\uff0c\u5728add\u524d\u5e94\u8be5\u90fd\u884c 4.\u518d\u6b21add\u6240\u6709\u6587\u4ef6 git add . 5.\u518d\u6b21\u6dfb\u52a0commit git commit -m 'add ignore' 6.\u6700\u540e\u63d0\u4ea4\u5230\u8fdc\u7a0b\u7684\u4ed3\u5e93\u5373\u53ef git push origin master 7.\u7ebf\u4e0a\u53ef\u770b\u5230\u5728\u6dfb\u52a0.gitignore\u4e4b\u524d\u4f46\u662f\u5728ignore\u4e2d\u7684\u6587\u4ef6\u4e5f\u4f1a\u4e0d\u89c1\u4e86","title":"\u6d4b\u8bd5\u5728gitignore\u6dfb\u52a0\u524d\u5c31\u63d0\u4ea4\u7684\u9879\u76ee\u65e0\u6cd5\u518d\u8fc7\u6ee4\u7684\u95ee\u9898"},{"location":"handler/","text":"handler\u539f\u7406","title":"Handler\u539f\u7406"},{"location":"handler/#handler","text":"","title":"handler\u539f\u7406"},{"location":"howflutterenvironment/","text":"flutter\u5f00\u53d1\u73af\u5883\u914d\u7f6e \u8d77\u6b65 \u4e0b\u8f7dflutter sdk \u4e0b\u8f7d \u89e3\u538b\u4e0b\u8f7d\u5230\u7684\u538b\u7f29\u5305\uff0c\u4e0d\u8981\u89e3\u538b\u5230\u66f4\u9ad8\u6743\u9650\u7684PrograFile\u76ee\u5f55\u4e0b \u5b89\u5353flutter,\u8fdb\u5165flutter\u6839\u76ee\u5f55\uff0c\u53cc\u51fb flutter_console.bat,\u7b49\u5e26flutter\u5b89\u88c5\u5b8c\u6210\u3002 \u914d\u7f6e\u73af\u5883\u53d8\u91cf \u5728\u7cfb\u7edf\u53d8\u91cf\u4e2d\uff0c\u70b9\u51fbpath\u7136\u540e\u70b9\u51fb\u65b0\u5efa C:\\src\\flutter\\flutter_windows_2.0.4-stable\\flutter\\bin \u5dee\u4e0d\u591a\u8fd9\u4e2a\u8def\u5f84\u6dfb\u52a0\u8fdb\u53bb \u91cd\u542fwindows,\u7136\u540e\u5728dos\u547d\u4ee4\u884c\u7a97\u53e3\u8f93\u5165\uff0c flutter doctor \u90fd\u6ca1\u6709\u62a5\u9519\u7684\u8bdd\u8bf4\u660e\u5b89\u88c5\u6210\u529f \u4f7f\u7528android studio\u5f00\u53d1\u9700\u8981\u5b89\u88c5\u4e24\u4e2a\u63d2\u4ef6 1.\u542f\u52a8Android Studio. 2.\u6253\u5f00 File-setting-Plugins 3.\u5206\u522b\u641c\u7d22Dart\u548cFlutter\u63d2\u4ef6\u5e76\u5b89\u88c5\uff0c 4.\u91cd\u542fAndroid Studio\u540e\u63d2\u4ef6\u751f\u6548.","title":"\u5982\u4f55\u914d\u7f6eflutter\u73af\u5883"},{"location":"howflutterenvironment/#flutter","text":"\u8d77\u6b65 \u4e0b\u8f7dflutter sdk \u4e0b\u8f7d \u89e3\u538b\u4e0b\u8f7d\u5230\u7684\u538b\u7f29\u5305\uff0c\u4e0d\u8981\u89e3\u538b\u5230\u66f4\u9ad8\u6743\u9650\u7684PrograFile\u76ee\u5f55\u4e0b \u5b89\u5353flutter,\u8fdb\u5165flutter\u6839\u76ee\u5f55\uff0c\u53cc\u51fb flutter_console.bat,\u7b49\u5e26flutter\u5b89\u88c5\u5b8c\u6210\u3002 \u914d\u7f6e\u73af\u5883\u53d8\u91cf \u5728\u7cfb\u7edf\u53d8\u91cf\u4e2d\uff0c\u70b9\u51fbpath\u7136\u540e\u70b9\u51fb\u65b0\u5efa C:\\src\\flutter\\flutter_windows_2.0.4-stable\\flutter\\bin \u5dee\u4e0d\u591a\u8fd9\u4e2a\u8def\u5f84\u6dfb\u52a0\u8fdb\u53bb \u91cd\u542fwindows,\u7136\u540e\u5728dos\u547d\u4ee4\u884c\u7a97\u53e3\u8f93\u5165\uff0c flutter doctor \u90fd\u6ca1\u6709\u62a5\u9519\u7684\u8bdd\u8bf4\u660e\u5b89\u88c5\u6210\u529f \u4f7f\u7528android studio\u5f00\u53d1\u9700\u8981\u5b89\u88c5\u4e24\u4e2a\u63d2\u4ef6 1.\u542f\u52a8Android Studio. 2.\u6253\u5f00 File-setting-Plugins 3.\u5206\u522b\u641c\u7d22Dart\u548cFlutter\u63d2\u4ef6\u5e76\u5b89\u88c5\uff0c 4.\u91cd\u542fAndroid Studio\u540e\u63d2\u4ef6\u751f\u6548.","title":"flutter\u5f00\u53d1\u73af\u5883\u914d\u7f6e"},{"location":"ipc/","text":"luis test","title":"\u8fdb\u7a0b\u95f4\u901a\u4fe1sdk"},{"location":"knowledge/","text":"","title":"Knowledge"},{"location":"kotuis/","text":"introduce why kotlin? concise safe interoperable","title":"Kotuis"},{"location":"kotuis/#introduce","text":"why kotlin? concise safe interoperable","title":"introduce"},{"location":"sdk/","text":"\u5b9a\u4e49 \u63a5\u53e3\u8bbe\u8ba1 \u51fa\u5165\u53c2\u8bbe\u8ba1 \u8c03\u7528\u5c01\u88c5\u8bbe\u8ba1 \u6570\u636e\u8fd4\u56de\u8bbe\u8ba1 \u53d1\u9001\u6570\u636e \u63a5\u6536\u6570\u636e \u53c2\u6570\u8fc7\u6ee4\u8bbe\u8ba1 \u4ea4\u4e92\u6d41\u7a0b\u8bbe\u8ba1 \u5f02\u5e38\u5904\u7406 \u521d\u59cb\u5316 \u4e2a\u6027\u5316\u914d\u7f6e SDK\u5b89\u5168\u4e0e\u6821\u9a8c SDK\u6253\u5305\u65b9\u6cd5 library module\u4e0b\u7684build.gradle\u6a21\u677f\u914d\u7f6e\uff1a \u4f9d\u8d56\u539f\u5219\uff0c\u5c3d\u91cf\u907f\u514d\u7b2c\u4e09\u65b9\u5e93\u7684\u4f9d\u8d56 \u5982\u4f55\u89e3\u51b3\u7ec4\u4ef6\u4f9d\u8d56\u51b2\u7a81\uff1a \u81ea\u5b9a\u4e49aar\u540d\u79f0 \u5b9a\u4e49 jar so aar \u4e00\u4e9b\u65b9\u6cd5\u548c\u903b\u8f91\u5408\u96c6\uff0c\u5bf9\u8d44\u6e90api\u5c01\u88c5\u540e\u7684\u4ea7\u7269\u3002 \u63a5\u53e3\u8bbe\u8ba1 \u5982\u65e0\u5fc5\u8981\u52ff\u589e\u5b9e\u4f53\uff0c\u5982\u65e0\u5fc5\u8981\u52ff\u589e\u4f9d\u8d56 1. sdk\u63a5\u6536\u4ec0\u4e48\uff1f\u8f93\u51fa\u4ec0\u4e48\uff1f\u660e\u786e\u804c\u8d23 \u51fa\u5165\u53c2\u8bbe\u8ba1 map String \u5b9e\u4f53\u7c7b 1. \u81ea\u5b9a\u4e49\u5b9e\u4f53\u7c7b\u4f5c\u4e3a\u51fa\u5165\u53c2\u5728activity\u95f4\u4f20\u8f93\uff0c\u65e0\u6cd5\u76f4\u63a5\u4f20\u64ad\u5b9e\u4f53\uff0c\u9700\u8981\u7ecf\u8fc7\u5e8f\u5217\u5316\u3002 * \u5b9e\u73b0serializable\u63a5\u53e3\u901a\u8fc7bundle\u4f20\u8f93 * \u5b9e\u73b0parcelabel\u63a5\u53e3\uff0c\u901a\u8fc7budle\u4f20\u8f93 2. intent\u4e2d\u7684bundle\u662f\u901a\u8fc7Binder\u673a\u5236\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u6709\u5927\u5c0f\u9650\u5236\uff0c\u5efa\u8bae\u6700\u5927\u4e0d\u8d85\u8fc7500k\u8d8a\u5c0f\u8d8a\u597d\uff0c\u907f\u514d\u4f20\u8f93\u56fe\u7247 \u8c03\u7528\u5c01\u88c5\u8bbe\u8ba1 \u5982\u679capp\u9700\u8981\u901a\u8fc7sdk\u7684\u5165\u53e3activity\u8fdb\u884c\u8c03\u7528\u4e0e\u4e1a\u52a1\u5f00\u53d1\uff0c\u5982\u4f55\u505a\u4e00\u4e2a\u4f18\u96c5\u7684\u8c03\u7528\u5c01\u88c5\u3002 \u5c01\u88c5\u524d\u7684\u8c03\u7528\uff1a //\u7e41\u7410\u7684\u8c03\u7528\u4ee3\u7801 Bundle bundle = new Bundle(); //\u8fd9\u91cc\u8981\u66b4\u9732\u6216\u8005\u7ea6\u5b9a\u4e00\u4e2a\u9759\u6001KEY bundle.putParcelable(KEY_REQ, request); Intent intent = new Intent(context, EntryActivity.class); //\u5c4f\u853d\u8f6c\u573a\u52a8\u753b\uff0c\u8ba9\u753b\u9762\u8df3\u8f6c\u66f4\u548c\u8c10 intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION); intent.putExtras(bundle); context.startActivity(intent); \u5c01\u88c5\u540e\u7684\u8c03\u7528\uff1a //\u7b80\u6d01\u7684\u8c03\u7528\u4ee3\u7801 MySDK.launchSdk(context,req); //\u5c06\u590d\u6742\u903b\u8f91\u6216\u7ec6\u8282\u5185\u7f6e\u4e8eSDK\u4e2d\uff0c\u5bf9\u5916\u63d0\u4f9b\u5c01\u88c5\u597d\u7684\u9759\u6001\u65b9\u6cd5\u5373\u53ef public static void launchSdk(Context context, ReqContent request) { Bundle bundle = new Bundle(); bundle.putParcelable(KEY_REQ, request); Intent intent = new Intent(context, EntryActivity.class); //\u5c4f\u853d\u8f6c\u573a\u52a8\u753b\uff0c\u8ba9\u753b\u9762\u8df3\u8f6c\u66f4\u548c\u8c10 intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION); intent.putExtras(bundle); context.startActivity(intent); } \u6570\u636e\u8fd4\u56de\u8bbe\u8ba1 \u8c03\u7528\u5373\u54cd\u5e94\uff0c\u4e0d\u53ef\u65e0\u54cd\u5e94\u65e0\u56de\u8c03 \u80cc\u666f\uff1a 1. \u9700\u8981\u5728app\u4e0esdk\u7684activity\u95f4\u8fdb\u884c\u6570\u636e\u4f20\u8f93 2. \u8c03\u7528sdk\u540e\uff0c\u9700\u8981\u6267\u884c\u4e00\u6bb5\u5f02\u6b65\u903b\u8f91\uff0c\u7ed3\u675f\u540e\u9700\u8981\u53ca\u65f6\u5173\u95ed 3. \u9700\u8981\u5728\u903b\u8f91\u4ee3\u7801\u5904\u7406\u8fc7\u7a0b\u4e2d\u968f\u65f6\u968f\u5730\u7684\u6784\u9020\u8fd4\u56de\u53c2\u6570\u5e76\u8fd4\u56de\u3002 4. sdk\u76ee\u6807\u7528\u6237\uff0c\u5404\u7c7b\u7b2c\u4e09\u65b9app\uff0c\u9700\u8981\u901a\u7528\u7684\u4ea4\u4e92\u673a\u5236\uff0c\u907f\u514d\u5f15\u8d77\u517c\u5bb9\u95ee\u9898\u3002 \u65b9\u6848\uff1a startActivityForResult()?\u7406\u8bba\u53ef\u884c\uff0c\u4f46\u4e0d\u591f\u7075\u6d3b\uff0c\u5f03\u3002 \u91c7\u7528EventBus ? \u907f\u514d\u5f15\u5165\u975e\u5fc5\u987b\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u6682\u65f6\u653e\u5f03\u3002 \u91c7\u7528BroadcastReceiver\uff1fAndroid \u5185\u7f6e\u7684\u56db\u5927\u7ec4\u4ef6\u4e4b\u4e00\uff0c\u4e3a\u7ec4\u4ef6\u95f4\u4ea4\u4e92\u800c\u751f\u3002\u800c\u4e14\u7075\u6d3b\u65b9\u4fbf\uff0c\u4e0e\u5165\u53c2\u65b9\u6cd5\u547c\u5e94\uff0c\u53ef\u4ee5\u4eceIntent\u4e2d\u4f20\u8f93\u6570\u636e\u3002 \u91c7\u7528\u5e94\u7528\u5185\u5e7f\u64ad\uff0c\u65e0\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff0c\u6548\u7387\u66f4\u9ad8\uff0c\u66f4\u5b89\u5168 \u53d1\u9001\u6570\u636e //SDK\u5185\u90e8\u5c01\u88c5\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u63d0\u4f9b\u7ed9SDK\u5185\u90e8\u6a21\u5757\u7edf\u4e00\u8c03\u7528 public static void sendResult(String token, int code, String message) { ResultContent result = new ResultContent(); result.setToken(token); result.setCode(code); result.setMessage(message); Bundle bundle = new Bundle(); bundle.putParcelable(KEY_RESULT, result); Intent intent = new Intent(); intent.setAction(MY_SDK_RECEIVER_ACTION); intent.putExtras(bundle); LocalBroadcastManager.getInstance(MySDK.getContext()).sendBroadcast(intent); } \u63a5\u6536\u6570\u636e //SDK\u5185\u90e8\u5c01\u88c5\u7684\u6ce8\u518c\u65b9\u6cd5\uff0c\u63d0\u4f9b\u7ed9APP\u6a21\u5757\u7edf\u4e00\u8c03\u7528 public static void registerReceiver(BroadcastReceiver receiver) { IntentFilter filter = new IntentFilter(); filter.addAction(MY_SDK_RECEIVER_ACTION); LocalBroadcastManager.getInstance(getContext()).registerReceiver(receiver, filter); } //SDK\u5185\u90e8\u5c01\u88c5\u7684\u53cd\u6ce8\u518c\u65b9\u6cd5\uff0c\u63d0\u4f9b\u7ed9APP\u6a21\u5757\u7edf\u4e00\u8c03\u7528\uff0c\u5982\u679c\u5728onCreate()\u65b9\u6cd5\u4e2d\u6ce8\u518c\uff0c\u5219\u5728onDestroy()\u65b9\u6cd5\u4e2d\u53cd\u6ce8\u518c\u3002 public static void unregisterReceiver(BroadcastReceiver receiver) { LocalBroadcastManager.getInstance(getContext()).unregisterReceiver(receiver); } //APP \u4e2d\u5b9a\u4e49\u7684\u5e7f\u64ad\u63a5\u6536\u5668\uff0c\u7528\u4e8e\u63a5\u6536\u8fd4\u56de\u53c2\u6570 public class MyReceiver extends BroadcastReceiver { @Override public void onReceive(Context context, Intent intent) { ResultContent result = MySDKHelper.getResult(intent); if (result == null) { return; } int code = result.getCode(); String message = result.getMessage(); String token = result.getToken(); String log = String.format(Locale.CHINA,\"\u8fd4\u56de\u7801: %d \u8fd4\u56de\u4fe1\u606f: %s Token: %s\", code, message, token); Log.d(TAG, log); } } \u53c2\u6570\u8fc7\u6ee4\u8bbe\u8ba1 \u5bf9\u5165\u53c2\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\uff0c\u907f\u514d\u65e0\u610f\u4e49\u7684\u540e\u7eed\u4e1a\u52a1\u6d41\u7a0b\uff0c\u53ca\u65f6\u63d0\u4f9b\u8c03\u7528\u53cd\u9988\u3002 \u975e\u7a7a\u68c0\u6d4b\uff0c\u6570\u636e\u7c7b\u578b\u68c0\u6d4b\uff0c\u6570\u636e\u683c\u5f0f\u68c0\u6d4b\uff0c\u81ea\u5b9a\u4e49\u6ce8\u89e3\u3002 public static final String PRINTER = \"PRINTER\"; public static final String HORN = \"HORN\"; public static final String SOUND = \"SOUND\"; @StringDef({PRINTER, HORN, SOUND}) public @interface DeviceType{} public void getDevice( @DeviceType String deviceType){ } \u4ea4\u4e92\u6d41\u7a0b\u8bbe\u8ba1 \u524d\u7aef\u6ca1\u6709\u7edd\u5bf9\u7684\u5b89\u5168 \u9519\u8bef\u7684\u8fd4\u56de \u9519\u8bef\u7684\u8fd4\u56de\u5e76\u4e0d\u4f1a\u5bf9\u4e1a\u52a1\u9020\u6210\u635f\u5931\uff0c\u6bd4\u5982\u652f\u4ed8\u5931\u8d25\uff0c\u76f4\u63a5\u5f53\u4f5c\u5931\u8d25\u5904\u7406\u5373\u53ef\u3002 \u6210\u529f\u7684\u8fd4\u56de \u6210\u529f\u7684\u8fd4\u56de\u6709\u65f6\u5019\u4f1a\u9020\u6210\u635f\u5931\uff0c\u6bd4\u5982\u652f\u4ed8\u540e\u53d1\u8d27\u884c\u4e3a\uff0c\u56e0\u6b64\u5fc5\u987b\u8981\u5224\u65ad\u8fd4\u56de\u7684\u53ef\u9760\u6027\u3002 \u524d\u7aef\u4ee3\u7801\uff0c\u5bb9\u6613\u88ab\u7834\u89e3\u8005\u901a\u8fc7hook\u7b49\u975e\u6b63\u5e38\u624b\u6bb5\u4f2a\u9020\u6216\u8005\u7be1\u6539\uff0c\u4e0d\u80fd\u4fe1\u4efb\u524d\u7aef\u8fd4\u56de\u7801\u3002 \u4e00\u822c\u652f\u4ed8\u7684\u4ea4\u4e92\u6d41\u7a0b\u56fe \u5f02\u5e38\u5904\u7406 \u5f02\u5e38\u6982\u5ff5\uff08throwable\u4e3aexception\u548cerror\u7236\u7c7b\uff09 \u5f02\u5e38\u7684\u5c42\u6b21 checked Exception \u5982IoException\u8981\u4e48\u7528try catch\u6355\u83b7\u8981\u4e48throw\u51fa\u53bb\uff0c\u5728\u7f16\u7801\u7684\u65f6\u5019\u4f1a\u5f3a\u63d0\u9192 unCheckException\u6240\u6709\u7ee7\u627f\u81eaerror\u6216\u8005RuntimeException\u7684\u7c7b\u5982nullPointException APP\u5f00\u53d1\u8005\u548csdk\u5f00\u53d1\u8005\u770b\u4ee3\u5f02\u5e38\u7684\u89d2\u5ea6\u3002 \u56e0\u4e3asdk\u5185\u90e8\u7684\u5f02\u5e38\u4e2d\u65ad\u4e86sdk\u5185\u90e8\u7684\u6d41\u7a0b\u800c\u4e0d\u544a\u8bc9app\u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\uff0c\u5904\u7406sdk\u5185\u90e8\u7684\u5f02\u5e38\uff0c\u539f\u5219\u5c31\u662f\u4e0d\u5e94\u8be5\u5185\u90e8\u6d88\u5316\uff0c\u800c\u5e94\u8be5\u5411\u5916\u629b\u51fa\uff0c\u4ee5\u540c\u6837\u7684\u5f02\u5e38\u5f62\u5f0f\u6216\u8005\u81ea\u5b9a\u4e49\u8fd4\u56de\u7801\u3002 Exception or Error Code? \u5728sdk\u8bbe\u8ba1\u4e2d\u65e2\u53ef\u4ee5\u901a\u8fc7\u5f02\u5e38\u544a\u77e5\u63a5\u5165\u65b9\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8fd4\u56de\u7801\u544a\u77e5\u63a5\u5165\u65b9\uff0c\u5982\u4f55\u9009\u62e9\uff1f \u573a\u666f\uff1a 1. sdk\u5165\u53c2\u4e2d\u9700\u8981app\u4f20\u5165\u624b\u673a\u53f7\uff0c\u5e76\u6821\u9a8c\u53c2\u6570\u5408\u6cd5\u6027 2. sdk\u9700\u8981\u83b7\u53d6app\u5305\u540d/appid\u8fdb\u884c\u767d\u540d\u5355\u6821\u9a8c \u81ea\u5b9a\u4e49\u5f02\u5e38\u662f\u4e00\u79cd\u6bd4\u8f83\u91cd\u7684\u544a\u77e5\u65b9\u5f0f\uff0c\u610f\u5473\u7740\u4e2d\u65ad\uff0c\u8fd4\u56de\u7801\u662f\u4e00\u79cd\u6bd4\u8f83\u8f7b\u7684\u544a\u77e5\u65b9\u5f0f\u3002 \u5728\u4e0e\u4e1a\u52a1\u6709\u5173\u7684\u903b\u8f91\u4e14\u6d89\u53ca\u7528\u6237\uff08\u975eapp\u5f00\u53d1\u8005\uff09\u53ef\u4ee5\u91cd\u8bd5\u7684\u90e8\u5206\uff0c\u5e94\u8be5\u91c7\u7528\u8fd4\u56de\u7801\uff0c\u65b9\u4fbf\u540e\u7eed\u5904\u7406\uff0c\u6bd4\u5982\u7528\u6237\u8f93\u5165\u4e86\u4e0d\u7b26\u5408\u624b\u673a\u53f7\u7801\u89c4\u5219\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u7684\u68c0\u67e5\u903b\u8f91\u8fd4\u56de\u5bf9\u5e94\u7684\u8fd4\u56de\u7801\uff0c\u96c6\u6210sdk\u7684\u5f00\u53d1\u8005\u9488\u5bf9\u5904\u7406\u5373\u53ef\u3002 \u5728\u4e0e\u4e1a\u52a1\u65e0\u5173\u7684\u903b\u8f91\u4e14\u4e00\u65e6\u53d1\u751f\u7528\u6237\u65e0\u6cd5\u5904\u7406\u7684\u90e8\u5206\uff0c\u53ef\u4ee5\u91c7\u7528\u629b\u51fa\u81ea\u5b9a\u5f02\u5e38\u7684\u65b9\u5f0f\uff0c\u5982sdk\u5bf9app\u5305\u540d\u7684\u6821\u9a8c\uff0c\u662f\u4e00\u4e2a\u9762\u5411\u5f00\u53d1\u8005\u7684\u6821\u9a8c\u903b\u8f91\uff0c\u5766\u7136\u8ba9app\u5d29\u6e83\uff0c\u8ba9\u5f00\u53d1\u8005\u4ece\u9519\u8bef\u5806\u6808\u4e2d\u627e\u95ee\u9898,\u8fd9\u5c31\u662funcheck exception\u7684\u4f7f\u7528\u573a\u666f \u5f00\u53d1\u8005\u672a\u9075\u5faa\u7ea6\u5b9a\u9020\u6210\u7684\u65e0\u6cd5\u91cd\u8bd5\u7684\u4e13\u6709\u5f02\u5e38 \u521d\u59cb\u5316 \u521d\u59cb\u5316\u7684\u672c\u8d28\u662f\u5c06APP\u7684\u4e0a\u4e0b\u6587\u6ce8\u5165\u5230SDK\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7\u4e0a\u4e0b\u6587\u83b7\u53d6\u5230app\u7684\u8d44\u6e90\u548c\u4e0a\u4e0b\u6587 \u81ea\u5b9a\u4e49Application\uff08\u5df2\u7ecf\u88ab\u5e9f\u5f03\uff09 \u8ddf\u8c03\u7528\u8005\u81ea\u5df1\u5b9a\u4e49\u7684application\u51b2\u7a81\uff0c\u63a5\u53e3\u53cd\u5c04\u4ec0\u4e48\u7684\u6765\u5904\u7406\uff0c\u6ca1\u5fc5\u8981 public class App extends Application { @SuppressLint(\"StaticFieldLeak\") private static Context sContext; @Override public void onCreate() { super.onCreate(); sContext = this; } public static Context getContext() { return sContext; } } \u9759\u6001\u65b9\u6cd5\u521d\u59cb\u5316\uff08\u6700\u5e38\u7528\uff09 public class MySDK { private static Context sContext; private MySDK() { } public static void initSdk(Context context) { //\u83b7\u53d6ApplicationContext\u9632\u6b62\u5185\u5b58\u6cc4\u6f0f sContext = context.getApplicationContext(); initSomething(); } public static Context getContext() { return sContext; } private static void initSomething() { //init something } } //\u8c03\u7528\u65b9 public class App extends Application { @Override public void onCreate() { super.onCreate(); //\u521d\u59cb\u5316SDK MySDK.initSdk(this); } } \"\u65e0\u4fb5\u5165\"contentProvider\u521d\u59cb\u5316\u65b9\u6848 \u5229\u7528contentProvider\u83b7\u53d6\u4e86app\u7684\u4e0a\u4e0b\u6587 \u6e90\u7801\uff1aApp\u7684\u542f\u52a8\u8fc7\u7a0b\u4e2d\u52a0\u8f7d\u4e86provider\uff0c\u5e76\u4e14\u4f20\u4e86\u4e00\u4e2aApplication\u5b9e\u4f8b\u8fdb\u53bb\uff0c\u6700\u7ec8\u5728ContentProvider\u4e2d\u8c03\u7528\u4e86onCreate()\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u5728\u81ea\u5b9a\u4e49\u7684ContentProvider\u4e2d\uff0c\u901a\u8fc7getContext()\u65b9\u6cd5\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230Application\u7684\u5b9e\u4f8b\u4e86\uff0cContentProvider\u4e2d\u7684onCreate()\u65b9\u6cd5\u662f\u5148\u4e8eApplication\u4e2d\u7684onCreate()\u65b9\u6cd5\u6267\u884c\u7684\uff08\u6ce8\u610f\uff1a\u6b64\u65f6Application\u5bf9\u8c61\u5df2\u7ecf\u521b\u5efa\uff09\u3002\u5173\u4e8eApp\u542f\u52a8\u8017\u65f6\u7684\u4f18\u5316\u601d\u8def\uff0c\u662f\u4e0d\u662f\u53c8\u591a\u4e86\u4e00\u4e2a\u5173\u6ce8\u70b9\uff1f 1. \u81ea\u5b9a\u4e49\u7528\u4e8e\u521d\u59cb\u5316\u7684provider public class MySDKInitProvider extends FileProvider{ @Override public boolean onCreate() { //\u521d\u59cb\u5316 MySDK.initSdk(getContext()); return super.onCreate(); } } \u5728SDK Module\u4e0b\u7684manifest\u4e2d\u6ce8\u518c\uff0c\u7f16\u8bd1\u65f6\u5c06\u4f1a\u5408\u5e76\u81f3\u4e3b\u5de5\u7a0b\u9879\u76ee <provider android:name=\".MySDKInitProvider\" android:authorities=\"${applicationId}.MySDKInitProvider\" android:exported=\"false\" android:grantUriPermissions=\"true\"> <meta-data android:name=\"android.support.FILE_PROVIDER_PATHS\" android:resource=\"@xml/my_sdk_provider_paths\" /> </provider> \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662fProvider\u7684authorities\u5343\u4e07\u522b\u5199\u6b7b\uff0c\u5426\u5219\u4e24\u4e2a\u5f15\u5165\u540c\u6837SDK\u7684App\u5c31\u65e0\u6cd5\u5171\u5b58\u4e86\uff0c\u8fd9\u5927\u6982\u662fSDK\u6700\u4e0d\u8be5\u72af\u7684\u9519\u8bef\u4e4b\u4e00\u5427\uff01 \u521d\u59cb\u5316\u65b0\u59ff\u52bf-App \u8c37\u6b4c\u65b0\u7ec4\u4ef6\uff0cStartup(alpha\u7684\u9636\u6bb5\uff0c\u5c31\u4e0d\u592a\u5efa\u8bae\u7528\u4e8e\u751f\u4ea7\u73af\u5883\u4e2d) \u4e2a\u6027\u5316\u914d\u7f6e \u4f7f\u7528\u6d41\u5f0f\u6bd4\u8f83\u4f18\u96c5\u7684\u5b9e\u73b0sdk\u7684\u4e2a\u6027\u5316\u914d\u7f6e\u3002 sdk\u914d\u7f6e\u7684\u672c\u8d28\u662f\u4e3asdk\u76f8\u5173\u529f\u80fd\u63d0\u4f9b\u9ed8\u8ba4\u914d\u7f6e\uff0c\u5e76\u4e14\u63a5\u6536\u5f00\u53d1\u8005\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e private void initsdk(){ LuisSDK.setdebug(true); LuisSDK.init(this); LuisSDK.setVoice(true); } \u6d41\u5f0fapi\u7684\u6837\u4f8b MySDKConfig.getConfig().setDebug(true).setTimeout(8000L); public class LuisSDKConfig{ private static final LuisSDKConfig.Config CONFIG = new LuisSDKConfig.Congi(); public static class Config{ private Config(){ } public LuisSDKConfig.Config setDebug(final boolean isDebug) { sDebug = isDebug; return this; } } public static boolean isDebug() { return sDebug; } public static LuisSDKConfig.Config getConfig() { return CONFIG; } } //\u8c03\u7528\u793a\u4f8b LuisSDKConfig.getConfig().setdebug(true); SDK\u5b89\u5168\u4e0e\u6821\u9a8c \u8d44\u6e90\u5b89\u5168\uff0c\u5982\u4f55\u4fdd\u8bc1sdk\u5305\u7684\u5b8c\u6574\u6027 \u5728\u7f16\u8bd1\u7684\u65f6\u5019aar\u88ab\u5408\u5e76\u5230apk\u4e2d\uff0c\u76f4\u63a5\u6821\u9a8caar\u5305\u7684\u6458\u8981\u4e0d\u53ef\u884c\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u6821\u9a8caar\u5305\u4e2d\u7684\u8d44\u6e90,raw,assets\u5305\u4e2d\u6587\u4ef6\u7684\u6458\u8981\uff0c\u8fd9\u4e24\u4e2a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u4e0d\u4f1a\u88ab\u538b\u7f29\uff0c\u6458\u8981\u4e5f\u4e0d\u4f1a\u53d8\u3002 \u8b66\u60d5\u8d44\u6e90\u8986\u76d6\u9020\u6210\u7684\u5b89\u5168\u95ee\u9898Android \u4f1a\u5c06Library\u6a21\u5757\u4e2d\u8d44\u6e90\u4e0eApplication\u6a21\u5757\u4e2d\u7684\u8d44\u6e90\u8fdb\u884c\u5408\u5e76\uff0cAPP Moduler\u7684\u8d44\u6e90\u5c06\u4f1a\u8986\u76d6Library Moduler\u4e2d\u7684\u540c\u540d\u8d44\u6e90\u3002 \u5728\u5bf9\u6587\u4ef6\u6216\u8005\u8d44\u6e90\u8fdb\u884c\u547d\u540d\u7684\u65f6\u5019\u52a1\u5fc5\u6dfb\u52a0\u552f\u4e00\u6027\u7684\u524d\u7f00\uff0c\u6216\u5176\u4ed6\u552f\u4e00\u6027\u547d\u540d\u65b9\u6848\u3002 \u8fd9\u4e00\u7279\u6027\u4e5f\u4e3a\u6211\u4eec\u66ff\u6362SDK\u8d44\u6e90\uff0c\u8fdb\u884c\u4e2a\u6027\u5316\u6539\u9020\u63d0\u4f9b\u4e86\u4e00\u79cd\u601d\u8def 3. \u5b58\u50a8\u5b89\u5168 * sp\u5b58\u50a8\uff0c\u91c7\u7528xml\u6587\u4ef6\u683c\u5f0f\u6765\u5b58\u50a8\u6587\u4ef6\u6587\u4ef6\u6240\u5728\u76ee\u5f55data/data/shared_prefs\u5982\u679c\u76f4\u63a5\u5c06\u8d26\u53f7\u5bc6\u7801\u6216\u8005\u4e2a\u4eba\u654f\u611f\u4fe1\u606f\u5b58\u50a8\u8fdb\u53bb\uff0c\u624b\u673aroot\u540e\u53ef\u8f7b\u677e\u83b7\u53d6\uff0c\u5b58\u50a8\u7684\u65f6\u5019\u7b80\u5355\u505a\u4e00\u5c42\u52a0\u5bc6\u903b\u8f91\u3002 * so\u5b89\u5168\u5b58\u50a8\uff0c\u4e0d\u4ec5\u628a\u5bc6\u94a5\u5b58\u50a8\u4e0eso\uff0c\u8fd8\u8981\u628a\u52a0\u89e3\u5bc6\u903b\u8f91\u6216\u8005\u4f20\u8f93\u903b\u8f91\u653e\u7f6e\u4e8eso\u3002 4. \u4f20\u8f93\u5b89\u5168 \u5b89\u5168\u73af\u5883\u76d1\u6d4b * vpn * root * \u591a\u5f00 * \u6a21\u62df\u5668\u73af\u5883 5. \u6df7\u6dc6\u4e0e\u914d\u7f6e * \u624b\u52a8\u7ee7\u627f * SDK\u5185\u7f6e \u5c06sdk\u4e2d\u6df7\u6dc6\u914d\u7f6e\u4e5f\u6253\u5305\u8fdbaar\u4e2d \u6307\u5b9aconsumerProguardFiles\u5c5e\u6027\uff0c\u81ea\u5b9a\u4e49\u5f15\u5165\u6df7\u6dc6\u89c4\u5219\uff0c\u8be5\u5c5e\u6027\u53ea\u9488\u5bf9Library\u6709\u6548\uff0c\u5bf9app\u65e0\u6548 as4.0\u65b0\u5efalibrary\u4f1a\u4f1a\u81ea\u52a8\u521b\u5efa\u51fa\u4e24\u4e2a***rules.pro\u6587\u4ef6\uff0c\u5176\u4e2dconsumer-rules.pro\uff0c\u81ea\u52a8\u88abdefaultConfig\u4e0b\u7684consumerProguardFiles\u6240\u5f15\u7528\uff1b proguard-rules.pro\uff0c\u81ea\u52a8\u88abbuildType\u4e0b\u7684proguardFiles\u5f15\u7528\u3002 \u533a\u522b\uff1a default\u4e0b\u7684consumerProguardFiles\u914d\u7f6e\u7684*.pro\u6587\u4ef6\u5c06\u4f1a\u5728library mopduler\u6253\u5305\u6210aar,\u4ee5proguard.txt\u7684\u5f62\u5f0f\u5b58\u5728 SDK\u6253\u5305\u65b9\u6cd5 library module\u4e0b\u7684build.gradle\u6a21\u677f\u914d\u7f6e\uff1a //\u533a\u522b\u4e8eapplication\uff0c\u8fd9\u610f\u5473\u7740\u8be5module\u5c06\u88ab\u89c6\u4e3alibrary apply plugin: 'com.android.library' //\u81ea\u5b9a\u4e49\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u83b7\u53d6\u5f53\u524d\u65f6\u95f4 static def releaseTime() { return new Date().format(\"yyyy-MM-dd\", TimeZone.getTimeZone(\"UTC\")) } android { compileSdkVersion 29 buildToolsVersion \"29.0.3\" defaultConfig { minSdkVersion 21 targetSdkVersion 29 versionCode 1 versionName \"1.0\" consumerProguardFiles \"proguard-rules.pro\"//\u914d\u7f6e\u81ea\u5b9a\u4e49\u7684\u6df7\u6dc6\u89c4\u5219\uff0c\u8be5\u5b57\u6bb5\u4e0b\u7684\u6df7\u6dc6\u89c4\u5219\u5c06\u4f5c\u7528\u4e8e\u96c6\u6210\u8be5SDK\u7684APP testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\" ndk { abiFilters 'armeabi-v7a','arm64-v8a'//\u663e\u5f0f\u9650\u5b9asdk\u652f\u6301\u7684arm\u67b6\u6784\u6307\u4ee4\u96c6 } } signingConfigs { release { storeFile file(\"../key/mylib.jks\")//\u76f8\u5bf9\u8def\u5f84\u4e0b\u7684\u7b7e\u540d\u6587\u4ef6 storePassword \"Android_2333\" keyAlias \"key-sdk\" keyPassword \"Android_2333\" } } buildTypes { release { minifyEnabled true shrinkResources false//sdk module\u7f16\u8bd1\u65f6\uff0c\u4e0d\u652f\u6301\u8bbe\u7f6eshrinkResources\u4e3atrue signingConfig signingConfigs.release proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'//\u7f16\u8bd1\u672cmodule\u65f6\u53c2\u4e0e\u6df7\u6dc6\u914d\u7f6e\u7684\u6587\u4ef6 } debug { minifyEnabled false shrinkResources false //sdk module\u7f16\u8bd1\u65f6\uff0c\u4e0d\u652f\u6301\u8bbe\u7f6eshrinkResources\u4e3atrue signingConfig signingConfigs.release proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'//\u7f16\u8bd1\u672cmodule\u65f6\u53c2\u4e0e\u6df7\u6dc6\u914d\u7f6e\u7684\u6587\u4ef6 } } //\u81ea\u52a8\u63d0\u53d6\u7f16\u8bd1\u751f\u6210\u7684aar\u6587\u4ef6\uff0c\u91cd\u547d\u540d\uff0c\u6700\u540e\u81ea\u52a8\u590d\u5236\u5230appmodule\u4e0b\u7684libs\u76ee\u5f55\uff0c\u65b9\u4fbf\u8c03\u8bd5\u9a8c\u8bc1\u3002 libraryVariants.all { variant -> if (variant.buildType.name == 'release') { variant.assembleProvider.get().doLast { variant.outputs.each { output -> def outputFile = output.outputFile if (outputFile != null && outputFile.name.endsWith('release.aar')) { // def fileName = \"${project.name}-release-${android.defaultConfig.versionName}-${releaseTime()}\" def outputPath = \"../mylib/build/aar\" def libPath = \"../app/libs\" copy { from outputFile into outputPath // rename { fileName + \".aar\" } } //\u76f4\u63a5\u590d\u5236\u5230App\u7684libs\u76ee\u5f55\u4e0b\uff0c\u65b9\u4fbf\u8c03\u8bd5 copy { from outputFile into libPath } } } } } } } dependencies { //\u8fd9\u53e5\u8bdd\u4ee3\u8868\u96c6\u5f15\u5165libs\u76ee\u5f55\u4e0b\u7684\u6240\u6709jar\u5305 implementation fileTree(dir: \"libs\", include: [\"*.jar\"]) implementation 'com.android.support:support-v4:28.0.0' implementation 'com.android.support:appcompat-v7:28.0.0' } \u5982\u4f55\u6253\u4e00\u4e2aaar\u5305\uff1a \u53cc\u51fbgradle\u811a\u672cassembleRelease\uff0c\u6267\u884c\u6b63\u5f0faar\u7f16\u8bd1\u751f\u6210\u8fc7\u7a0b; \u7f16\u8bd1\u5b8c\u6210\uff0c\u53ef\u4ee5\u770b\u5230outputs\u76ee\u5f55\u4e0b\u81ea\u52a8\u751f\u6210\u4e86\u4e00\u4e2aaar\u6587\u4ef6\uff0c\u540c\u65f6\u6211\u4eec\u7684\u811a\u672c\u4e5f\u751f\u6548\u4e86\uff0c\u5c06\u5176\u590d\u5236\u5230\u4e86\u6307\u5b9a\u7684\u76ee\u5f55\u4e0b\uff08\u8fd9\u91cc\u53ef\u4ee5\u505a\u4e00\u4e0b\u81ea\u52a8\u7248\u672c\u547d\u540d\u4e4b\u7c7b\u7684\u5de5\u4f5c\uff09 \u4f9d\u8d56\u539f\u5219\uff0c\u5c3d\u91cf\u907f\u514d\u7b2c\u4e09\u65b9\u5e93\u7684\u4f9d\u8d56 \u5982\u4f55\u89e3\u51b3\u7ec4\u4ef6\u4f9d\u8d56\u51b2\u7a81\uff1a \u5f3a\u5236\u4f7f\u7528\u6307\u5b9a\u7248\u672c \u81ea\u5b9a\u4e49aar\u540d\u79f0 //\u5982\u679c\u662f\u4fee\u6539apk\u548cjar\u7684\u540d\u79f0\u76f4\u63a5\u4fee\u6539\u540e\u7f00\u5373\u53ef\u3002 android{ //... android.libraryVariants.all{ variant -> variant.outputs.all{ def fileName = \"${project.name}_${buildType.name}_v${defaultConfig.versionName}_${defaultConfig.versionCode}.aar\" outputFileName = fileName } } //... } ${project.name}\u4e5f\u5c31\u662f\u5f53\u524dmodule\u7684\u540d\u5b57 ${buildType.name}\u5c31\u662f\u5f53\u524d\u6784\u5efa\u7684\u7c7b\u578b\uff0c\u4f8b\u5982 debug \u6216\u8005 release ${defaultConfig.versionName}\u548c${defaultConfig.versionCode}\u5219\u5206\u522b\u5bf9\u5e94\u4e86defaultConfig\u4e2d\u7684versionName\u548cversionCode","title":"\u603b\u7ed3"},{"location":"sdk/#_1","text":"jar so aar \u4e00\u4e9b\u65b9\u6cd5\u548c\u903b\u8f91\u5408\u96c6\uff0c\u5bf9\u8d44\u6e90api\u5c01\u88c5\u540e\u7684\u4ea7\u7269\u3002","title":"\u5b9a\u4e49"},{"location":"sdk/#_2","text":"\u5982\u65e0\u5fc5\u8981\u52ff\u589e\u5b9e\u4f53\uff0c\u5982\u65e0\u5fc5\u8981\u52ff\u589e\u4f9d\u8d56 1. sdk\u63a5\u6536\u4ec0\u4e48\uff1f\u8f93\u51fa\u4ec0\u4e48\uff1f\u660e\u786e\u804c\u8d23","title":"\u63a5\u53e3\u8bbe\u8ba1"},{"location":"sdk/#_3","text":"map String \u5b9e\u4f53\u7c7b 1. \u81ea\u5b9a\u4e49\u5b9e\u4f53\u7c7b\u4f5c\u4e3a\u51fa\u5165\u53c2\u5728activity\u95f4\u4f20\u8f93\uff0c\u65e0\u6cd5\u76f4\u63a5\u4f20\u64ad\u5b9e\u4f53\uff0c\u9700\u8981\u7ecf\u8fc7\u5e8f\u5217\u5316\u3002 * \u5b9e\u73b0serializable\u63a5\u53e3\u901a\u8fc7bundle\u4f20\u8f93 * \u5b9e\u73b0parcelabel\u63a5\u53e3\uff0c\u901a\u8fc7budle\u4f20\u8f93 2. intent\u4e2d\u7684bundle\u662f\u901a\u8fc7Binder\u673a\u5236\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u6709\u5927\u5c0f\u9650\u5236\uff0c\u5efa\u8bae\u6700\u5927\u4e0d\u8d85\u8fc7500k\u8d8a\u5c0f\u8d8a\u597d\uff0c\u907f\u514d\u4f20\u8f93\u56fe\u7247","title":"\u51fa\u5165\u53c2\u8bbe\u8ba1"},{"location":"sdk/#_4","text":"\u5982\u679capp\u9700\u8981\u901a\u8fc7sdk\u7684\u5165\u53e3activity\u8fdb\u884c\u8c03\u7528\u4e0e\u4e1a\u52a1\u5f00\u53d1\uff0c\u5982\u4f55\u505a\u4e00\u4e2a\u4f18\u96c5\u7684\u8c03\u7528\u5c01\u88c5\u3002 \u5c01\u88c5\u524d\u7684\u8c03\u7528\uff1a //\u7e41\u7410\u7684\u8c03\u7528\u4ee3\u7801 Bundle bundle = new Bundle(); //\u8fd9\u91cc\u8981\u66b4\u9732\u6216\u8005\u7ea6\u5b9a\u4e00\u4e2a\u9759\u6001KEY bundle.putParcelable(KEY_REQ, request); Intent intent = new Intent(context, EntryActivity.class); //\u5c4f\u853d\u8f6c\u573a\u52a8\u753b\uff0c\u8ba9\u753b\u9762\u8df3\u8f6c\u66f4\u548c\u8c10 intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION); intent.putExtras(bundle); context.startActivity(intent); \u5c01\u88c5\u540e\u7684\u8c03\u7528\uff1a //\u7b80\u6d01\u7684\u8c03\u7528\u4ee3\u7801 MySDK.launchSdk(context,req); //\u5c06\u590d\u6742\u903b\u8f91\u6216\u7ec6\u8282\u5185\u7f6e\u4e8eSDK\u4e2d\uff0c\u5bf9\u5916\u63d0\u4f9b\u5c01\u88c5\u597d\u7684\u9759\u6001\u65b9\u6cd5\u5373\u53ef public static void launchSdk(Context context, ReqContent request) { Bundle bundle = new Bundle(); bundle.putParcelable(KEY_REQ, request); Intent intent = new Intent(context, EntryActivity.class); //\u5c4f\u853d\u8f6c\u573a\u52a8\u753b\uff0c\u8ba9\u753b\u9762\u8df3\u8f6c\u66f4\u548c\u8c10 intent.setFlags(Intent.FLAG_ACTIVITY_NO_ANIMATION); intent.putExtras(bundle); context.startActivity(intent); }","title":"\u8c03\u7528\u5c01\u88c5\u8bbe\u8ba1"},{"location":"sdk/#_5","text":"\u8c03\u7528\u5373\u54cd\u5e94\uff0c\u4e0d\u53ef\u65e0\u54cd\u5e94\u65e0\u56de\u8c03 \u80cc\u666f\uff1a 1. \u9700\u8981\u5728app\u4e0esdk\u7684activity\u95f4\u8fdb\u884c\u6570\u636e\u4f20\u8f93 2. \u8c03\u7528sdk\u540e\uff0c\u9700\u8981\u6267\u884c\u4e00\u6bb5\u5f02\u6b65\u903b\u8f91\uff0c\u7ed3\u675f\u540e\u9700\u8981\u53ca\u65f6\u5173\u95ed 3. \u9700\u8981\u5728\u903b\u8f91\u4ee3\u7801\u5904\u7406\u8fc7\u7a0b\u4e2d\u968f\u65f6\u968f\u5730\u7684\u6784\u9020\u8fd4\u56de\u53c2\u6570\u5e76\u8fd4\u56de\u3002 4. sdk\u76ee\u6807\u7528\u6237\uff0c\u5404\u7c7b\u7b2c\u4e09\u65b9app\uff0c\u9700\u8981\u901a\u7528\u7684\u4ea4\u4e92\u673a\u5236\uff0c\u907f\u514d\u5f15\u8d77\u517c\u5bb9\u95ee\u9898\u3002 \u65b9\u6848\uff1a startActivityForResult()?\u7406\u8bba\u53ef\u884c\uff0c\u4f46\u4e0d\u591f\u7075\u6d3b\uff0c\u5f03\u3002 \u91c7\u7528EventBus ? \u907f\u514d\u5f15\u5165\u975e\u5fc5\u987b\u7b2c\u4e09\u65b9\u4f9d\u8d56\uff0c\u6682\u65f6\u653e\u5f03\u3002 \u91c7\u7528BroadcastReceiver\uff1fAndroid \u5185\u7f6e\u7684\u56db\u5927\u7ec4\u4ef6\u4e4b\u4e00\uff0c\u4e3a\u7ec4\u4ef6\u95f4\u4ea4\u4e92\u800c\u751f\u3002\u800c\u4e14\u7075\u6d3b\u65b9\u4fbf\uff0c\u4e0e\u5165\u53c2\u65b9\u6cd5\u547c\u5e94\uff0c\u53ef\u4ee5\u4eceIntent\u4e2d\u4f20\u8f93\u6570\u636e\u3002 \u91c7\u7528\u5e94\u7528\u5185\u5e7f\u64ad\uff0c\u65e0\u8fdb\u7a0b\u95f4\u901a\u4fe1\uff0c\u6548\u7387\u66f4\u9ad8\uff0c\u66f4\u5b89\u5168","title":"\u6570\u636e\u8fd4\u56de\u8bbe\u8ba1"},{"location":"sdk/#_6","text":"//SDK\u5185\u90e8\u5c01\u88c5\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u63d0\u4f9b\u7ed9SDK\u5185\u90e8\u6a21\u5757\u7edf\u4e00\u8c03\u7528 public static void sendResult(String token, int code, String message) { ResultContent result = new ResultContent(); result.setToken(token); result.setCode(code); result.setMessage(message); Bundle bundle = new Bundle(); bundle.putParcelable(KEY_RESULT, result); Intent intent = new Intent(); intent.setAction(MY_SDK_RECEIVER_ACTION); intent.putExtras(bundle); LocalBroadcastManager.getInstance(MySDK.getContext()).sendBroadcast(intent); }","title":"\u53d1\u9001\u6570\u636e"},{"location":"sdk/#_7","text":"//SDK\u5185\u90e8\u5c01\u88c5\u7684\u6ce8\u518c\u65b9\u6cd5\uff0c\u63d0\u4f9b\u7ed9APP\u6a21\u5757\u7edf\u4e00\u8c03\u7528 public static void registerReceiver(BroadcastReceiver receiver) { IntentFilter filter = new IntentFilter(); filter.addAction(MY_SDK_RECEIVER_ACTION); LocalBroadcastManager.getInstance(getContext()).registerReceiver(receiver, filter); } //SDK\u5185\u90e8\u5c01\u88c5\u7684\u53cd\u6ce8\u518c\u65b9\u6cd5\uff0c\u63d0\u4f9b\u7ed9APP\u6a21\u5757\u7edf\u4e00\u8c03\u7528\uff0c\u5982\u679c\u5728onCreate()\u65b9\u6cd5\u4e2d\u6ce8\u518c\uff0c\u5219\u5728onDestroy()\u65b9\u6cd5\u4e2d\u53cd\u6ce8\u518c\u3002 public static void unregisterReceiver(BroadcastReceiver receiver) { LocalBroadcastManager.getInstance(getContext()).unregisterReceiver(receiver); } //APP \u4e2d\u5b9a\u4e49\u7684\u5e7f\u64ad\u63a5\u6536\u5668\uff0c\u7528\u4e8e\u63a5\u6536\u8fd4\u56de\u53c2\u6570 public class MyReceiver extends BroadcastReceiver { @Override public void onReceive(Context context, Intent intent) { ResultContent result = MySDKHelper.getResult(intent); if (result == null) { return; } int code = result.getCode(); String message = result.getMessage(); String token = result.getToken(); String log = String.format(Locale.CHINA,\"\u8fd4\u56de\u7801: %d \u8fd4\u56de\u4fe1\u606f: %s Token: %s\", code, message, token); Log.d(TAG, log); } }","title":"\u63a5\u6536\u6570\u636e"},{"location":"sdk/#_8","text":"\u5bf9\u5165\u53c2\u6570\u636e\u8fdb\u884c\u8fc7\u6ee4\uff0c\u907f\u514d\u65e0\u610f\u4e49\u7684\u540e\u7eed\u4e1a\u52a1\u6d41\u7a0b\uff0c\u53ca\u65f6\u63d0\u4f9b\u8c03\u7528\u53cd\u9988\u3002 \u975e\u7a7a\u68c0\u6d4b\uff0c\u6570\u636e\u7c7b\u578b\u68c0\u6d4b\uff0c\u6570\u636e\u683c\u5f0f\u68c0\u6d4b\uff0c\u81ea\u5b9a\u4e49\u6ce8\u89e3\u3002 public static final String PRINTER = \"PRINTER\"; public static final String HORN = \"HORN\"; public static final String SOUND = \"SOUND\"; @StringDef({PRINTER, HORN, SOUND}) public @interface DeviceType{} public void getDevice( @DeviceType String deviceType){ }","title":"\u53c2\u6570\u8fc7\u6ee4\u8bbe\u8ba1"},{"location":"sdk/#_9","text":"\u524d\u7aef\u6ca1\u6709\u7edd\u5bf9\u7684\u5b89\u5168 \u9519\u8bef\u7684\u8fd4\u56de \u9519\u8bef\u7684\u8fd4\u56de\u5e76\u4e0d\u4f1a\u5bf9\u4e1a\u52a1\u9020\u6210\u635f\u5931\uff0c\u6bd4\u5982\u652f\u4ed8\u5931\u8d25\uff0c\u76f4\u63a5\u5f53\u4f5c\u5931\u8d25\u5904\u7406\u5373\u53ef\u3002 \u6210\u529f\u7684\u8fd4\u56de \u6210\u529f\u7684\u8fd4\u56de\u6709\u65f6\u5019\u4f1a\u9020\u6210\u635f\u5931\uff0c\u6bd4\u5982\u652f\u4ed8\u540e\u53d1\u8d27\u884c\u4e3a\uff0c\u56e0\u6b64\u5fc5\u987b\u8981\u5224\u65ad\u8fd4\u56de\u7684\u53ef\u9760\u6027\u3002 \u524d\u7aef\u4ee3\u7801\uff0c\u5bb9\u6613\u88ab\u7834\u89e3\u8005\u901a\u8fc7hook\u7b49\u975e\u6b63\u5e38\u624b\u6bb5\u4f2a\u9020\u6216\u8005\u7be1\u6539\uff0c\u4e0d\u80fd\u4fe1\u4efb\u524d\u7aef\u8fd4\u56de\u7801\u3002 \u4e00\u822c\u652f\u4ed8\u7684\u4ea4\u4e92\u6d41\u7a0b\u56fe","title":"\u4ea4\u4e92\u6d41\u7a0b\u8bbe\u8ba1"},{"location":"sdk/#_10","text":"\u5f02\u5e38\u6982\u5ff5\uff08throwable\u4e3aexception\u548cerror\u7236\u7c7b\uff09 \u5f02\u5e38\u7684\u5c42\u6b21 checked Exception \u5982IoException\u8981\u4e48\u7528try catch\u6355\u83b7\u8981\u4e48throw\u51fa\u53bb\uff0c\u5728\u7f16\u7801\u7684\u65f6\u5019\u4f1a\u5f3a\u63d0\u9192 unCheckException\u6240\u6709\u7ee7\u627f\u81eaerror\u6216\u8005RuntimeException\u7684\u7c7b\u5982nullPointException APP\u5f00\u53d1\u8005\u548csdk\u5f00\u53d1\u8005\u770b\u4ee3\u5f02\u5e38\u7684\u89d2\u5ea6\u3002 \u56e0\u4e3asdk\u5185\u90e8\u7684\u5f02\u5e38\u4e2d\u65ad\u4e86sdk\u5185\u90e8\u7684\u6d41\u7a0b\u800c\u4e0d\u544a\u8bc9app\u8fd9\u663e\u7136\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\uff0c\u5904\u7406sdk\u5185\u90e8\u7684\u5f02\u5e38\uff0c\u539f\u5219\u5c31\u662f\u4e0d\u5e94\u8be5\u5185\u90e8\u6d88\u5316\uff0c\u800c\u5e94\u8be5\u5411\u5916\u629b\u51fa\uff0c\u4ee5\u540c\u6837\u7684\u5f02\u5e38\u5f62\u5f0f\u6216\u8005\u81ea\u5b9a\u4e49\u8fd4\u56de\u7801\u3002 Exception or Error Code? \u5728sdk\u8bbe\u8ba1\u4e2d\u65e2\u53ef\u4ee5\u901a\u8fc7\u5f02\u5e38\u544a\u77e5\u63a5\u5165\u65b9\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8fd4\u56de\u7801\u544a\u77e5\u63a5\u5165\u65b9\uff0c\u5982\u4f55\u9009\u62e9\uff1f \u573a\u666f\uff1a 1. sdk\u5165\u53c2\u4e2d\u9700\u8981app\u4f20\u5165\u624b\u673a\u53f7\uff0c\u5e76\u6821\u9a8c\u53c2\u6570\u5408\u6cd5\u6027 2. sdk\u9700\u8981\u83b7\u53d6app\u5305\u540d/appid\u8fdb\u884c\u767d\u540d\u5355\u6821\u9a8c \u81ea\u5b9a\u4e49\u5f02\u5e38\u662f\u4e00\u79cd\u6bd4\u8f83\u91cd\u7684\u544a\u77e5\u65b9\u5f0f\uff0c\u610f\u5473\u7740\u4e2d\u65ad\uff0c\u8fd4\u56de\u7801\u662f\u4e00\u79cd\u6bd4\u8f83\u8f7b\u7684\u544a\u77e5\u65b9\u5f0f\u3002 \u5728\u4e0e\u4e1a\u52a1\u6709\u5173\u7684\u903b\u8f91\u4e14\u6d89\u53ca\u7528\u6237\uff08\u975eapp\u5f00\u53d1\u8005\uff09\u53ef\u4ee5\u91cd\u8bd5\u7684\u90e8\u5206\uff0c\u5e94\u8be5\u91c7\u7528\u8fd4\u56de\u7801\uff0c\u65b9\u4fbf\u540e\u7eed\u5904\u7406\uff0c\u6bd4\u5982\u7528\u6237\u8f93\u5165\u4e86\u4e0d\u7b26\u5408\u624b\u673a\u53f7\u7801\u89c4\u5219\u7684\u4fe1\u606f\uff0c\u53ef\u4ee5\u901a\u8fc7\u6211\u4eec\u7684\u68c0\u67e5\u903b\u8f91\u8fd4\u56de\u5bf9\u5e94\u7684\u8fd4\u56de\u7801\uff0c\u96c6\u6210sdk\u7684\u5f00\u53d1\u8005\u9488\u5bf9\u5904\u7406\u5373\u53ef\u3002 \u5728\u4e0e\u4e1a\u52a1\u65e0\u5173\u7684\u903b\u8f91\u4e14\u4e00\u65e6\u53d1\u751f\u7528\u6237\u65e0\u6cd5\u5904\u7406\u7684\u90e8\u5206\uff0c\u53ef\u4ee5\u91c7\u7528\u629b\u51fa\u81ea\u5b9a\u5f02\u5e38\u7684\u65b9\u5f0f\uff0c\u5982sdk\u5bf9app\u5305\u540d\u7684\u6821\u9a8c\uff0c\u662f\u4e00\u4e2a\u9762\u5411\u5f00\u53d1\u8005\u7684\u6821\u9a8c\u903b\u8f91\uff0c\u5766\u7136\u8ba9app\u5d29\u6e83\uff0c\u8ba9\u5f00\u53d1\u8005\u4ece\u9519\u8bef\u5806\u6808\u4e2d\u627e\u95ee\u9898,\u8fd9\u5c31\u662funcheck exception\u7684\u4f7f\u7528\u573a\u666f \u5f00\u53d1\u8005\u672a\u9075\u5faa\u7ea6\u5b9a\u9020\u6210\u7684\u65e0\u6cd5\u91cd\u8bd5\u7684\u4e13\u6709\u5f02\u5e38","title":"\u5f02\u5e38\u5904\u7406"},{"location":"sdk/#_11","text":"\u521d\u59cb\u5316\u7684\u672c\u8d28\u662f\u5c06APP\u7684\u4e0a\u4e0b\u6587\u6ce8\u5165\u5230SDK\uff0c\u4f7f\u5176\u80fd\u901a\u8fc7\u4e0a\u4e0b\u6587\u83b7\u53d6\u5230app\u7684\u8d44\u6e90\u548c\u4e0a\u4e0b\u6587 \u81ea\u5b9a\u4e49Application\uff08\u5df2\u7ecf\u88ab\u5e9f\u5f03\uff09 \u8ddf\u8c03\u7528\u8005\u81ea\u5df1\u5b9a\u4e49\u7684application\u51b2\u7a81\uff0c\u63a5\u53e3\u53cd\u5c04\u4ec0\u4e48\u7684\u6765\u5904\u7406\uff0c\u6ca1\u5fc5\u8981 public class App extends Application { @SuppressLint(\"StaticFieldLeak\") private static Context sContext; @Override public void onCreate() { super.onCreate(); sContext = this; } public static Context getContext() { return sContext; } } \u9759\u6001\u65b9\u6cd5\u521d\u59cb\u5316\uff08\u6700\u5e38\u7528\uff09 public class MySDK { private static Context sContext; private MySDK() { } public static void initSdk(Context context) { //\u83b7\u53d6ApplicationContext\u9632\u6b62\u5185\u5b58\u6cc4\u6f0f sContext = context.getApplicationContext(); initSomething(); } public static Context getContext() { return sContext; } private static void initSomething() { //init something } } //\u8c03\u7528\u65b9 public class App extends Application { @Override public void onCreate() { super.onCreate(); //\u521d\u59cb\u5316SDK MySDK.initSdk(this); } } \"\u65e0\u4fb5\u5165\"contentProvider\u521d\u59cb\u5316\u65b9\u6848 \u5229\u7528contentProvider\u83b7\u53d6\u4e86app\u7684\u4e0a\u4e0b\u6587 \u6e90\u7801\uff1aApp\u7684\u542f\u52a8\u8fc7\u7a0b\u4e2d\u52a0\u8f7d\u4e86provider\uff0c\u5e76\u4e14\u4f20\u4e86\u4e00\u4e2aApplication\u5b9e\u4f8b\u8fdb\u53bb\uff0c\u6700\u7ec8\u5728ContentProvider\u4e2d\u8c03\u7528\u4e86onCreate()\u65b9\u6cd5\u3002\u56e0\u6b64\uff0c\u5728\u81ea\u5b9a\u4e49\u7684ContentProvider\u4e2d\uff0c\u901a\u8fc7getContext()\u65b9\u6cd5\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230Application\u7684\u5b9e\u4f8b\u4e86\uff0cContentProvider\u4e2d\u7684onCreate()\u65b9\u6cd5\u662f\u5148\u4e8eApplication\u4e2d\u7684onCreate()\u65b9\u6cd5\u6267\u884c\u7684\uff08\u6ce8\u610f\uff1a\u6b64\u65f6Application\u5bf9\u8c61\u5df2\u7ecf\u521b\u5efa\uff09\u3002\u5173\u4e8eApp\u542f\u52a8\u8017\u65f6\u7684\u4f18\u5316\u601d\u8def\uff0c\u662f\u4e0d\u662f\u53c8\u591a\u4e86\u4e00\u4e2a\u5173\u6ce8\u70b9\uff1f 1. \u81ea\u5b9a\u4e49\u7528\u4e8e\u521d\u59cb\u5316\u7684provider public class MySDKInitProvider extends FileProvider{ @Override public boolean onCreate() { //\u521d\u59cb\u5316 MySDK.initSdk(getContext()); return super.onCreate(); } } \u5728SDK Module\u4e0b\u7684manifest\u4e2d\u6ce8\u518c\uff0c\u7f16\u8bd1\u65f6\u5c06\u4f1a\u5408\u5e76\u81f3\u4e3b\u5de5\u7a0b\u9879\u76ee <provider android:name=\".MySDKInitProvider\" android:authorities=\"${applicationId}.MySDKInitProvider\" android:exported=\"false\" android:grantUriPermissions=\"true\"> <meta-data android:name=\"android.support.FILE_PROVIDER_PATHS\" android:resource=\"@xml/my_sdk_provider_paths\" /> </provider> \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662fProvider\u7684authorities\u5343\u4e07\u522b\u5199\u6b7b\uff0c\u5426\u5219\u4e24\u4e2a\u5f15\u5165\u540c\u6837SDK\u7684App\u5c31\u65e0\u6cd5\u5171\u5b58\u4e86\uff0c\u8fd9\u5927\u6982\u662fSDK\u6700\u4e0d\u8be5\u72af\u7684\u9519\u8bef\u4e4b\u4e00\u5427\uff01 \u521d\u59cb\u5316\u65b0\u59ff\u52bf-App \u8c37\u6b4c\u65b0\u7ec4\u4ef6\uff0cStartup(alpha\u7684\u9636\u6bb5\uff0c\u5c31\u4e0d\u592a\u5efa\u8bae\u7528\u4e8e\u751f\u4ea7\u73af\u5883\u4e2d)","title":"\u521d\u59cb\u5316"},{"location":"sdk/#_12","text":"\u4f7f\u7528\u6d41\u5f0f\u6bd4\u8f83\u4f18\u96c5\u7684\u5b9e\u73b0sdk\u7684\u4e2a\u6027\u5316\u914d\u7f6e\u3002 sdk\u914d\u7f6e\u7684\u672c\u8d28\u662f\u4e3asdk\u76f8\u5173\u529f\u80fd\u63d0\u4f9b\u9ed8\u8ba4\u914d\u7f6e\uff0c\u5e76\u4e14\u63a5\u6536\u5f00\u53d1\u8005\u7684\u81ea\u5b9a\u4e49\u914d\u7f6e private void initsdk(){ LuisSDK.setdebug(true); LuisSDK.init(this); LuisSDK.setVoice(true); } \u6d41\u5f0fapi\u7684\u6837\u4f8b MySDKConfig.getConfig().setDebug(true).setTimeout(8000L); public class LuisSDKConfig{ private static final LuisSDKConfig.Config CONFIG = new LuisSDKConfig.Congi(); public static class Config{ private Config(){ } public LuisSDKConfig.Config setDebug(final boolean isDebug) { sDebug = isDebug; return this; } } public static boolean isDebug() { return sDebug; } public static LuisSDKConfig.Config getConfig() { return CONFIG; } } //\u8c03\u7528\u793a\u4f8b LuisSDKConfig.getConfig().setdebug(true);","title":"\u4e2a\u6027\u5316\u914d\u7f6e"},{"location":"sdk/#sdk","text":"\u8d44\u6e90\u5b89\u5168\uff0c\u5982\u4f55\u4fdd\u8bc1sdk\u5305\u7684\u5b8c\u6574\u6027 \u5728\u7f16\u8bd1\u7684\u65f6\u5019aar\u88ab\u5408\u5e76\u5230apk\u4e2d\uff0c\u76f4\u63a5\u6821\u9a8caar\u5305\u7684\u6458\u8981\u4e0d\u53ef\u884c\uff0c\u4f46\u662f\u53ef\u4ee5\u901a\u8fc7\u6821\u9a8caar\u5305\u4e2d\u7684\u8d44\u6e90,raw,assets\u5305\u4e2d\u6587\u4ef6\u7684\u6458\u8981\uff0c\u8fd9\u4e24\u4e2a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5728\u7f16\u8bd1\u7684\u65f6\u5019\u4e0d\u4f1a\u88ab\u538b\u7f29\uff0c\u6458\u8981\u4e5f\u4e0d\u4f1a\u53d8\u3002 \u8b66\u60d5\u8d44\u6e90\u8986\u76d6\u9020\u6210\u7684\u5b89\u5168\u95ee\u9898Android \u4f1a\u5c06Library\u6a21\u5757\u4e2d\u8d44\u6e90\u4e0eApplication\u6a21\u5757\u4e2d\u7684\u8d44\u6e90\u8fdb\u884c\u5408\u5e76\uff0cAPP Moduler\u7684\u8d44\u6e90\u5c06\u4f1a\u8986\u76d6Library Moduler\u4e2d\u7684\u540c\u540d\u8d44\u6e90\u3002 \u5728\u5bf9\u6587\u4ef6\u6216\u8005\u8d44\u6e90\u8fdb\u884c\u547d\u540d\u7684\u65f6\u5019\u52a1\u5fc5\u6dfb\u52a0\u552f\u4e00\u6027\u7684\u524d\u7f00\uff0c\u6216\u5176\u4ed6\u552f\u4e00\u6027\u547d\u540d\u65b9\u6848\u3002 \u8fd9\u4e00\u7279\u6027\u4e5f\u4e3a\u6211\u4eec\u66ff\u6362SDK\u8d44\u6e90\uff0c\u8fdb\u884c\u4e2a\u6027\u5316\u6539\u9020\u63d0\u4f9b\u4e86\u4e00\u79cd\u601d\u8def 3. \u5b58\u50a8\u5b89\u5168 * sp\u5b58\u50a8\uff0c\u91c7\u7528xml\u6587\u4ef6\u683c\u5f0f\u6765\u5b58\u50a8\u6587\u4ef6\u6587\u4ef6\u6240\u5728\u76ee\u5f55data/data/shared_prefs\u5982\u679c\u76f4\u63a5\u5c06\u8d26\u53f7\u5bc6\u7801\u6216\u8005\u4e2a\u4eba\u654f\u611f\u4fe1\u606f\u5b58\u50a8\u8fdb\u53bb\uff0c\u624b\u673aroot\u540e\u53ef\u8f7b\u677e\u83b7\u53d6\uff0c\u5b58\u50a8\u7684\u65f6\u5019\u7b80\u5355\u505a\u4e00\u5c42\u52a0\u5bc6\u903b\u8f91\u3002 * so\u5b89\u5168\u5b58\u50a8\uff0c\u4e0d\u4ec5\u628a\u5bc6\u94a5\u5b58\u50a8\u4e0eso\uff0c\u8fd8\u8981\u628a\u52a0\u89e3\u5bc6\u903b\u8f91\u6216\u8005\u4f20\u8f93\u903b\u8f91\u653e\u7f6e\u4e8eso\u3002 4. \u4f20\u8f93\u5b89\u5168 \u5b89\u5168\u73af\u5883\u76d1\u6d4b * vpn * root * \u591a\u5f00 * \u6a21\u62df\u5668\u73af\u5883 5. \u6df7\u6dc6\u4e0e\u914d\u7f6e * \u624b\u52a8\u7ee7\u627f * SDK\u5185\u7f6e \u5c06sdk\u4e2d\u6df7\u6dc6\u914d\u7f6e\u4e5f\u6253\u5305\u8fdbaar\u4e2d \u6307\u5b9aconsumerProguardFiles\u5c5e\u6027\uff0c\u81ea\u5b9a\u4e49\u5f15\u5165\u6df7\u6dc6\u89c4\u5219\uff0c\u8be5\u5c5e\u6027\u53ea\u9488\u5bf9Library\u6709\u6548\uff0c\u5bf9app\u65e0\u6548 as4.0\u65b0\u5efalibrary\u4f1a\u4f1a\u81ea\u52a8\u521b\u5efa\u51fa\u4e24\u4e2a***rules.pro\u6587\u4ef6\uff0c\u5176\u4e2dconsumer-rules.pro\uff0c\u81ea\u52a8\u88abdefaultConfig\u4e0b\u7684consumerProguardFiles\u6240\u5f15\u7528\uff1b proguard-rules.pro\uff0c\u81ea\u52a8\u88abbuildType\u4e0b\u7684proguardFiles\u5f15\u7528\u3002 \u533a\u522b\uff1a default\u4e0b\u7684consumerProguardFiles\u914d\u7f6e\u7684*.pro\u6587\u4ef6\u5c06\u4f1a\u5728library mopduler\u6253\u5305\u6210aar,\u4ee5proguard.txt\u7684\u5f62\u5f0f\u5b58\u5728","title":"SDK\u5b89\u5168\u4e0e\u6821\u9a8c"},{"location":"sdk/#sdk_1","text":"","title":"SDK\u6253\u5305\u65b9\u6cd5"},{"location":"sdk/#library-modulebuildgradle","text":"//\u533a\u522b\u4e8eapplication\uff0c\u8fd9\u610f\u5473\u7740\u8be5module\u5c06\u88ab\u89c6\u4e3alibrary apply plugin: 'com.android.library' //\u81ea\u5b9a\u4e49\u7684\u4e00\u4e2a\u65b9\u6cd5\uff0c\u7528\u6765\u83b7\u53d6\u5f53\u524d\u65f6\u95f4 static def releaseTime() { return new Date().format(\"yyyy-MM-dd\", TimeZone.getTimeZone(\"UTC\")) } android { compileSdkVersion 29 buildToolsVersion \"29.0.3\" defaultConfig { minSdkVersion 21 targetSdkVersion 29 versionCode 1 versionName \"1.0\" consumerProguardFiles \"proguard-rules.pro\"//\u914d\u7f6e\u81ea\u5b9a\u4e49\u7684\u6df7\u6dc6\u89c4\u5219\uff0c\u8be5\u5b57\u6bb5\u4e0b\u7684\u6df7\u6dc6\u89c4\u5219\u5c06\u4f5c\u7528\u4e8e\u96c6\u6210\u8be5SDK\u7684APP testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\" ndk { abiFilters 'armeabi-v7a','arm64-v8a'//\u663e\u5f0f\u9650\u5b9asdk\u652f\u6301\u7684arm\u67b6\u6784\u6307\u4ee4\u96c6 } } signingConfigs { release { storeFile file(\"../key/mylib.jks\")//\u76f8\u5bf9\u8def\u5f84\u4e0b\u7684\u7b7e\u540d\u6587\u4ef6 storePassword \"Android_2333\" keyAlias \"key-sdk\" keyPassword \"Android_2333\" } } buildTypes { release { minifyEnabled true shrinkResources false//sdk module\u7f16\u8bd1\u65f6\uff0c\u4e0d\u652f\u6301\u8bbe\u7f6eshrinkResources\u4e3atrue signingConfig signingConfigs.release proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'//\u7f16\u8bd1\u672cmodule\u65f6\u53c2\u4e0e\u6df7\u6dc6\u914d\u7f6e\u7684\u6587\u4ef6 } debug { minifyEnabled false shrinkResources false //sdk module\u7f16\u8bd1\u65f6\uff0c\u4e0d\u652f\u6301\u8bbe\u7f6eshrinkResources\u4e3atrue signingConfig signingConfigs.release proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'//\u7f16\u8bd1\u672cmodule\u65f6\u53c2\u4e0e\u6df7\u6dc6\u914d\u7f6e\u7684\u6587\u4ef6 } } //\u81ea\u52a8\u63d0\u53d6\u7f16\u8bd1\u751f\u6210\u7684aar\u6587\u4ef6\uff0c\u91cd\u547d\u540d\uff0c\u6700\u540e\u81ea\u52a8\u590d\u5236\u5230appmodule\u4e0b\u7684libs\u76ee\u5f55\uff0c\u65b9\u4fbf\u8c03\u8bd5\u9a8c\u8bc1\u3002 libraryVariants.all { variant -> if (variant.buildType.name == 'release') { variant.assembleProvider.get().doLast { variant.outputs.each { output -> def outputFile = output.outputFile if (outputFile != null && outputFile.name.endsWith('release.aar')) { // def fileName = \"${project.name}-release-${android.defaultConfig.versionName}-${releaseTime()}\" def outputPath = \"../mylib/build/aar\" def libPath = \"../app/libs\" copy { from outputFile into outputPath // rename { fileName + \".aar\" } } //\u76f4\u63a5\u590d\u5236\u5230App\u7684libs\u76ee\u5f55\u4e0b\uff0c\u65b9\u4fbf\u8c03\u8bd5 copy { from outputFile into libPath } } } } } } } dependencies { //\u8fd9\u53e5\u8bdd\u4ee3\u8868\u96c6\u5f15\u5165libs\u76ee\u5f55\u4e0b\u7684\u6240\u6709jar\u5305 implementation fileTree(dir: \"libs\", include: [\"*.jar\"]) implementation 'com.android.support:support-v4:28.0.0' implementation 'com.android.support:appcompat-v7:28.0.0' } \u5982\u4f55\u6253\u4e00\u4e2aaar\u5305\uff1a \u53cc\u51fbgradle\u811a\u672cassembleRelease\uff0c\u6267\u884c\u6b63\u5f0faar\u7f16\u8bd1\u751f\u6210\u8fc7\u7a0b; \u7f16\u8bd1\u5b8c\u6210\uff0c\u53ef\u4ee5\u770b\u5230outputs\u76ee\u5f55\u4e0b\u81ea\u52a8\u751f\u6210\u4e86\u4e00\u4e2aaar\u6587\u4ef6\uff0c\u540c\u65f6\u6211\u4eec\u7684\u811a\u672c\u4e5f\u751f\u6548\u4e86\uff0c\u5c06\u5176\u590d\u5236\u5230\u4e86\u6307\u5b9a\u7684\u76ee\u5f55\u4e0b\uff08\u8fd9\u91cc\u53ef\u4ee5\u505a\u4e00\u4e0b\u81ea\u52a8\u7248\u672c\u547d\u540d\u4e4b\u7c7b\u7684\u5de5\u4f5c\uff09","title":"library module\u4e0b\u7684build.gradle\u6a21\u677f\u914d\u7f6e\uff1a"},{"location":"sdk/#_13","text":"","title":"\u4f9d\u8d56\u539f\u5219\uff0c\u5c3d\u91cf\u907f\u514d\u7b2c\u4e09\u65b9\u5e93\u7684\u4f9d\u8d56"},{"location":"sdk/#_14","text":"\u5f3a\u5236\u4f7f\u7528\u6307\u5b9a\u7248\u672c","title":"\u5982\u4f55\u89e3\u51b3\u7ec4\u4ef6\u4f9d\u8d56\u51b2\u7a81\uff1a"},{"location":"sdk/#aar","text":"//\u5982\u679c\u662f\u4fee\u6539apk\u548cjar\u7684\u540d\u79f0\u76f4\u63a5\u4fee\u6539\u540e\u7f00\u5373\u53ef\u3002 android{ //... android.libraryVariants.all{ variant -> variant.outputs.all{ def fileName = \"${project.name}_${buildType.name}_v${defaultConfig.versionName}_${defaultConfig.versionCode}.aar\" outputFileName = fileName } } //... } ${project.name}\u4e5f\u5c31\u662f\u5f53\u524dmodule\u7684\u540d\u5b57 ${buildType.name}\u5c31\u662f\u5f53\u524d\u6784\u5efa\u7684\u7c7b\u578b\uff0c\u4f8b\u5982 debug \u6216\u8005 release ${defaultConfig.versionName}\u548c${defaultConfig.versionCode}\u5219\u5206\u522b\u5bf9\u5e94\u4e86defaultConfig\u4e2d\u7684versionName\u548cversionCode","title":"\u81ea\u5b9a\u4e49aar\u540d\u79f0"},{"location":"sdkexception/","text":"\u6545\u969c\u590d\u76d8\u8bb0\u5f55 \u65b0\u589e\u56de\u8c03\u4e8b\u4ef6\u5f15\u53d1\u7684\u7a7a\u6307\u9488\u5f02\u5e38 \u573a\u666f\uff1a\u6bd4\u5982\u7ed9\u5f39\u51fa\u5e7f\u544a\u4e8b\u4ef6\u589e\u52a0\u56de\u8c03\uff0c\u66b4\u9732\u51fa\u53bb\u4e00\u4e2asetAdvertiseMentListener(AdvertiseMentListener);\u65b9\u6cd5\u3002\u7136\u540e\u5728sdk\u5bf9\u5916\u66b4\u9732\u7684\u63a5\u53e3\u7c7b\u4e2d\uff0c\u65b0\u589e\u79c1\u6709set\u548cget\u65b9\u6cd5\uff0c\u7136\u540e\u518dsdk\u5185\u90e8\u5408\u9002\u7684\u5730\u65b9\u6765\u8c03\u7528get\u65b9\u6cd5\u5c06\u4e8b\u4ef6\u56de\u8c03\u51fa\u53bb\uff0c \u590d\u73b0\uff1a\u7528\u6237\u5982\u679c\u6ca1\u6709\u8c03\u7528\u8bbe\u7f6e\u76d1\u542c\u7684\u65b9\u6cd5\uff0c\u7136\u540esdk\u5185\u90e8\u56de\u8c03\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019\u53bb\u8c03\u7528get\u65b9\u6cd5\u6765\u83b7\u53d6\u76d1\u542c\u8fdb\u884c\u56de\u8c03\u4f1a\u89e6\u53d1\u7a7a\u6307\u9488\u3002","title":"AndroidSDK\u6545\u969c\u8bb0\u5f55"},{"location":"sdkexception/#_1","text":"","title":"\u6545\u969c\u590d\u76d8\u8bb0\u5f55"},{"location":"sdkexception/#_2","text":"\u573a\u666f\uff1a\u6bd4\u5982\u7ed9\u5f39\u51fa\u5e7f\u544a\u4e8b\u4ef6\u589e\u52a0\u56de\u8c03\uff0c\u66b4\u9732\u51fa\u53bb\u4e00\u4e2asetAdvertiseMentListener(AdvertiseMentListener);\u65b9\u6cd5\u3002\u7136\u540e\u5728sdk\u5bf9\u5916\u66b4\u9732\u7684\u63a5\u53e3\u7c7b\u4e2d\uff0c\u65b0\u589e\u79c1\u6709set\u548cget\u65b9\u6cd5\uff0c\u7136\u540e\u518dsdk\u5185\u90e8\u5408\u9002\u7684\u5730\u65b9\u6765\u8c03\u7528get\u65b9\u6cd5\u5c06\u4e8b\u4ef6\u56de\u8c03\u51fa\u53bb\uff0c \u590d\u73b0\uff1a\u7528\u6237\u5982\u679c\u6ca1\u6709\u8c03\u7528\u8bbe\u7f6e\u76d1\u542c\u7684\u65b9\u6cd5\uff0c\u7136\u540esdk\u5185\u90e8\u56de\u8c03\u4e8b\u4ef6\u89e6\u53d1\u7684\u65f6\u5019\u53bb\u8c03\u7528get\u65b9\u6cd5\u6765\u83b7\u53d6\u76d1\u542c\u8fdb\u884c\u56de\u8c03\u4f1a\u89e6\u53d1\u7a7a\u6307\u9488\u3002","title":"\u65b0\u589e\u56de\u8c03\u4e8b\u4ef6\u5f15\u53d1\u7684\u7a7a\u6307\u9488\u5f02\u5e38"},{"location":"sdkversion/","text":"Android\u5404\u7248\u672c\u5bf9\u5e94sdk\u7248\u672c \u5e73\u53f0\u7248\u672c SDK\u7248\u672c \u7248\u672c\u540d\u79f0 Android 10 29 Android Q Android 9.0 28 Pie (Android P) Android 8.1 27 Oreo(Android O)\uff08\u5965\u5229\u5965\uff09 Android 8.0 26 Oreo Android 7.1 25 Nougat Android 7.0 24 Nougat Android 6.0 23 Marshmallow Android 5.1 22 Lollipop Android 5.0 21 Lollipop Android 4.4 19 KITKAT Android 4.3 18 JELLY_BEAN_MR2 Android 4.2, 4.2.2 17 JELLY_BEAN_MR1 Android 4.1, 4.1.1 16 JELLY_BEAN Android 4.0.3, 4.0.4 15 ICE_CREAM_SANDWICH_MR1 Android 4.0, 4.0.1, 4.0.2 14 ICE_CREAM_SANDWICH Android 3.2 13 HONEYCOMB_MR2 Android 3.1.x 12 HONEYCOMB_MR1 Android 3.0.x 11 HONEYCOMB Android 2.3.4 10 GINGERBREAD_MR1 Android 2.3.3 10 GINGERBREAD_MR1 Android 2.3.2 9 GINGERBREAD Android 2.3.1 9 GINGERBREAD Android 2.3 9 GINGERBREAD Android 2.2.x 8 FROYO Android 2.1.x 7 ECLAIR_MR1 Android 2.0.1 6 ECLAIR_0_1 Android 2.0 5 ECLAIR Android 1.6 4 DONUT Android 1.5 3 CUPCAKE Android 1.1 2 BASE_1_1 Android 1.0 1 BASE","title":"Android\u7248\u672c\u5bf9\u5e94SDK\u7248\u672c"},{"location":"sdkversion/#androidsdk","text":"\u5e73\u53f0\u7248\u672c SDK\u7248\u672c \u7248\u672c\u540d\u79f0 Android 10 29 Android Q Android 9.0 28 Pie (Android P) Android 8.1 27 Oreo(Android O)\uff08\u5965\u5229\u5965\uff09 Android 8.0 26 Oreo Android 7.1 25 Nougat Android 7.0 24 Nougat Android 6.0 23 Marshmallow Android 5.1 22 Lollipop Android 5.0 21 Lollipop Android 4.4 19 KITKAT Android 4.3 18 JELLY_BEAN_MR2 Android 4.2, 4.2.2 17 JELLY_BEAN_MR1 Android 4.1, 4.1.1 16 JELLY_BEAN Android 4.0.3, 4.0.4 15 ICE_CREAM_SANDWICH_MR1 Android 4.0, 4.0.1, 4.0.2 14 ICE_CREAM_SANDWICH Android 3.2 13 HONEYCOMB_MR2 Android 3.1.x 12 HONEYCOMB_MR1 Android 3.0.x 11 HONEYCOMB Android 2.3.4 10 GINGERBREAD_MR1 Android 2.3.3 10 GINGERBREAD_MR1 Android 2.3.2 9 GINGERBREAD Android 2.3.1 9 GINGERBREAD Android 2.3 9 GINGERBREAD Android 2.2.x 8 FROYO Android 2.1.x 7 ECLAIR_MR1 Android 2.0.1 6 ECLAIR_0_1 Android 2.0 5 ECLAIR Android 1.6 4 DONUT Android 1.5 3 CUPCAKE Android 1.1 2 BASE_1_1 Android 1.0 1 BASE","title":"Android\u5404\u7248\u672c\u5bf9\u5e94sdk\u7248\u672c"},{"location":"test/","text":"\u5355\u5143\u6d4b\u8bd5JUNIT4 \u6bcf\u4e2a\u9879\u76ee\u90fd\u662f\u7531\u6210\u767e\u4e0a\u5343\u4e2a\u51fd\u6570\u7ec4\u6210\uff0c\u6bcf\u7f16\u5199\u5b8c\u4e00\u4e2a\u51fd\u6570\u90fd\u8981\u5bf9\u8fd9\u4e2a\u51fd\u6570\u7684\u65b9\u65b9\u9762\u9762\u8fdb\u884c\u6d4b\u8bd5\uff0c\u8fd9\u6837\u7684\u6d4b\u8bd5\u79f0\u4e4b\u4e3a\u5355\u5143\u6d4b\u8bd5\u3002 \u672c\u5730\u5355\u5143\u6d4b\u8bd5Local Unit Test \u8fd9\u79cd\u6d4b\u8bd5\u8fd0\u884c\u5728\u672c\u5730\u5f00\u53d1\u73af\u5883\u7684java\u865a\u62df\u673a\u4e0a\uff0c\u4e0d\u9700\u8981\u8fde\u63a5\u5b89\u5353\u8bbe\u5907\u6216\u8005\u865a\u62df\u5668\uff0c\u65e0\u6cd5\u83b7\u5f97\u5b89\u5353\u76f8\u5173api,\u53ea\u80fd\u4f7f\u7528java\u76f8\u5173api \u6d4b\u8bd5\u7c7b\u4ee3\u7801\u7f16\u5199\u4e5f\u5f88\u7b80\u5355\uff0c\u4e3b\u8981\u901a\u8fc7\u4e00\u4e9b\u6ce8\u89e3\u548c\u65ad\u8a00\u6765\u5b9e\u73b0\u3002 Junit4 \u6ce8\u89e3 @Before\u6807\u6ce8setup\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u90fd\u4f1a\u8c03\u7528 @After\u6807\u6ce8teardown\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\u65b9\u6cd5\u8c03\u7528\u4e4b\u540e\u90fd\u4f1a\u8c03\u7528 @Test\u6807\u6ce8\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u662f\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b @BeforeClass\u6807\u6ce8\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u5728\u5f53\u524d\u6d4b\u8bd5\u7c7b\u6240\u6709\u7528\u4f8b\u65b9\u6cd5\u6267\u884c\u4e4b\u524d\u6267\u884c @AfterClass\u6807\u6ce8\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u5728\u5f53\u524d\u6d4b\u8bd5\u7c7b\u6240\u6709\u7528\u4f8b\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\u6267\u884c @Test(timeout=)\u4e3a\u6d4b\u8bd5\u7528\u4f8b\u6307\u5b9a\u8d85\u65f6\u65f6\u95f4 \u65ad\u8a00 Junit\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u65ad\u8a00\u6765\u5224\u65ad\u662fpass\u8fd8\u662ffail assertTrue(condition)\uff1acondition\u4e3a\u771fpass\uff0c\u5426\u5219fail assertFalse(condition)\uff1acondition\u4e3a\u5047pass\uff0c\u5426\u5219fail fail()\uff1a\u76f4\u63a5fail assertEquals(expected, actual)\uff1aexpected equal actual pass\uff0c\u5426\u5219fail assertSame(expected, actual)\uff1aexpected == actual pass\uff0c\u5426\u5219fail \u8bbe\u5907\u5355\u5143\u6d4b\u8bd5Instrumented Unit Test \u8fd9\u79cd\u6d4b\u8bd5\u65b9\u6cd5\u9700\u8981\u8fde\u63a5\u5b89\u5353\u8bbe\u5907\u6216\u8005\u6a21\u62df\u5668\uff0c\u53ef\u4ee5\u8c03\u7528android\u4e2dapi(\u5982\u8bbe\u5907\u4fe1\u606f\uff0c\u4e0a\u4e0b\u6587\u7b49) \uff0c\u4f7f\u7528\u65b9\u6cd5\u662f\u7ed9\u7c7b\u52a0\u4e0a\u6ce8\u89e3@RunWith(AndroidJunit4.class)\u6ce8\u89e3\u4f5c\u4e3a\u524d\u7f00\u3002 @RunWith(AndroidJUnit4.class) public class ExampleInstrumentedTest { @Test public void useAppContext() throws Exception { // Context of the app under test. Context appContext = InstrumentationRegistry.getTargetContext(); assertEquals(\"top.qingningshe.test\", appContext.getPackageName()); } } \u76f8\u5bf9\u4e8eLocal Unit Test \u591a\u4e86\u8bbf\u95ee\u8bbe\u5907\u4fe1\u606f\u548c\u6d4b\u8bd5\u7b5b\u9009 \u8bbf\u95ee\u8bbe\u5907\u4fe1\u606f \u53ef\u4ee5\u4f7f\u7528instrumentationRegisty\u7c7b\u8bbf\u95ee\u4e0e\u6d4b\u8bd5\u8fd0\u884c\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u5305\u62ecinstrumentation\u5bf9\u8c61\uff0c\u76ee\u6807\u5e94\u7528context\u5bf9\u8c61\uff0c\u6d4b\u8bd5\u5e94\u7528context\u5bf9\u8c61\u3002 \u6d4b\u8bd5\u7b5b\u9009 * @RequiresDevice:\u6307\u5b9a\u6d4b\u8bd5\u4ec5\u5728\u7269\u7406\u8bbe\u5907\u800c\u4e0d\u5728\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\u3002 * @SdkSupress:\u7981\u6b62\u5728\u4f4e\u4e8e\u7ed9\u5b9a\u7ea7\u522b\u7684Android API \u4e0a\u8fd0\u884c\u6d4b\u8bd5\uff0c\u5982\uff1a@SDKSupress(minSdkVersion=18) * @SmallTest\u3001@MediumTest\u548c@LargeTest\uff1a\u6307\u5b9a\u6d4b\u8bd5\u7684\u8fd0\u884c\u65f6\u957f\u4ee5\u53ca\u8fd0\u884c\u9891\u7387\u3002 \u538b\u529b\u6d4b\u8bd5Monkey Monkey\u662fAndroid\u4e2d\u7684\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u8fd0\u884c\u5728\u6a21\u62df\u5668\u91cc\u6216\u5b9e\u9645\u8bbe\u5907\u4e2d\u3002\u5b83\u5411\u7cfb\u7edf\u53d1\u9001\u4f2a\u968f\u673a\u7684\u7528\u6237\u4e8b\u4ef6\u6d41(\u5982\u6309\u952e\u8f93\u5165\u3001\u89e6\u6478\u5c4f\u8f93\u5165\u3001\u624b\u52bf\u8f93\u5165\u7b49)\uff0c\u5b9e\u73b0\u5bf9\u6b63\u5728\u5f00\u53d1\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u3002Monkey\u6d4b\u8bd5\u662f\u4e00\u79cd\u4e3a\u4e86\u6d4b\u8bd5\u8f6f\u4ef6\u7684\u7a33\u5b9a\u6027\u3001\u5065\u58ee\u6027\u7684\u5feb\u901f\u6709\u6548\u7684\u65b9\u6cd5\u3002 #### mokey\u7684\u7279\u70b9 \u6d4b\u8bd5\u7684\u5bf9\u8c61\u4ec5\u4e3a\u5e94\u7528\u7a0b\u5e8f\u5305\uff0c\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002 Monky\u6d4b\u8bd5\u4f7f\u7528\u7684\u4e8b\u4ef6\u6d41\u6570\u636e\u6d41\u662f\u968f\u673a\u7684\uff0c\u4e0d\u80fd\u8fdb\u884c\u81ea\u5b9a\u4e49\u3002 \u53ef\u5bf9MonkeyTest\u7684\u5bf9\u8c61\uff0c\u4e8b\u4ef6\u6570\u91cf\uff0c\u7c7b\u578b\uff0c\u9891\u7387\u7b49\u8fdb\u884c\u8bbe\u7f6e\u3002 #### monkey\u7528\u6cd5 adb shell monkey [options] <event-count> options\u8fd9\u4e2a\u662f\u914d\u7f6emonkey\u7684\u8bbe\u7f6e\uff0c\u5982\u6307\u5b9a\u542f\u52a8\u54ea\u4e2a\u5305\uff0c\u4e0d\u6307\u5b9a\u5c06\u4f1a\u968f\u673a\u542f\u52a8\u6240\u6709\u7a0b\u5e8f\uff0cevent-count\u8fd9\u4e2a\u662f\u8ba9monkey\u53d1\u9001\u591a\u5c11\u6b21\u4e8b\u4ef6 \u4f8b\uff1aadb shell monkey -p com.android.test -v 5000 \u5411test\u5305\u53d1\u9001\u4e94\u5343\u6b21\u968f\u673a\u4e8b\u4ef6 ``` \u4e8b\u4ef6 ``` monkey\u505c\u6b62\u6761\u4ef6 \u5982\u679c\u9650\u5b9a\u4e86Monkey\u8fd0\u884c\u5728\u4e00\u4e2a\u6216\u51e0\u4e2a\u7279\u5b9a\u7684\u5305\u4e0a\uff0c\u90a3\u4e48\u5b83\u4f1a\u76d1\u6d4b\u8bd5\u56fe\u8f6c\u5230\u5176\u5b83\u5305\u7684\u64cd\u4f5c\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u963b\u6b62\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u5d29\u6e83\u6216\u63a5\u6536\u5230\u4efb\u4f55\u5931\u63a7\u5f02\u5e38\uff0cMonkey\u5c06\u505c\u6b62\u5e76\u62a5\u9519\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u4ea7\u751f\u4e86\u5e94\u7528\u7a0b\u5e8f\u4e0d\u54cd\u5e94(ANR)\u7684\u9519\u8bef\uff0cMonkey\u5c06\u4f1a\u505c\u6b62\u5e76\u62a5\u9519\u3002","title":"\u5355\u5143\u6d4b\u8bd5Monkey"},{"location":"test/#junit4","text":"\u6bcf\u4e2a\u9879\u76ee\u90fd\u662f\u7531\u6210\u767e\u4e0a\u5343\u4e2a\u51fd\u6570\u7ec4\u6210\uff0c\u6bcf\u7f16\u5199\u5b8c\u4e00\u4e2a\u51fd\u6570\u90fd\u8981\u5bf9\u8fd9\u4e2a\u51fd\u6570\u7684\u65b9\u65b9\u9762\u9762\u8fdb\u884c\u6d4b\u8bd5\uff0c\u8fd9\u6837\u7684\u6d4b\u8bd5\u79f0\u4e4b\u4e3a\u5355\u5143\u6d4b\u8bd5\u3002","title":"\u5355\u5143\u6d4b\u8bd5JUNIT4"},{"location":"test/#local-unit-test","text":"\u8fd9\u79cd\u6d4b\u8bd5\u8fd0\u884c\u5728\u672c\u5730\u5f00\u53d1\u73af\u5883\u7684java\u865a\u62df\u673a\u4e0a\uff0c\u4e0d\u9700\u8981\u8fde\u63a5\u5b89\u5353\u8bbe\u5907\u6216\u8005\u865a\u62df\u5668\uff0c\u65e0\u6cd5\u83b7\u5f97\u5b89\u5353\u76f8\u5173api,\u53ea\u80fd\u4f7f\u7528java\u76f8\u5173api \u6d4b\u8bd5\u7c7b\u4ee3\u7801\u7f16\u5199\u4e5f\u5f88\u7b80\u5355\uff0c\u4e3b\u8981\u901a\u8fc7\u4e00\u4e9b\u6ce8\u89e3\u548c\u65ad\u8a00\u6765\u5b9e\u73b0\u3002","title":"\u672c\u5730\u5355\u5143\u6d4b\u8bd5Local Unit Test"},{"location":"test/#junit4_1","text":"@Before\u6807\u6ce8setup\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\u65b9\u6cd5\u8c03\u7528\u4e4b\u524d\u90fd\u4f1a\u8c03\u7528 @After\u6807\u6ce8teardown\u65b9\u6cd5\uff0c\u6bcf\u4e2a\u5355\u5143\u6d4b\u8bd5\u7528\u4f8b\u65b9\u6cd5\u8c03\u7528\u4e4b\u540e\u90fd\u4f1a\u8c03\u7528 @Test\u6807\u6ce8\u7684\u6bcf\u4e2a\u65b9\u6cd5\u90fd\u662f\u4e00\u4e2a\u6d4b\u8bd5\u7528\u4f8b @BeforeClass\u6807\u6ce8\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u5728\u5f53\u524d\u6d4b\u8bd5\u7c7b\u6240\u6709\u7528\u4f8b\u65b9\u6cd5\u6267\u884c\u4e4b\u524d\u6267\u884c @AfterClass\u6807\u6ce8\u7684\u9759\u6001\u65b9\u6cd5\uff0c\u5728\u5f53\u524d\u6d4b\u8bd5\u7c7b\u6240\u6709\u7528\u4f8b\u65b9\u6cd5\u6267\u884c\u4e4b\u540e\u6267\u884c @Test(timeout=)\u4e3a\u6d4b\u8bd5\u7528\u4f8b\u6307\u5b9a\u8d85\u65f6\u65f6\u95f4","title":"Junit4 \u6ce8\u89e3"},{"location":"test/#_1","text":"Junit\u63d0\u4f9b\u4e86\u4e00\u7cfb\u5217\u65ad\u8a00\u6765\u5224\u65ad\u662fpass\u8fd8\u662ffail assertTrue(condition)\uff1acondition\u4e3a\u771fpass\uff0c\u5426\u5219fail assertFalse(condition)\uff1acondition\u4e3a\u5047pass\uff0c\u5426\u5219fail fail()\uff1a\u76f4\u63a5fail assertEquals(expected, actual)\uff1aexpected equal actual pass\uff0c\u5426\u5219fail assertSame(expected, actual)\uff1aexpected == actual pass\uff0c\u5426\u5219fail","title":"\u65ad\u8a00"},{"location":"test/#instrumented-unit-test","text":"\u8fd9\u79cd\u6d4b\u8bd5\u65b9\u6cd5\u9700\u8981\u8fde\u63a5\u5b89\u5353\u8bbe\u5907\u6216\u8005\u6a21\u62df\u5668\uff0c\u53ef\u4ee5\u8c03\u7528android\u4e2dapi(\u5982\u8bbe\u5907\u4fe1\u606f\uff0c\u4e0a\u4e0b\u6587\u7b49) \uff0c\u4f7f\u7528\u65b9\u6cd5\u662f\u7ed9\u7c7b\u52a0\u4e0a\u6ce8\u89e3@RunWith(AndroidJunit4.class)\u6ce8\u89e3\u4f5c\u4e3a\u524d\u7f00\u3002 @RunWith(AndroidJUnit4.class) public class ExampleInstrumentedTest { @Test public void useAppContext() throws Exception { // Context of the app under test. Context appContext = InstrumentationRegistry.getTargetContext(); assertEquals(\"top.qingningshe.test\", appContext.getPackageName()); } } \u76f8\u5bf9\u4e8eLocal Unit Test \u591a\u4e86\u8bbf\u95ee\u8bbe\u5907\u4fe1\u606f\u548c\u6d4b\u8bd5\u7b5b\u9009","title":"\u8bbe\u5907\u5355\u5143\u6d4b\u8bd5Instrumented Unit Test"},{"location":"test/#_2","text":"\u53ef\u4ee5\u4f7f\u7528instrumentationRegisty\u7c7b\u8bbf\u95ee\u4e0e\u6d4b\u8bd5\u8fd0\u884c\u76f8\u5173\u7684\u4fe1\u606f\uff0c\u5305\u62ecinstrumentation\u5bf9\u8c61\uff0c\u76ee\u6807\u5e94\u7528context\u5bf9\u8c61\uff0c\u6d4b\u8bd5\u5e94\u7528context\u5bf9\u8c61\u3002","title":"\u8bbf\u95ee\u8bbe\u5907\u4fe1\u606f"},{"location":"test/#_3","text":"* @RequiresDevice:\u6307\u5b9a\u6d4b\u8bd5\u4ec5\u5728\u7269\u7406\u8bbe\u5907\u800c\u4e0d\u5728\u6a21\u62df\u5668\u4e0a\u8fd0\u884c\u3002 * @SdkSupress:\u7981\u6b62\u5728\u4f4e\u4e8e\u7ed9\u5b9a\u7ea7\u522b\u7684Android API \u4e0a\u8fd0\u884c\u6d4b\u8bd5\uff0c\u5982\uff1a@SDKSupress(minSdkVersion=18) * @SmallTest\u3001@MediumTest\u548c@LargeTest\uff1a\u6307\u5b9a\u6d4b\u8bd5\u7684\u8fd0\u884c\u65f6\u957f\u4ee5\u53ca\u8fd0\u884c\u9891\u7387\u3002","title":"\u6d4b\u8bd5\u7b5b\u9009"},{"location":"test/#monkey","text":"Monkey\u662fAndroid\u4e2d\u7684\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u53ef\u4ee5\u8fd0\u884c\u5728\u6a21\u62df\u5668\u91cc\u6216\u5b9e\u9645\u8bbe\u5907\u4e2d\u3002\u5b83\u5411\u7cfb\u7edf\u53d1\u9001\u4f2a\u968f\u673a\u7684\u7528\u6237\u4e8b\u4ef6\u6d41(\u5982\u6309\u952e\u8f93\u5165\u3001\u89e6\u6478\u5c4f\u8f93\u5165\u3001\u624b\u52bf\u8f93\u5165\u7b49)\uff0c\u5b9e\u73b0\u5bf9\u6b63\u5728\u5f00\u53d1\u7684\u5e94\u7528\u7a0b\u5e8f\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u3002Monkey\u6d4b\u8bd5\u662f\u4e00\u79cd\u4e3a\u4e86\u6d4b\u8bd5\u8f6f\u4ef6\u7684\u7a33\u5b9a\u6027\u3001\u5065\u58ee\u6027\u7684\u5feb\u901f\u6709\u6548\u7684\u65b9\u6cd5\u3002 #### mokey\u7684\u7279\u70b9 \u6d4b\u8bd5\u7684\u5bf9\u8c61\u4ec5\u4e3a\u5e94\u7528\u7a0b\u5e8f\u5305\uff0c\u6709\u4e00\u5b9a\u7684\u5c40\u9650\u6027\u3002 Monky\u6d4b\u8bd5\u4f7f\u7528\u7684\u4e8b\u4ef6\u6d41\u6570\u636e\u6d41\u662f\u968f\u673a\u7684\uff0c\u4e0d\u80fd\u8fdb\u884c\u81ea\u5b9a\u4e49\u3002 \u53ef\u5bf9MonkeyTest\u7684\u5bf9\u8c61\uff0c\u4e8b\u4ef6\u6570\u91cf\uff0c\u7c7b\u578b\uff0c\u9891\u7387\u7b49\u8fdb\u884c\u8bbe\u7f6e\u3002 #### monkey\u7528\u6cd5 adb shell monkey [options] <event-count> options\u8fd9\u4e2a\u662f\u914d\u7f6emonkey\u7684\u8bbe\u7f6e\uff0c\u5982\u6307\u5b9a\u542f\u52a8\u54ea\u4e2a\u5305\uff0c\u4e0d\u6307\u5b9a\u5c06\u4f1a\u968f\u673a\u542f\u52a8\u6240\u6709\u7a0b\u5e8f\uff0cevent-count\u8fd9\u4e2a\u662f\u8ba9monkey\u53d1\u9001\u591a\u5c11\u6b21\u4e8b\u4ef6 \u4f8b\uff1aadb shell monkey -p com.android.test -v 5000 \u5411test\u5305\u53d1\u9001\u4e94\u5343\u6b21\u968f\u673a\u4e8b\u4ef6 ``` \u4e8b\u4ef6 ```","title":"\u538b\u529b\u6d4b\u8bd5Monkey"},{"location":"test/#monkey_1","text":"\u5982\u679c\u9650\u5b9a\u4e86Monkey\u8fd0\u884c\u5728\u4e00\u4e2a\u6216\u51e0\u4e2a\u7279\u5b9a\u7684\u5305\u4e0a\uff0c\u90a3\u4e48\u5b83\u4f1a\u76d1\u6d4b\u8bd5\u56fe\u8f6c\u5230\u5176\u5b83\u5305\u7684\u64cd\u4f5c\uff0c\u5e76\u5bf9\u5176\u8fdb\u884c\u963b\u6b62\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u5d29\u6e83\u6216\u63a5\u6536\u5230\u4efb\u4f55\u5931\u63a7\u5f02\u5e38\uff0cMonkey\u5c06\u505c\u6b62\u5e76\u62a5\u9519\u3002 \u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u4ea7\u751f\u4e86\u5e94\u7528\u7a0b\u5e8f\u4e0d\u54cd\u5e94(ANR)\u7684\u9519\u8bef\uff0cMonkey\u5c06\u4f1a\u505c\u6b62\u5e76\u62a5\u9519\u3002","title":"monkey\u505c\u6b62\u6761\u4ef6"},{"location":"thread/","text":"[Toc] \u5b9a\u4e49\u7684\u7406\u89e3 \u4e3b\u7ebf\u7a0b\u3001\u5de5\u4f5c\u7ebf\u7a0b\u3001\u7ebf\u7a0b\u901a\u4fe1 1. \u4e3b\u7ebf\u7a0b \u5e94\u7528\u542f\u52a8\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4e3a\u8be5\u5e94\u7528\u521b\u5efa\u4e00\u4e2a\u4e3b\u7ebf\u7a0b\uff0c\u8be5\u7ebf\u7a0b\u5f88\u91cd\u8981\uff0c\u6240\u6709\u7684ui\u64cd\u4f5c\u5fc5\u987b\u5728\u8be5\u7ebf\u7a0b\u6267\u884c\uff0c\u5e76\u4e14\u8be5\u7ebf\u7a0b\u4e0d\u80fd\u963b\u585e\uff0c5s\u4f1a\u53d1\u751fanr\u3002 2. \u5de5\u4f5c\u7ebf\u7a0b \u4e3b\u7ebf\u7a0b\u5916\u7528\u6765\u6267\u884c\u4efb\u52a1\u7684\u7ebf\u7a0b\uff0c\u6267\u884c\u5b8c\u4efb\u52a1\u540e\u5fc5\u987b\u901a\u8fc7\u4e3b\u7ebf\u7a0b\u66f4\u65b0\u754c\u9762\u3002 3. \u5de5\u4f5c\u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u901a\u4fe1 * Activity.runOnUiThread(Runnable) * View.post(Runnable) public void onClick(View v) { new Thread(new Runnable() { public void run() { // a potentially time consuming task final Bitmap bitmap = processBitMap(\"image.png\"); imageView.post(new Runnable() { public void run() { imageView.setImageBitmap(bitmap); } }); } }).start(); } Handler \u5904\u7406\u590d\u6742\u7684\u7ebf\u7a0b\u95f4\u901a\u4fe1 AsyncTask api30\u4e0d\u63a8\u8350\u4e86\uff0cconcurrent\u4ee3\u66ff 1. \u521b\u5efaAsyncTask\u7684\u5b50\u7c7b\u5e76\u5b9e\u73b0doInBackground,onProgressUpdate,onpostExcute private class DownloadFilesTask extends AsyncTask<URL, Integer, Long> { protected Long doInBackground(URL... urls) { int count = urls.length; long totalSize = 0; for (int i = 0; i < count; i++) { totalSize += Downloader.downloadFile(urls[i]); publishProgress((int) ((i / (float) count) * 100)); // Escape early if cancel() is called if (isCancelled()) break; } return totalSize; } protected void onProgressUpdate(Integer... progress) { setProgressPercent(progress[0]); } protected void onPostExecute(Long result) { showDialog(\"Downloaded \" + result + \" bytes\"); } } 2.\u5f00\u59cb\u8be5\u4efb\u52a1 new DownloadFilesTask().execute(url1, url2, url3); Thread\u7c7b\u7684\u5e38\u7528\u65b9\u6cd5 start()\u65b9\u6cd5\uff1a\u5f00\u59cb\u6267\u884c\u8be5\u7ebf\u7a0b stop()\u65b9\u6cd5\uff1a\u5f3a\u5236\u7ed3\u675f\u8be5\u7ebf\u7a0b join()\u65b9\u6cd5 \uff1a\u7b49\u5f85\u8be5\u7ebf\u7a0b\u7ed3\u675f sleep()\u65b9\u6cd5\uff1a\u8be5\u7ebf\u7a0b\u8fdb\u5165\u7b49\u5f85 run()\u65b9\u6cd5 :\u76f4\u63a5\u6267\u884c\u8be5\u7ebf\u7a0b\u7684run\u65b9\u6cd5\uff08\u7ebf\u7a0b\u8c03\u7528start()\u4e5f\u4f1a\u6267\u884crun\u65b9\u6cd5\uff0c\u533a\u522b\u662f\u4e00\u4e2a\u662f\u7531\u7ebf\u7a0b\u8c03\u5ea6\u8fd0\u884crun \u65b9\u6cd5\uff0c\u4e00\u4e2a\u662f\u76f4\u63a5\u8c03\u7528\u7ebf\u7a0b\u4e2d\u7684run\u65b9\u6cd5\uff09 \u6ce8\u610f\uff1await()\u548cnotify()\u662fobject\u4e2d\u7684\u65b9\u6cd5\uff0c\u5206\u522b\u8868\u793a\u7ebf\u7a0b\u6302\u8d77\u548c\u7ebf\u7a0b\u6062\u590d wait()\u4e0esleep()\u7684\u533a\u522b\uff1await()\u4f1a\u91ca\u653e\u5bf9\u8c61\u9501\uff0csleep()\u4e0d\u4f1a\u91ca\u653e\u5bf9\u8c61\u9501 \u7ebf\u7a0b\u76845\u5927\u72b6\u6001\u4e0e\u8f6c\u6362 \u65b0\u5efa\u72b6\u6001\uff1a\u65b0\u5efa\u7ebf\u7a0b\u5bf9\u8c61\uff0c\u5e76\u6ca1\u6709\u8c03\u7528start\u4e4b\u524d\uff1b \u5c31\u7eea\u72b6\u6001\uff1a\u8c03\u7528start\u65b9\u6cd5\u4e4b\u540e\u5c31\u8fdb\u5165\u5c31\u7eea\u72b6\u6001\uff0c\u53e6\u5916\u7ebf\u7a0b\u5728\u7761\u7720\u548c\u6302\u8d77\u4e2d\u6062\u590d\u7684\u65f6\u5019\u4e5f\u4f1a\u8fdb\u5165\u5c31\u7eea\u72b6\u6001\uff1b \u8fd0\u884c\u72b6\u6001\uff1a\u7ebf\u7a0b\u88ab\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7ebf\u7a0b\u5f00\u59cb\u6267\u884crun\u65b9\u6cd5\uff1b \u963b\u585e\u72b6\u6001\uff1a\u7ebf\u7a0b\u88ab\u6682\u505c\uff0c\u6bd4\u5982\u8c03\u7528sleep\u65b9\u6cd5\u540e\uff1b \u6b7b\u4ea1\u72b6\u6001\uff1a\u7ebf\u7a0b\u6267\u884c\u7ed3\u675f\u3002 \u6ce8\u610f\uff0c\u7531\u963b\u585e\u72b6\u6001\u4e0d\u53ef\u4ee5\u76f4\u63a5\u56de\u5230\u8fd0\u884c\u72b6\u6001\uff0c\u8981\u5148\u7ecf\u5386\u5c31\u7eea\u72b6\u6001\u7136\u540e\u5230\u8fd0\u884c\u72b6\u6001 \u9501\u7684\u7c7b\u578b \u53ef\u91cd\u5165\u9501\uff1a\u5728\u6267\u884c\u5bf9\u8c61\u4e2d\u6240\u6709\u540c\u6b65\u65b9\u6cd5\u4e0d\u7528\u518d\u6b21\u83b7\u5f97\u9501 \u4f8b\u5b50\uff0c\u6392\u961f\u6253\u6c34\uff0c\u4e00\u5bb6\u4e2d\u4efb\u4f55\u4eba\u5148\u5230\u4e86\uff0c\u8fd9\u5bb6\u7684\u5176\u4ed6\u4eba\u6765\u4e86\u90fd\u53ef\u4ee5\u4e0d\u7528\u6392\u961f\u76f4\u63a5\u6253\u6c34\u3002 \u5b9e\u73b0\u7ec6\u8282\uff1a A\u7ebf\u7a0b\u6b63\u5728\u6267\u884c\u4efb\u52a1\uff0cB\u7ebf\u7a0b\u4e5f\u6765\u6392\u961f A\u7ebf\u7a0b\uff08state:1 \u961f\u5217\u5934\u6307\u9488\uff1anull \u961f\u5217\u5c3e\u6307\u9488\uff1aB\u7ebf\u7a0b\u8282\u70b9\uff09 \u8fd9\u4e2a\u65f6\u5019A\u7ebf\u7a0b\u53c8\u6765\u8bf7\u6c42\u9501\uff0c\u53ea\u662f\u628a\u72b6\u6001\u503cstate\u6539\u6210\u4e862,\u5982\u679cA\u7ebf\u7a0b\u91ca\u653e\u4e86\u4e00\u4e2a\u9501\u5c31-1 \u5c31\u662f\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u53d6\u5230\u4e86\u9501\u540e\u518d\u6b21\u53bb\u83b7\u53d6\u540c\u4e00\u4e2a\u9501\uff0c\u4ec5\u4ec5\u628a\u72b6\u6001\u503c\u8fdb\u884c\u7d2f\u52a0\uff0c \u975e\u516c\u5e73\u9501\u6a21\u578b\uff1a\u5f53\u7ebf\u7a0bA\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u8981\u5524\u9192\u7ebf\u7a0bB\u662f\u9700\u8981\u65f6\u95f4\u7684\uff0c\u800c\u4e14\u7ebf\u7a0bB\u9192\u6765\u540e\u8fd8\u8981\u518d\u6b21\u7ade\u4e89\u9501\uff0c\u6240\u4ee5\u5982\u679c\u5728\u5207\u6362\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u6765\u4e86\u4e00\u4e2a\u7ebf\u7a0bC\uff0c\u90a3\u4e48\u7ebf\u7a0bC\u662f\u6709\u53ef\u80fd\u83b7\u53d6\u5230\u9501\u7684\uff0c\u5982\u679cC\u83b7\u53d6\u5230\u4e86\u9501\uff0cB\u5c31\u53ea\u80fd\u7ee7\u7eed\u4e56\u4e56\u4f11\u7720\u4e86\u3002 2.\u53ef\u4e2d\u65ad\u9501\uff1a\u5728\u7b49\u5f85\u83b7\u53d6\u9501\u8fc7\u7a0b\u4e2d\u53ef\u4e2d\u65ad 3.\u516c\u5e73\u9501\uff1a\u6309\u7b49\u5f85\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\u7684\u7b49\u5f85\u65f6\u95f4\u8fdb\u884c\u83b7\u53d6\uff0c\u7b49\u5f85\u65f6\u95f4\u957f\u7684\u5177\u6709\u4f18\u5148\u83b7\u53d6\u9501\u7684\u6743\u529b 4. \u8bfb\u5199\u9501\uff1a\u5bf9\u8d44\u6e90\u8bfb\u53d6\u548c\u5199\u5165\u7684\u65f6\u5019\u62c6\u5206\u4e3a2\u90e8\u5206\u5904\u7406\uff0c\u8bfb\u7684\u65f6\u5019\u53ef\u4ee5\u591a\u7ebf\u7a0b\u4e00\u8d77\u8bfb\uff0c\u5199\u7684\u65f6\u5019\u5fc5\u987b\u540c\u6b65\u7684\u5199 synchronized\u548clock\u7684\u533a\u522b\u548c\u4f7f\u7528 synchronized \u5b58\u5728\u5c42\u6b21\uff1aJava\u7684\u5173\u952e\u5b57\uff0c\u5728jvm\u5c42\u9762\u4e0a\uff1b \u9501\u7684\u91ca\u653e\uff1a1.\u4ee5\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\u6267\u884c\u540c\u6b65\u4ee3\u7801\uff0c\u91ca\u653e\u9501\uff1b 2.\u7ebf\u7a0b\u6267\u884c\u53d1\u751f\u5f02\u5e38\uff0cjvm\u4f1a\u8ba9\u7ebf\u7a0b\u91ca\u653e\u9501\uff1b \u9501\u7684\u83b7\u53d6\uff1a\u5047\u8bbeA\u7ebf\u7a0b\u83b7\u5f97\u9501\uff0cB\u7ebf\u7a0b\u7b49\u5f85\uff0c\u5982\u679cA\u7ebf\u7a0b\u963b\u585e\uff0cB\u7ebf\u7a0b\u4f1a\u4e00\u76f4\u7b49\u5f85\uff1b \u9501\u72b6\u6001\uff1a\u65e0\u6cd5\u5224\u65ad\uff1b \u9501\u7c7b\u578b\uff1a\u53ef\u91cd\u5165\uff0c\u4e0d\u53ef\u4e2d\u65ad\uff0c\u975e\u516c\u5e73\uff1b \u6027\u80fd\uff1a\u5c11\u91cf\u540c\u6b65 \u4e0d\u53ef\u4e2d\u65ad\u9501 lock \u5b58\u5728\u5c42\u6b21\uff1a\u662f\u4e00\u4e2a\u7c7b \u9501\u7684\u91ca\u653e\uff1a\u5728finally\u4e2d\u5fc5\u987b\u91ca\u653e\u9501\uff0c\u4e0d\u7136\u5bb9\u6613\u9020\u6210\u7ebf\u7a0b\u6b7b\u9501 \u9501\u7684\u83b7\u53d6\uff1a\u5206\u60c5\u51b5\u800c\u5b9a\uff0cLock\u6709\u591a\u4e2a\u9501\u83b7\u53d6\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u5f97\u9501 \u9501\u72b6\u6001\uff1a\u53ef\u4ee5\u5224\u65ad \u9501\u7c7b\u578b\uff1a\u53ef\u91cd\u5165\uff0c\u53ef\u5224\u65ad\uff0c\u53ef\u516c\u5e73\uff08\u4e24\u8005\u7686\u53ef\uff09 \u6027\u80fd\uff1a\u5927\u91cf\u540c\u6b65 \u8bbe\u7f6e\u7ebf\u7a0b\u4f18\u5148\u7ea7 Thread.setPrioriy() Process.setThreadPriority() \u7b2c\u4e00\u79cd\u662fjava\u539f\u751f\u65b9\u6cd5\uff0c\u533a\u95f4\u662f1~10 \u7b2c\u4e8c\u79cd\u662fandroid\uff0c\u8303\u56f4-19~19\u63a8\u8350 \u539f\u56e0;java\u8bbe\u8ba1\u76841~10\u4e0d\u80fd\u5bf9\u5e94\u6bcf\u4e00\u4e2a\u5e73\u53f0\u7684\u7b49\u7ea7\u6bd4\u5982linuxAndroid\uff0c\u5c31\u662f-5~4 \u9501\u65b9\u6cd5\u548c\u9501\u9759\u6001\u65b9\u6cd5\u533a\u522b\uff1f\u9501\u65b9\u6cd5\u548c\u9501\u65b9\u6cd5\u5757\u533a\u522b\uff1f \u9759\u6001\u65b9\u6cd5\u662f\u7c7b\u9501\uff0c\u65b9\u6cd5\u662f\u5bf9\u8c61\u9501 \u9501\u65b9\u6cd5\u5bf9\u8c61\u9501\uff0c\u6240\u4ee3\u7801\u5757\uff0c\u9501\u5bf9\u8c61\u4e0d\u4e00\u6837 \u53c2\u8003\u535a\u5ba2 https://www.cnblogs.com/yulinfeng/p/11020576.html \u5e76\u53d1\u7f16\u7a0b CountDownLatch\u7528\u6cd5 CountDownLatch\u4e00\u822c\u7528\u4e8e\u67d0\u4e2a\u7ebf\u7a0bA\u7b49\u5f85\u82e5\u5e72\u4e2a\u5176\u4ed6\u7ebf\u7a0b\u6267\u884c\u5b8c\u4efb\u52a1\u4e4b\u540e\uff0c\u5b83\u624d\u6267\u884c\uff1b \u5229\u7528\u5b83\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c\u8ba1\u6570\u5668\u7684\u529f\u80fd\u3002\u6bd4\u5982\u6709\u4e00\u4e2a\u4efb\u52a1A\uff0c\u5b83\u8981\u7b49\u5f85\u5176\u4ed64\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\u624d\u80fd\u6267\u884c\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u5229\u7528CountDownLatch\u6765\u5b9e\u73b0\u8fd9\u79cd\u529f\u80fd\u4e86\u3002 CountDownLatch\u7c7b\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6784\u9020\u5668\uff1a public CountDownLatch(int count) { }; //\u53c2\u6570count\u4e3a\u8ba1\u6570\u503c \u7136\u540e\u4e0b\u9762\u8fd93\u4e2a\u65b9\u6cd5\u662fCountDownLatch\u7c7b\u4e2d\u6700\u91cd\u8981\u7684\u65b9\u6cd5\uff1a public void await() throws InterruptedException { }; //\u8c03\u7528await()\u65b9\u6cd5\u7684\u7ebf\u7a0b\u4f1a\u88ab\u6302\u8d77\uff0c\u5b83\u4f1a\u7b49\u5f85\u76f4\u5230count\u503c\u4e3a0\u624d\u7ee7\u7eed\u6267\u884c public boolean await(long timeout, TimeUnit unit) throws InterruptedException { }; //\u548cawait()\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u7b49\u5f85\u4e00\u5b9a\u7684\u65f6\u95f4\u540ecount\u503c\u8fd8\u6ca1\u53d8\u4e3a0\u7684\u8bdd\u5c31\u4f1a\u7ee7\u7eed\u6267\u884c public void countDown() { }; //\u5c06count\u503c\u51cf1 \u4f8b\u5b50 public class Test { public static void main(String[] args) { final CountDownLatch latch = new CountDownLatch(2); new Thread(){ public void run() { try { System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6b63\u5728\u6267\u884c\"); Thread.sleep(3000); System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6267\u884c\u5b8c\u6bd5\"); latch.countDown(); } catch (InterruptedException e) { e.printStackTrace(); } }; }.start(); new Thread(){ public void run() { try { System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6b63\u5728\u6267\u884c\"); Thread.sleep(3000); System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6267\u884c\u5b8c\u6bd5\"); latch.countDown(); } catch (InterruptedException e) { e.printStackTrace(); } }; }.start(); try { System.out.println(\"\u7b49\u5f852\u4e2a\u5b50\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5...\"); latch.await(); System.out.println(\"2\u4e2a\u5b50\u7ebf\u7a0b\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\"); System.out.println(\"\u7ee7\u7eed\u6267\u884c\u4e3b\u7ebf\u7a0b\"); } catch (InterruptedException e) { e.printStackTrace(); } } } \u6267\u884c\u7ed3\u679c\uff1a \u7ebf\u7a0bThread-0\u6b63\u5728\u6267\u884c \u7ebf\u7a0bThread-1\u6b63\u5728\u6267\u884c \u7b49\u5f852\u4e2a\u5b50\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5... \u7ebf\u7a0bThread-0\u6267\u884c\u5b8c\u6bd5 \u7ebf\u7a0bThread-1\u6267\u884c\u5b8c\u6bd5 2\u4e2a\u5b50\u7ebf\u7a0b\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5 \u7ee7\u7eed\u6267\u884c\u4e3b\u7ebf\u7a0b Semaphore\u7528\u6cd5 Semaphore\u5176\u5b9e\u548c\u9501\u6709\u70b9\u7c7b\u4f3c\uff0c\u5b83\u4e00\u822c\u7528\u4e8e\u63a7\u5236\u5bf9\u67d0\u7ec4\u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650\u3002 Semaphore\u7ffb\u8bd1\u6210\u5b57\u9762\u610f\u601d\u4e3a \u4fe1\u53f7\u91cf\uff0cSemaphore\u53ef\u4ee5\u63a7\u540c\u65f6\u8bbf\u95ee\u7684\u7ebf\u7a0b\u4e2a\u6570\uff0c\u901a\u8fc7 acquire() \u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u7b49\u5f85\uff0c\u800c release() \u91ca\u653e\u4e00\u4e2a\u8bb8\u53ef Semaphore\u7c7b\u4f4d\u4e8ejava.util.concurrent\u5305\u4e0b\uff0c\u5b83\u63d0\u4f9b\u4e862\u4e2a\u6784\u9020\u5668\uff1a public Semaphore(int permits) { //\u53c2\u6570permits\u8868\u793a\u8bb8\u53ef\u6570\u76ee\uff0c\u5373\u540c\u65f6\u53ef\u4ee5\u5141\u8bb8\u591a\u5c11\u7ebf\u7a0b\u8fdb\u884c\u8bbf\u95ee sync = new NonfairSync(permits); } public Semaphore(int permits, boolean fair) { //\u8fd9\u4e2a\u591a\u4e86\u4e00\u4e2a\u53c2\u6570fair\u8868\u793a\u662f\u5426\u662f\u516c\u5e73\u7684\uff0c\u5373\u7b49\u5f85\u65f6\u95f4\u8d8a\u4e45\u7684\u8d8a\u5148\u83b7\u53d6\u8bb8\u53ef sync = (fair)? new FairSync(permits) : new NonfairSync(permits); } \u4e0b\u9762\u8bf4\u4e00\u4e0bSemaphore\u7c7b\u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u51e0\u4e2a\u65b9\u6cd5\uff0c\u9996\u5148\u662facquire()\u3001release()\u65b9\u6cd5\uff1a public void acquire() throws InterruptedException { } //\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef public void acquire(int permits) throws InterruptedException { } //\u83b7\u53d6permits\u4e2a\u8bb8\u53ef public void release() { } //\u91ca\u653e\u4e00\u4e2a\u8bb8\u53ef public void release(int permits) { } //\u91ca\u653epermits\u4e2a\u8bb8\u53ef acquire()\u7528\u6765\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u82e5\u65e0\u8bb8\u53ef\u80fd\u591f\u83b7\u5f97\uff0c\u5219\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u83b7\u5f97\u8bb8\u53ef\u3002 release()\u7528\u6765\u91ca\u653e\u8bb8\u53ef\u3002\u6ce8\u610f\uff0c\u5728\u91ca\u653e\u8bb8\u53ef\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u83b7\u83b7\u5f97\u8bb8\u53ef\u3002 \u8fd94\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u5982\u679c\u60f3\u7acb\u5373\u5f97\u5230\u6267\u884c\u7ed3\u679c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u51e0\u4e2a\u65b9\u6cd5\uff1a \u3000\u3000 public boolean tryAcquire() { }; //\u5c1d\u8bd5\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u82e5\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u82e5\u83b7\u53d6\u5931\u8d25\uff0c\u5219\u7acb\u5373\u8fd4\u56defalse public boolean tryAcquire(long timeout, TimeUnit unit) throws InterruptedException { }; //\u5c1d\u8bd5\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u82e5\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u5426\u5219\u5219\u7acb\u5373\u8fd4\u56defalse public boolean tryAcquire(int permits) { }; //\u5c1d\u8bd5\u83b7\u53d6permits\u4e2a\u8bb8\u53ef\uff0c\u82e5\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u82e5\u83b7\u53d6\u5931\u8d25\uff0c\u5219\u7acb\u5373\u8fd4\u56defalse public boolean tryAcquire(int permits, long timeout, TimeUnit unit) throws InterruptedException { }; //\u5c1d\u8bd5\u83b7\u53d6permits\u4e2a\u8bb8\u53ef\uff0c\u82e5\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u5426\u5219\u5219\u7acb\u5373\u8fd4\u56defalse \u53e6\u5916\u8fd8\u53ef\u4ee5\u901a\u8fc7availablePermits()\u65b9\u6cd5\u5f97\u5230\u53ef\u7528\u7684\u8bb8\u53ef\u6570\u76ee\u3002 \u4f8b\u5b50\uff1a\u5047\u82e5\u4e00\u4e2a\u5de5\u5382\u67095\u53f0\u673a\u5668\uff0c\u4f46\u662f\u67098\u4e2a\u5de5\u4eba\uff0c\u4e00\u53f0\u673a\u5668\u540c\u65f6\u53ea\u80fd\u88ab\u4e00\u4e2a\u5de5\u4eba\u4f7f\u7528\uff0c\u53ea\u6709\u4f7f\u7528\u5b8c\u4e86\uff0c\u5176\u4ed6\u5de5\u4eba\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7Semaphore\u6765\u5b9e\u73b0\uff1a public class Test { public static void main(String[] args) { int N = 8; //\u5de5\u4eba\u6570 Semaphore semaphore = new Semaphore(5); //\u673a\u5668\u6570\u76ee for(int i=0;i<N;i++) new Worker(i,semaphore).start(); } static class Worker extends Thread{ private int num; private Semaphore semaphore; public Worker(int num,Semaphore semaphore){ this.num = num; this.semaphore = semaphore; } @Override public void run() { try { semaphore.acquire(); System.out.println(\"\u5de5\u4eba\"+this.num+\"\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7...\"); Thread.sleep(2000); System.out.println(\"\u5de5\u4eba\"+this.num+\"\u91ca\u653e\u51fa\u673a\u5668\"); semaphore.release(); } catch (InterruptedException e) { e.printStackTrace(); } } } } \u6267\u884c\u7ed3\u679c\uff1a \u5de5\u4eba0\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba1\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba2\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba4\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba5\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba0\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba2\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba3\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba7\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba4\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba5\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba1\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba6\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba3\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba7\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba6\u91ca\u653e\u51fa\u673a\u5668 reentrantLock concurrent\u5305\u4e0b\u9ad8\u7ea7\u5e76\u53d1\u5de5\u5177 \u987b\u5148\u83b7\u53d6\u5230\u9501\uff0c\u518d\u8fdb\u5165try {...}\u4ee3\u7801\u5757\uff0c\u6700\u540e\u4f7f\u7528finally\u4fdd\u8bc1\u91ca\u653e\u9501,\u53ef\u4ee5\u4f7f\u7528tryLock()\u5c1d\u8bd5\u83b7\u53d6\u9501\u3002 Java\u8bed\u8a00\u76f4\u63a5\u63d0\u4f9b\u4e86synchronized\u5173\u952e\u5b57\u7528\u4e8e\u52a0\u9501\uff0c\u4f46\u8fd9\u79cd\u9501\u4e00\u662f\u5f88\u91cd\uff0c\u4e8c\u662f\u83b7\u53d6\u65f6\u5fc5\u987b\u4e00\u76f4\u7b49\u5f85\uff0c\u6ca1\u6709\u989d\u5916\u7684\u5c1d\u8bd5\u673a\u5236\u3002 public class Counter { private int count; public void add(int n) { synchronized(this) { count += n; } } } \u5982\u679c\u7528ReentrantLock\u66ff\u4ee3\uff0c\u53ef\u4ee5\u628a\u4ee3\u7801\u6539\u9020\u4e3a\uff1a public class Counter { private final Lock lock = new ReentrantLock(); private int count; public void add(int n) { lock.lock(); try { count += n; } finally { lock.unlock(); } } } \u9ad8\u7ea7\u7528\u6cd5 ReentrantLock\u662f\u53ef\u91cd\u5165\u9501\uff0c\u5b83\u548csynchronized\u4e00\u6837\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u591a\u6b21\u83b7\u53d6\u540c\u4e00\u4e2a\u9501\u3002 \u548csynchronized\u4e0d\u540c\u7684\u662f\uff0cReentrantLock\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u53d6\u9501\uff1a if (lock.tryLock(1, TimeUnit.SECONDS)) { try { ... } finally { lock.unlock(); } } \u4e0a\u8ff0\u4ee3\u7801\u5728\u5c1d\u8bd5\u83b7\u53d6\u9501\u7684\u65f6\u5019\uff0c\u6700\u591a\u7b49\u5f851\u79d2\u3002\u5982\u679c1\u79d2\u540e\u4ecd\u672a\u83b7\u53d6\u5230\u9501\uff0ctryLock()\u8fd4\u56defalse\uff0c\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u505a\u4e00\u4e9b\u989d\u5916\u5904\u7406\uff0c\u800c\u4e0d\u662f\u65e0\u9650\u7b49\u5f85\u4e0b\u53bb\u3002 \u6240\u4ee5\uff0c\u4f7f\u7528ReentrantLock\u6bd4\u76f4\u63a5\u4f7f\u7528synchronized\u66f4\u5b89\u5168\uff0c\u7ebf\u7a0b\u5728tryLock()\u5931\u8d25\u7684\u65f6\u5019\u4e0d\u4f1a\u5bfc\u81f4\u6b7b\u9501\u3002 \u4e0b\u4e00\u7bc7 \u7ebf\u7a0b\u6c60","title":"\u7ebf\u7a0b"},{"location":"thread/#_1","text":"\u4e3b\u7ebf\u7a0b\u3001\u5de5\u4f5c\u7ebf\u7a0b\u3001\u7ebf\u7a0b\u901a\u4fe1 1. \u4e3b\u7ebf\u7a0b \u5e94\u7528\u542f\u52a8\u65f6\uff0c\u7cfb\u7edf\u4f1a\u4e3a\u8be5\u5e94\u7528\u521b\u5efa\u4e00\u4e2a\u4e3b\u7ebf\u7a0b\uff0c\u8be5\u7ebf\u7a0b\u5f88\u91cd\u8981\uff0c\u6240\u6709\u7684ui\u64cd\u4f5c\u5fc5\u987b\u5728\u8be5\u7ebf\u7a0b\u6267\u884c\uff0c\u5e76\u4e14\u8be5\u7ebf\u7a0b\u4e0d\u80fd\u963b\u585e\uff0c5s\u4f1a\u53d1\u751fanr\u3002 2. \u5de5\u4f5c\u7ebf\u7a0b \u4e3b\u7ebf\u7a0b\u5916\u7528\u6765\u6267\u884c\u4efb\u52a1\u7684\u7ebf\u7a0b\uff0c\u6267\u884c\u5b8c\u4efb\u52a1\u540e\u5fc5\u987b\u901a\u8fc7\u4e3b\u7ebf\u7a0b\u66f4\u65b0\u754c\u9762\u3002 3. \u5de5\u4f5c\u7ebf\u7a0b\u548c\u4e3b\u7ebf\u7a0b\u901a\u4fe1 * Activity.runOnUiThread(Runnable) * View.post(Runnable) public void onClick(View v) { new Thread(new Runnable() { public void run() { // a potentially time consuming task final Bitmap bitmap = processBitMap(\"image.png\"); imageView.post(new Runnable() { public void run() { imageView.setImageBitmap(bitmap); } }); } }).start(); } Handler \u5904\u7406\u590d\u6742\u7684\u7ebf\u7a0b\u95f4\u901a\u4fe1 AsyncTask api30\u4e0d\u63a8\u8350\u4e86\uff0cconcurrent\u4ee3\u66ff 1. \u521b\u5efaAsyncTask\u7684\u5b50\u7c7b\u5e76\u5b9e\u73b0doInBackground,onProgressUpdate,onpostExcute private class DownloadFilesTask extends AsyncTask<URL, Integer, Long> { protected Long doInBackground(URL... urls) { int count = urls.length; long totalSize = 0; for (int i = 0; i < count; i++) { totalSize += Downloader.downloadFile(urls[i]); publishProgress((int) ((i / (float) count) * 100)); // Escape early if cancel() is called if (isCancelled()) break; } return totalSize; } protected void onProgressUpdate(Integer... progress) { setProgressPercent(progress[0]); } protected void onPostExecute(Long result) { showDialog(\"Downloaded \" + result + \" bytes\"); } } 2.\u5f00\u59cb\u8be5\u4efb\u52a1 new DownloadFilesTask().execute(url1, url2, url3);","title":"\u5b9a\u4e49\u7684\u7406\u89e3"},{"location":"thread/#thread","text":"start()\u65b9\u6cd5\uff1a\u5f00\u59cb\u6267\u884c\u8be5\u7ebf\u7a0b stop()\u65b9\u6cd5\uff1a\u5f3a\u5236\u7ed3\u675f\u8be5\u7ebf\u7a0b join()\u65b9\u6cd5 \uff1a\u7b49\u5f85\u8be5\u7ebf\u7a0b\u7ed3\u675f sleep()\u65b9\u6cd5\uff1a\u8be5\u7ebf\u7a0b\u8fdb\u5165\u7b49\u5f85 run()\u65b9\u6cd5 :\u76f4\u63a5\u6267\u884c\u8be5\u7ebf\u7a0b\u7684run\u65b9\u6cd5\uff08\u7ebf\u7a0b\u8c03\u7528start()\u4e5f\u4f1a\u6267\u884crun\u65b9\u6cd5\uff0c\u533a\u522b\u662f\u4e00\u4e2a\u662f\u7531\u7ebf\u7a0b\u8c03\u5ea6\u8fd0\u884crun \u65b9\u6cd5\uff0c\u4e00\u4e2a\u662f\u76f4\u63a5\u8c03\u7528\u7ebf\u7a0b\u4e2d\u7684run\u65b9\u6cd5\uff09 \u6ce8\u610f\uff1await()\u548cnotify()\u662fobject\u4e2d\u7684\u65b9\u6cd5\uff0c\u5206\u522b\u8868\u793a\u7ebf\u7a0b\u6302\u8d77\u548c\u7ebf\u7a0b\u6062\u590d wait()\u4e0esleep()\u7684\u533a\u522b\uff1await()\u4f1a\u91ca\u653e\u5bf9\u8c61\u9501\uff0csleep()\u4e0d\u4f1a\u91ca\u653e\u5bf9\u8c61\u9501","title":"Thread\u7c7b\u7684\u5e38\u7528\u65b9\u6cd5"},{"location":"thread/#5","text":"\u65b0\u5efa\u72b6\u6001\uff1a\u65b0\u5efa\u7ebf\u7a0b\u5bf9\u8c61\uff0c\u5e76\u6ca1\u6709\u8c03\u7528start\u4e4b\u524d\uff1b \u5c31\u7eea\u72b6\u6001\uff1a\u8c03\u7528start\u65b9\u6cd5\u4e4b\u540e\u5c31\u8fdb\u5165\u5c31\u7eea\u72b6\u6001\uff0c\u53e6\u5916\u7ebf\u7a0b\u5728\u7761\u7720\u548c\u6302\u8d77\u4e2d\u6062\u590d\u7684\u65f6\u5019\u4e5f\u4f1a\u8fdb\u5165\u5c31\u7eea\u72b6\u6001\uff1b \u8fd0\u884c\u72b6\u6001\uff1a\u7ebf\u7a0b\u88ab\u8bbe\u7f6e\u4e3a\u5f53\u524d\u7ebf\u7a0b\u5f00\u59cb\u6267\u884crun\u65b9\u6cd5\uff1b \u963b\u585e\u72b6\u6001\uff1a\u7ebf\u7a0b\u88ab\u6682\u505c\uff0c\u6bd4\u5982\u8c03\u7528sleep\u65b9\u6cd5\u540e\uff1b \u6b7b\u4ea1\u72b6\u6001\uff1a\u7ebf\u7a0b\u6267\u884c\u7ed3\u675f\u3002 \u6ce8\u610f\uff0c\u7531\u963b\u585e\u72b6\u6001\u4e0d\u53ef\u4ee5\u76f4\u63a5\u56de\u5230\u8fd0\u884c\u72b6\u6001\uff0c\u8981\u5148\u7ecf\u5386\u5c31\u7eea\u72b6\u6001\u7136\u540e\u5230\u8fd0\u884c\u72b6\u6001","title":"\u7ebf\u7a0b\u76845\u5927\u72b6\u6001\u4e0e\u8f6c\u6362"},{"location":"thread/#_2","text":"\u53ef\u91cd\u5165\u9501\uff1a\u5728\u6267\u884c\u5bf9\u8c61\u4e2d\u6240\u6709\u540c\u6b65\u65b9\u6cd5\u4e0d\u7528\u518d\u6b21\u83b7\u5f97\u9501 \u4f8b\u5b50\uff0c\u6392\u961f\u6253\u6c34\uff0c\u4e00\u5bb6\u4e2d\u4efb\u4f55\u4eba\u5148\u5230\u4e86\uff0c\u8fd9\u5bb6\u7684\u5176\u4ed6\u4eba\u6765\u4e86\u90fd\u53ef\u4ee5\u4e0d\u7528\u6392\u961f\u76f4\u63a5\u6253\u6c34\u3002 \u5b9e\u73b0\u7ec6\u8282\uff1a A\u7ebf\u7a0b\u6b63\u5728\u6267\u884c\u4efb\u52a1\uff0cB\u7ebf\u7a0b\u4e5f\u6765\u6392\u961f A\u7ebf\u7a0b\uff08state:1 \u961f\u5217\u5934\u6307\u9488\uff1anull \u961f\u5217\u5c3e\u6307\u9488\uff1aB\u7ebf\u7a0b\u8282\u70b9\uff09 \u8fd9\u4e2a\u65f6\u5019A\u7ebf\u7a0b\u53c8\u6765\u8bf7\u6c42\u9501\uff0c\u53ea\u662f\u628a\u72b6\u6001\u503cstate\u6539\u6210\u4e862,\u5982\u679cA\u7ebf\u7a0b\u91ca\u653e\u4e86\u4e00\u4e2a\u9501\u5c31-1 \u5c31\u662f\u4e00\u4e2a\u7ebf\u7a0b\u83b7\u53d6\u5230\u4e86\u9501\u540e\u518d\u6b21\u53bb\u83b7\u53d6\u540c\u4e00\u4e2a\u9501\uff0c\u4ec5\u4ec5\u628a\u72b6\u6001\u503c\u8fdb\u884c\u7d2f\u52a0\uff0c \u975e\u516c\u5e73\u9501\u6a21\u578b\uff1a\u5f53\u7ebf\u7a0bA\u6267\u884c\u5b8c\u4e4b\u540e\uff0c\u8981\u5524\u9192\u7ebf\u7a0bB\u662f\u9700\u8981\u65f6\u95f4\u7684\uff0c\u800c\u4e14\u7ebf\u7a0bB\u9192\u6765\u540e\u8fd8\u8981\u518d\u6b21\u7ade\u4e89\u9501\uff0c\u6240\u4ee5\u5982\u679c\u5728\u5207\u6362\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u6765\u4e86\u4e00\u4e2a\u7ebf\u7a0bC\uff0c\u90a3\u4e48\u7ebf\u7a0bC\u662f\u6709\u53ef\u80fd\u83b7\u53d6\u5230\u9501\u7684\uff0c\u5982\u679cC\u83b7\u53d6\u5230\u4e86\u9501\uff0cB\u5c31\u53ea\u80fd\u7ee7\u7eed\u4e56\u4e56\u4f11\u7720\u4e86\u3002 2.\u53ef\u4e2d\u65ad\u9501\uff1a\u5728\u7b49\u5f85\u83b7\u53d6\u9501\u8fc7\u7a0b\u4e2d\u53ef\u4e2d\u65ad 3.\u516c\u5e73\u9501\uff1a\u6309\u7b49\u5f85\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\u7684\u7b49\u5f85\u65f6\u95f4\u8fdb\u884c\u83b7\u53d6\uff0c\u7b49\u5f85\u65f6\u95f4\u957f\u7684\u5177\u6709\u4f18\u5148\u83b7\u53d6\u9501\u7684\u6743\u529b 4. \u8bfb\u5199\u9501\uff1a\u5bf9\u8d44\u6e90\u8bfb\u53d6\u548c\u5199\u5165\u7684\u65f6\u5019\u62c6\u5206\u4e3a2\u90e8\u5206\u5904\u7406\uff0c\u8bfb\u7684\u65f6\u5019\u53ef\u4ee5\u591a\u7ebf\u7a0b\u4e00\u8d77\u8bfb\uff0c\u5199\u7684\u65f6\u5019\u5fc5\u987b\u540c\u6b65\u7684\u5199","title":"\u9501\u7684\u7c7b\u578b"},{"location":"thread/#synchronizedlock","text":"synchronized \u5b58\u5728\u5c42\u6b21\uff1aJava\u7684\u5173\u952e\u5b57\uff0c\u5728jvm\u5c42\u9762\u4e0a\uff1b \u9501\u7684\u91ca\u653e\uff1a1.\u4ee5\u83b7\u53d6\u9501\u7684\u7ebf\u7a0b\u6267\u884c\u540c\u6b65\u4ee3\u7801\uff0c\u91ca\u653e\u9501\uff1b 2.\u7ebf\u7a0b\u6267\u884c\u53d1\u751f\u5f02\u5e38\uff0cjvm\u4f1a\u8ba9\u7ebf\u7a0b\u91ca\u653e\u9501\uff1b \u9501\u7684\u83b7\u53d6\uff1a\u5047\u8bbeA\u7ebf\u7a0b\u83b7\u5f97\u9501\uff0cB\u7ebf\u7a0b\u7b49\u5f85\uff0c\u5982\u679cA\u7ebf\u7a0b\u963b\u585e\uff0cB\u7ebf\u7a0b\u4f1a\u4e00\u76f4\u7b49\u5f85\uff1b \u9501\u72b6\u6001\uff1a\u65e0\u6cd5\u5224\u65ad\uff1b \u9501\u7c7b\u578b\uff1a\u53ef\u91cd\u5165\uff0c\u4e0d\u53ef\u4e2d\u65ad\uff0c\u975e\u516c\u5e73\uff1b \u6027\u80fd\uff1a\u5c11\u91cf\u540c\u6b65 \u4e0d\u53ef\u4e2d\u65ad\u9501 lock \u5b58\u5728\u5c42\u6b21\uff1a\u662f\u4e00\u4e2a\u7c7b \u9501\u7684\u91ca\u653e\uff1a\u5728finally\u4e2d\u5fc5\u987b\u91ca\u653e\u9501\uff0c\u4e0d\u7136\u5bb9\u6613\u9020\u6210\u7ebf\u7a0b\u6b7b\u9501 \u9501\u7684\u83b7\u53d6\uff1a\u5206\u60c5\u51b5\u800c\u5b9a\uff0cLock\u6709\u591a\u4e2a\u9501\u83b7\u53d6\u7684\u65b9\u5f0f\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u5f97\u9501 \u9501\u72b6\u6001\uff1a\u53ef\u4ee5\u5224\u65ad \u9501\u7c7b\u578b\uff1a\u53ef\u91cd\u5165\uff0c\u53ef\u5224\u65ad\uff0c\u53ef\u516c\u5e73\uff08\u4e24\u8005\u7686\u53ef\uff09 \u6027\u80fd\uff1a\u5927\u91cf\u540c\u6b65","title":"synchronized\u548clock\u7684\u533a\u522b\u548c\u4f7f\u7528"},{"location":"thread/#_3","text":"Thread.setPrioriy() Process.setThreadPriority() \u7b2c\u4e00\u79cd\u662fjava\u539f\u751f\u65b9\u6cd5\uff0c\u533a\u95f4\u662f1~10 \u7b2c\u4e8c\u79cd\u662fandroid\uff0c\u8303\u56f4-19~19\u63a8\u8350 \u539f\u56e0;java\u8bbe\u8ba1\u76841~10\u4e0d\u80fd\u5bf9\u5e94\u6bcf\u4e00\u4e2a\u5e73\u53f0\u7684\u7b49\u7ea7\u6bd4\u5982linuxAndroid\uff0c\u5c31\u662f-5~4","title":"\u8bbe\u7f6e\u7ebf\u7a0b\u4f18\u5148\u7ea7"},{"location":"thread/#_4","text":"\u9759\u6001\u65b9\u6cd5\u662f\u7c7b\u9501\uff0c\u65b9\u6cd5\u662f\u5bf9\u8c61\u9501 \u9501\u65b9\u6cd5\u5bf9\u8c61\u9501\uff0c\u6240\u4ee3\u7801\u5757\uff0c\u9501\u5bf9\u8c61\u4e0d\u4e00\u6837","title":"\u9501\u65b9\u6cd5\u548c\u9501\u9759\u6001\u65b9\u6cd5\u533a\u522b\uff1f\u9501\u65b9\u6cd5\u548c\u9501\u65b9\u6cd5\u5757\u533a\u522b\uff1f"},{"location":"thread/#_5","text":"https://www.cnblogs.com/yulinfeng/p/11020576.html","title":"\u53c2\u8003\u535a\u5ba2"},{"location":"thread/#_6","text":"","title":"\u5e76\u53d1\u7f16\u7a0b"},{"location":"thread/#countdownlatch","text":"CountDownLatch\u4e00\u822c\u7528\u4e8e\u67d0\u4e2a\u7ebf\u7a0bA\u7b49\u5f85\u82e5\u5e72\u4e2a\u5176\u4ed6\u7ebf\u7a0b\u6267\u884c\u5b8c\u4efb\u52a1\u4e4b\u540e\uff0c\u5b83\u624d\u6267\u884c\uff1b \u5229\u7528\u5b83\u53ef\u4ee5\u5b9e\u73b0\u7c7b\u4f3c\u8ba1\u6570\u5668\u7684\u529f\u80fd\u3002\u6bd4\u5982\u6709\u4e00\u4e2a\u4efb\u52a1A\uff0c\u5b83\u8981\u7b49\u5f85\u5176\u4ed64\u4e2a\u4efb\u52a1\u6267\u884c\u5b8c\u6bd5\u4e4b\u540e\u624d\u80fd\u6267\u884c\uff0c\u6b64\u65f6\u5c31\u53ef\u4ee5\u5229\u7528CountDownLatch\u6765\u5b9e\u73b0\u8fd9\u79cd\u529f\u80fd\u4e86\u3002 CountDownLatch\u7c7b\u53ea\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6784\u9020\u5668\uff1a public CountDownLatch(int count) { }; //\u53c2\u6570count\u4e3a\u8ba1\u6570\u503c \u7136\u540e\u4e0b\u9762\u8fd93\u4e2a\u65b9\u6cd5\u662fCountDownLatch\u7c7b\u4e2d\u6700\u91cd\u8981\u7684\u65b9\u6cd5\uff1a public void await() throws InterruptedException { }; //\u8c03\u7528await()\u65b9\u6cd5\u7684\u7ebf\u7a0b\u4f1a\u88ab\u6302\u8d77\uff0c\u5b83\u4f1a\u7b49\u5f85\u76f4\u5230count\u503c\u4e3a0\u624d\u7ee7\u7eed\u6267\u884c public boolean await(long timeout, TimeUnit unit) throws InterruptedException { }; //\u548cawait()\u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u7b49\u5f85\u4e00\u5b9a\u7684\u65f6\u95f4\u540ecount\u503c\u8fd8\u6ca1\u53d8\u4e3a0\u7684\u8bdd\u5c31\u4f1a\u7ee7\u7eed\u6267\u884c public void countDown() { }; //\u5c06count\u503c\u51cf1 \u4f8b\u5b50 public class Test { public static void main(String[] args) { final CountDownLatch latch = new CountDownLatch(2); new Thread(){ public void run() { try { System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6b63\u5728\u6267\u884c\"); Thread.sleep(3000); System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6267\u884c\u5b8c\u6bd5\"); latch.countDown(); } catch (InterruptedException e) { e.printStackTrace(); } }; }.start(); new Thread(){ public void run() { try { System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6b63\u5728\u6267\u884c\"); Thread.sleep(3000); System.out.println(\"\u5b50\u7ebf\u7a0b\"+Thread.currentThread().getName()+\"\u6267\u884c\u5b8c\u6bd5\"); latch.countDown(); } catch (InterruptedException e) { e.printStackTrace(); } }; }.start(); try { System.out.println(\"\u7b49\u5f852\u4e2a\u5b50\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5...\"); latch.await(); System.out.println(\"2\u4e2a\u5b50\u7ebf\u7a0b\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5\"); System.out.println(\"\u7ee7\u7eed\u6267\u884c\u4e3b\u7ebf\u7a0b\"); } catch (InterruptedException e) { e.printStackTrace(); } } } \u6267\u884c\u7ed3\u679c\uff1a \u7ebf\u7a0bThread-0\u6b63\u5728\u6267\u884c \u7ebf\u7a0bThread-1\u6b63\u5728\u6267\u884c \u7b49\u5f852\u4e2a\u5b50\u7ebf\u7a0b\u6267\u884c\u5b8c\u6bd5... \u7ebf\u7a0bThread-0\u6267\u884c\u5b8c\u6bd5 \u7ebf\u7a0bThread-1\u6267\u884c\u5b8c\u6bd5 2\u4e2a\u5b50\u7ebf\u7a0b\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5 \u7ee7\u7eed\u6267\u884c\u4e3b\u7ebf\u7a0b","title":"CountDownLatch\u7528\u6cd5"},{"location":"thread/#semaphore","text":"Semaphore\u5176\u5b9e\u548c\u9501\u6709\u70b9\u7c7b\u4f3c\uff0c\u5b83\u4e00\u822c\u7528\u4e8e\u63a7\u5236\u5bf9\u67d0\u7ec4\u8d44\u6e90\u7684\u8bbf\u95ee\u6743\u9650\u3002 Semaphore\u7ffb\u8bd1\u6210\u5b57\u9762\u610f\u601d\u4e3a \u4fe1\u53f7\u91cf\uff0cSemaphore\u53ef\u4ee5\u63a7\u540c\u65f6\u8bbf\u95ee\u7684\u7ebf\u7a0b\u4e2a\u6570\uff0c\u901a\u8fc7 acquire() \u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u7b49\u5f85\uff0c\u800c release() \u91ca\u653e\u4e00\u4e2a\u8bb8\u53ef Semaphore\u7c7b\u4f4d\u4e8ejava.util.concurrent\u5305\u4e0b\uff0c\u5b83\u63d0\u4f9b\u4e862\u4e2a\u6784\u9020\u5668\uff1a public Semaphore(int permits) { //\u53c2\u6570permits\u8868\u793a\u8bb8\u53ef\u6570\u76ee\uff0c\u5373\u540c\u65f6\u53ef\u4ee5\u5141\u8bb8\u591a\u5c11\u7ebf\u7a0b\u8fdb\u884c\u8bbf\u95ee sync = new NonfairSync(permits); } public Semaphore(int permits, boolean fair) { //\u8fd9\u4e2a\u591a\u4e86\u4e00\u4e2a\u53c2\u6570fair\u8868\u793a\u662f\u5426\u662f\u516c\u5e73\u7684\uff0c\u5373\u7b49\u5f85\u65f6\u95f4\u8d8a\u4e45\u7684\u8d8a\u5148\u83b7\u53d6\u8bb8\u53ef sync = (fair)? new FairSync(permits) : new NonfairSync(permits); } \u4e0b\u9762\u8bf4\u4e00\u4e0bSemaphore\u7c7b\u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u51e0\u4e2a\u65b9\u6cd5\uff0c\u9996\u5148\u662facquire()\u3001release()\u65b9\u6cd5\uff1a public void acquire() throws InterruptedException { } //\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef public void acquire(int permits) throws InterruptedException { } //\u83b7\u53d6permits\u4e2a\u8bb8\u53ef public void release() { } //\u91ca\u653e\u4e00\u4e2a\u8bb8\u53ef public void release(int permits) { } //\u91ca\u653epermits\u4e2a\u8bb8\u53ef acquire()\u7528\u6765\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u82e5\u65e0\u8bb8\u53ef\u80fd\u591f\u83b7\u5f97\uff0c\u5219\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u83b7\u5f97\u8bb8\u53ef\u3002 release()\u7528\u6765\u91ca\u653e\u8bb8\u53ef\u3002\u6ce8\u610f\uff0c\u5728\u91ca\u653e\u8bb8\u53ef\u4e4b\u524d\uff0c\u5fc5\u987b\u5148\u83b7\u83b7\u5f97\u8bb8\u53ef\u3002 \u8fd94\u4e2a\u65b9\u6cd5\u90fd\u4f1a\u88ab\u963b\u585e\uff0c\u5982\u679c\u60f3\u7acb\u5373\u5f97\u5230\u6267\u884c\u7ed3\u679c\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u51e0\u4e2a\u65b9\u6cd5\uff1a \u3000\u3000 public boolean tryAcquire() { }; //\u5c1d\u8bd5\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u82e5\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u82e5\u83b7\u53d6\u5931\u8d25\uff0c\u5219\u7acb\u5373\u8fd4\u56defalse public boolean tryAcquire(long timeout, TimeUnit unit) throws InterruptedException { }; //\u5c1d\u8bd5\u83b7\u53d6\u4e00\u4e2a\u8bb8\u53ef\uff0c\u82e5\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u5426\u5219\u5219\u7acb\u5373\u8fd4\u56defalse public boolean tryAcquire(int permits) { }; //\u5c1d\u8bd5\u83b7\u53d6permits\u4e2a\u8bb8\u53ef\uff0c\u82e5\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u82e5\u83b7\u53d6\u5931\u8d25\uff0c\u5219\u7acb\u5373\u8fd4\u56defalse public boolean tryAcquire(int permits, long timeout, TimeUnit unit) throws InterruptedException { }; //\u5c1d\u8bd5\u83b7\u53d6permits\u4e2a\u8bb8\u53ef\uff0c\u82e5\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u5185\u83b7\u53d6\u6210\u529f\uff0c\u5219\u7acb\u5373\u8fd4\u56detrue\uff0c\u5426\u5219\u5219\u7acb\u5373\u8fd4\u56defalse \u53e6\u5916\u8fd8\u53ef\u4ee5\u901a\u8fc7availablePermits()\u65b9\u6cd5\u5f97\u5230\u53ef\u7528\u7684\u8bb8\u53ef\u6570\u76ee\u3002 \u4f8b\u5b50\uff1a\u5047\u82e5\u4e00\u4e2a\u5de5\u5382\u67095\u53f0\u673a\u5668\uff0c\u4f46\u662f\u67098\u4e2a\u5de5\u4eba\uff0c\u4e00\u53f0\u673a\u5668\u540c\u65f6\u53ea\u80fd\u88ab\u4e00\u4e2a\u5de5\u4eba\u4f7f\u7528\uff0c\u53ea\u6709\u4f7f\u7528\u5b8c\u4e86\uff0c\u5176\u4ed6\u5de5\u4eba\u624d\u80fd\u7ee7\u7eed\u4f7f\u7528\u3002\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u901a\u8fc7Semaphore\u6765\u5b9e\u73b0\uff1a public class Test { public static void main(String[] args) { int N = 8; //\u5de5\u4eba\u6570 Semaphore semaphore = new Semaphore(5); //\u673a\u5668\u6570\u76ee for(int i=0;i<N;i++) new Worker(i,semaphore).start(); } static class Worker extends Thread{ private int num; private Semaphore semaphore; public Worker(int num,Semaphore semaphore){ this.num = num; this.semaphore = semaphore; } @Override public void run() { try { semaphore.acquire(); System.out.println(\"\u5de5\u4eba\"+this.num+\"\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7...\"); Thread.sleep(2000); System.out.println(\"\u5de5\u4eba\"+this.num+\"\u91ca\u653e\u51fa\u673a\u5668\"); semaphore.release(); } catch (InterruptedException e) { e.printStackTrace(); } } } } \u6267\u884c\u7ed3\u679c\uff1a \u5de5\u4eba0\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba1\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba2\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba4\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba5\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba0\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba2\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba3\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba7\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba4\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba5\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba1\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba6\u5360\u7528\u4e00\u4e2a\u673a\u5668\u5728\u751f\u4ea7... \u5de5\u4eba3\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba7\u91ca\u653e\u51fa\u673a\u5668 \u5de5\u4eba6\u91ca\u653e\u51fa\u673a\u5668","title":"Semaphore\u7528\u6cd5"},{"location":"thread/#reentrantlock","text":"concurrent\u5305\u4e0b\u9ad8\u7ea7\u5e76\u53d1\u5de5\u5177 \u987b\u5148\u83b7\u53d6\u5230\u9501\uff0c\u518d\u8fdb\u5165try {...}\u4ee3\u7801\u5757\uff0c\u6700\u540e\u4f7f\u7528finally\u4fdd\u8bc1\u91ca\u653e\u9501,\u53ef\u4ee5\u4f7f\u7528tryLock()\u5c1d\u8bd5\u83b7\u53d6\u9501\u3002 Java\u8bed\u8a00\u76f4\u63a5\u63d0\u4f9b\u4e86synchronized\u5173\u952e\u5b57\u7528\u4e8e\u52a0\u9501\uff0c\u4f46\u8fd9\u79cd\u9501\u4e00\u662f\u5f88\u91cd\uff0c\u4e8c\u662f\u83b7\u53d6\u65f6\u5fc5\u987b\u4e00\u76f4\u7b49\u5f85\uff0c\u6ca1\u6709\u989d\u5916\u7684\u5c1d\u8bd5\u673a\u5236\u3002 public class Counter { private int count; public void add(int n) { synchronized(this) { count += n; } } } \u5982\u679c\u7528ReentrantLock\u66ff\u4ee3\uff0c\u53ef\u4ee5\u628a\u4ee3\u7801\u6539\u9020\u4e3a\uff1a public class Counter { private final Lock lock = new ReentrantLock(); private int count; public void add(int n) { lock.lock(); try { count += n; } finally { lock.unlock(); } } } \u9ad8\u7ea7\u7528\u6cd5 ReentrantLock\u662f\u53ef\u91cd\u5165\u9501\uff0c\u5b83\u548csynchronized\u4e00\u6837\uff0c\u4e00\u4e2a\u7ebf\u7a0b\u53ef\u4ee5\u591a\u6b21\u83b7\u53d6\u540c\u4e00\u4e2a\u9501\u3002 \u548csynchronized\u4e0d\u540c\u7684\u662f\uff0cReentrantLock\u53ef\u4ee5\u5c1d\u8bd5\u83b7\u53d6\u9501\uff1a if (lock.tryLock(1, TimeUnit.SECONDS)) { try { ... } finally { lock.unlock(); } } \u4e0a\u8ff0\u4ee3\u7801\u5728\u5c1d\u8bd5\u83b7\u53d6\u9501\u7684\u65f6\u5019\uff0c\u6700\u591a\u7b49\u5f851\u79d2\u3002\u5982\u679c1\u79d2\u540e\u4ecd\u672a\u83b7\u53d6\u5230\u9501\uff0ctryLock()\u8fd4\u56defalse\uff0c\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u505a\u4e00\u4e9b\u989d\u5916\u5904\u7406\uff0c\u800c\u4e0d\u662f\u65e0\u9650\u7b49\u5f85\u4e0b\u53bb\u3002 \u6240\u4ee5\uff0c\u4f7f\u7528ReentrantLock\u6bd4\u76f4\u63a5\u4f7f\u7528synchronized\u66f4\u5b89\u5168\uff0c\u7ebf\u7a0b\u5728tryLock()\u5931\u8d25\u7684\u65f6\u5019\u4e0d\u4f1a\u5bfc\u81f4\u6b7b\u9501\u3002","title":"reentrantLock"},{"location":"thread/#_7","text":"","title":"\u4e0b\u4e00\u7bc7 \u7ebf\u7a0b\u6c60"},{"location":"threadPool/","text":"\u542b\u4e49 \u88c5\u7ebf\u7a0b\u7684\u6c60\u5b50\uff0c\u76ee\u7684\u662f\u7ba1\u7406\u7ebf\u7a0b\uff0c\u907f\u514d\u5927\u91cf\u521b\u5efa\u7ebf\u7a0b\uff0c\u589e\u52a0\u5f00\u9500\uff0c\u5f71\u54cd\u54cd\u5e94\u901f\u5ea6\u3002 //\u4e94\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue) //\u516d\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570-1 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue, ThreadFactory threadFactory) //\u516d\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570-2 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue, RejectedExecutionHandler handler) //\u4e03\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) corePoolSize -> \u8be5\u7ebf\u7a0b\u6c60\u4e2d\u6838\u5fc3\u7ebf\u7a0b\u6570\u6700\u5927\u503c \u6838\u5fc3\u7ebf\u7a0b\uff1a\u5728\u521b\u5efa\u5b8c\u7ebf\u7a0b\u6c60\u4e4b\u540e\uff0c\u6838\u5fc3\u7ebf\u7a0b\u5148\u4e0d\u521b\u5efa\uff0c\u5728\u63a5\u5230\u4efb\u52a1\u4e4b\u540e\u521b\u5efa\u6838\u5fc3\u7ebf\u7a0b\u3002\u5e76\u4e14\u4f1a\u4e00\u76f4\u5b58\u5728\u4e8e\u7ebf\u7a0b\u6c60\u4e2d\uff08\u5373\u4f7f\u8fd9\u4e2a\u7ebf\u7a0b\u5565\u90fd\u4e0d\u5e72\uff09\uff0c\u6709\u4efb\u52a1\u8981\u6267\u884c\u65f6\uff0c\u5982\u679c\u6838\u5fc3\u7ebf\u7a0b\u6ca1\u6709\u88ab\u5360\u7528\uff0c\u4f1a\u4f18\u5148\u7528\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\u3002\u6570\u91cf\u4e00\u822c\u60c5\u51b5\u4e0b\u8bbe\u7f6e\u4e3aCPU\u6838\u6570\u7684\u4e8c\u500d\u5373\u53ef\u3002 maximumPoolSize -> \u8be5\u7ebf\u7a0b\u6c60\u4e2d\u7ebf\u7a0b\u603b\u6570\u6700\u5927\u503c \u7ebf\u7a0b\u603b\u6570=\u6838\u5fc3\u7ebf\u7a0b\u6570+\u975e\u6838\u5fc3\u7ebf\u7a0b\u6570\u3002 \u975e\u6838\u5fc3\u7ebf\u7a0b\uff1a\u7b80\u5355\u7406\u89e3\uff0c\u5373\u6838\u5fc3\u7ebf\u7a0b\u90fd\u88ab\u5360\u7528\uff0c\u4f46\u8fd8\u6709\u4efb\u52a1\u8981\u505a\uff0c\u5c31\u521b\u5efa\u975e\u6838\u5fc3\u7ebf\u7a0b\u3002 keepAliveTime -> \u975e\u6838\u5fc3\u7ebf\u7a0b\u95f2\u7f6e\u8d85\u65f6\u65f6\u957f \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7406\u89e3\u4e3a\uff0c\u4efb\u52a1\u5c11\uff0c\u4f46\u6c60\u4e2d\u7ebf\u7a0b\u591a\uff0c\u975e\u6838\u5fc3\u7ebf\u7a0b\u4e0d\u80fd\u767d\u517b\u7740\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u4e0d\u5de5\u4f5c\u7684\u5c31\u4f1a\u88ab\u5e72\u6389\uff0c\u4f46\u662f\u6838\u5fc3\u7ebf\u7a0b\u4f1a\u4fdd\u7559\u3002 TimeUnit -> keepAliveTime\u7684\u5355\u4f4d \u8fd9\u4e2a\u53c2\u6570\u662f\u4e2a\u679a\u4e3e\u7c7b\u578b * DAYS * HOURS * MINUTES * SECONDS * MILLISECONDS * MICROSECONDS * NANOSECONDS\u5fae\u6beb\u79d2 BlockingQueue workQueue -> \u7ebf\u7a0b\u6c60\u4e2d\u7684\u4efb\u52a1\u961f\u5217 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4efb\u52a1\u8fdb\u6765\u4e4b\u540e\u5148\u5206\u914d\u7ed9\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\uff0c\u6838\u5fc3\u7ebf\u7a0b\u5982\u679c\u90fd\u88ab\u5360\u7528\uff0c\u5e76\u4e0d\u4f1a\u7acb\u523b\u5f00\u542f\u975e\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\uff0c\u800c\u662f\u5c06\u4efb\u52a1\u63d2\u5165\u4efb\u52a1\u961f\u5217\u7b49\u5f85\u6267\u884c\uff0c\u6838\u5fc3\u7ebf\u7a0b\u4f1a\u4ece\u4efb\u52a1\u961f\u5217\u53d6\u4efb\u52a1\u6765\u6267\u884c\uff0c\u4efb\u52a1\u961f\u5217\u53ef\u4ee5\u8bbe\u7f6e\u6700\u5927\u503c\uff0c\u4e00\u65e6\u63d2\u5165\u7684\u4efb\u52a1\u8db3\u591f\u591a\uff0c\u8fbe\u5230\u6700\u5927\u503c\uff0c\u624d\u4f1a\u521b\u5efa\u975e\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\u3002 \u5e38\u89c1\u7684workQueue\u6709\u56db\u79cd\uff1a SynchronousQueue\uff1a\u8fd9\u4e2a\u961f\u5217\u63a5\u6536\u5230\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u4f1a\u76f4\u63a5\u63d0\u4ea4\u7ed9\u7ebf\u7a0b\u5904\u7406\uff0c\u800c\u4e0d\u4fdd\u7559\u5b83\uff0c\u5982\u679c\u6240\u6709\u7ebf\u7a0b\u90fd\u5728\u5de5\u4f5c\u600e\u4e48\u529e\uff1f\u90a3\u5c31\u65b0\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u4e2a\u4efb\u52a1\uff01\u6240\u4ee5\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u51fa\u73b0<\u7ebf\u7a0b\u6570\u8fbe\u5230\u4e86maximumPoolSize\u800c\u4e0d\u80fd\u65b0\u5efa\u7ebf\u7a0b>\u7684\u9519\u8bef\uff0c\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u578b\u961f\u5217\u7684\u65f6\u5019\uff0cmaximumPoolSize\u4e00\u822c\u6307\u5b9a\u6210Integer.MAX_VALUE\uff0c\u5373\u65e0\u9650\u5927\u3002 LinkedBlockingQueue\uff1a\u8fd9\u4e2a\u961f\u5217\u63a5\u6536\u5230\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u521b\u5efa\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u5c0f\u4e8e\u7ebf\u7a0b\u6c60\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u4e0a\u9650\uff0c\u5219\u65b0\u5efa\u7ebf\u7a0b(\u6838\u5fc3\u7ebf\u7a0b)\u5904\u7406\u4efb\u52a1\uff1b\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u521b\u5efa\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u7b49\u4e8e\u6838\u5fc3\u7ebf\u7a0b\u6570\u4e0a\u9650\uff0c\u5219\u8fdb\u5165\u961f\u5217\u7b49\u5f85\u3002\u7531\u4e8e\u8fd9\u4e2a\u961f\u5217\u6ca1\u6709\u6700\u5927\u503c\u9650\u5236\uff0c\u5373\u6240\u6709\u8d85\u8fc7\u6838\u5fc3\u7ebf\u7a0b\u6570\u7684\u4efb\u52a1\u90fd\u5c06\u88ab\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\uff0c\u8fd9\u4e5f\u5c31\u5bfc\u81f4\u4e86maximumPoolSize\u7684\u8bbe\u5b9a\u5931\u6548\uff0c\u56e0\u4e3a\u603b\u7ebf\u7a0b\u6570\u6c38\u8fdc\u4e0d\u4f1a\u8d85\u8fc7corePoolSize ArrayBlockingQueue\uff1a\u53ef\u4ee5\u9650\u5b9a\u961f\u5217\u7684\u957f\u5ea6\uff0c\u63a5\u6536\u5230\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709\u8fbe\u5230corePoolSize\u7684\u503c\uff0c\u5219\u65b0\u5efa\u7ebf\u7a0b(\u6838\u5fc3\u7ebf\u7a0b)\u6267\u884c\u4efb\u52a1\uff0c\u5982\u679c\u8fbe\u5230\u4e86\uff0c\u5219\u5165\u961f\u7b49\u5019\uff0c\u5982\u679c\u961f\u5217\u5df2\u6ee1\uff0c\u5219\u65b0\u5efa\u7ebf\u7a0b(\u975e\u6838\u5fc3\u7ebf\u7a0b)\u6267\u884c\u4efb\u52a1\uff0c\u53c8\u5982\u679c\u603b\u7ebf\u7a0b\u6570\u5230\u4e86maximumPoolSize\uff0c\u5e76\u4e14\u961f\u5217\u4e5f\u6ee1\u4e86\uff0c\u5219\u53d1\u751f\u9519\u8bef\uff0c\u6216\u662f\u6267\u884c\u5b9e\u73b0\u5b9a\u4e49\u597d\u7684\u9971\u548c\u7b56\u7565\u3002 DelayQueue\uff1a\u961f\u5217\u5185\u5143\u7d20\u5fc5\u987b\u5b9e\u73b0Delayed\u63a5\u53e3\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u4f20\u8fdb\u53bb\u7684\u4efb\u52a1\u5fc5\u987b\u5148\u5b9e\u73b0Delayed\u63a5\u53e3\u3002\u8fd9\u4e2a\u961f\u5217\u63a5\u6536\u5230\u4efb\u52a1\u65f6\uff0c\u9996\u5148\u5148\u5165\u961f\uff0c\u53ea\u6709\u8fbe\u5230\u4e86\u6307\u5b9a\u7684\u5ef6\u65f6\u65f6\u95f4\uff0c\u624d\u4f1a\u6267\u884c\u4efb\u52a1\u3002 ThreadFactory threadFactory -> \u521b\u5efa\u7ebf\u7a0b\u7684\u5de5\u5382 \u53ef\u4ee5\u7528\u7ebf\u7a0b\u5de5\u5382\u7ed9\u6bcf\u4e2a\u521b\u5efa\u51fa\u6765\u7684\u7ebf\u7a0b\u8bbe\u7f6e\u540d\u5b57\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u65e0\u987b\u8bbe\u7f6e\u8be5\u53c2\u6570\u3002 RejectedExecutionHandler handler -> \u9971\u548c\u7b56\u7565 \u8fd9\u662f\u5f53\u4efb\u52a1\u961f\u5217\u548c\u7ebf\u7a0b\u6c60\u90fd\u6ee1\u4e86\u65f6\u6240\u91c7\u53d6\u7684\u5e94\u5bf9\u7b56\u7565\uff0c\u9ed8\u8ba4\u662fAbordPolicy\uff0c \u8868\u793a\u65e0\u6cd5\u5904\u7406\u65b0\u4efb\u52a1\uff0c\u5e76\u629b\u51fa RejectedExecutionException \u5f02\u5e38\u3002\u6b64\u5916\u8fd8\u67093\u79cd\u7b56\u7565\uff0c\u5b83\u4eec\u5206\u522b\u5982\u4e0b\u3002 CallerRunsPolicy\uff1a\u7528\u8c03\u7528\u8005\u6240\u5728\u7684\u7ebf\u7a0b\u6765\u5904\u7406\u4efb\u52a1\u3002\u6b64\u7b56\u7565\u63d0\u4f9b\u7b80\u5355\u7684\u53cd\u9988\u63a7\u5236\u673a\u5236\uff0c\u80fd\u591f\u51cf\u7f13\u65b0\u4efb\u52a1\u7684\u63d0\u4ea4\u901f\u5ea6\u3002 DiscardPolicy\uff1a\u4e0d\u80fd\u6267\u884c\u7684\u4efb\u52a1\uff0c\u5e76\u5c06\u8be5\u4efb\u52a1\u5220\u9664\u3002 DiscardOldestPolicy\uff1a\u4e22\u5f03\u961f\u5217\u6700\u8fd1\u7684\u4efb\u52a1\uff0c\u5e76\u6267\u884c\u5f53\u524d\u7684\u4efb\u52a1\u3002 \u5982\u4f55\u4f7f\u7528\u7ebf\u7a0b\u6c60 \u4ee5\u4e0a\u662f\u539f\u7406\uff0c\u7ebf\u9762\u8bf4\u7528\u6cd5\uff0cjava\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u56db\u79cd\u7ebf\u7a0b\u6c60 FixedThreadPool * CachedThreadPool * SingleThreadExecutor * ScheduledThreadPool FixedThreadPool \u53ef\u91cd\u7528\u56fa\u5b9a\u7ebf\u7a0b\u6570\u7684\u7ebf\u7a0b\u6c60\uff0c\u8d85\u51fa\u7684\u7ebf\u7a0b\u4f1a\u5728\u961f\u5217\u4e2d\u7b49\u5f85\uff0c\u5728Executors\u7c7b\u4e2d\u6211\u4eec\u53ef\u4ee5\u627e\u5230\u521b\u5efa\u65b9\u5f0f public static ExecutorService newFixedThreadPool(int nThreads) { return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>()); } FixedThreadPool\u7684corePoolSize\u548cmaximumPoolSize\u90fd\u8bbe\u7f6e\u4e3a\u53c2\u6570nThreads\uff0c\u4e5f\u5c31\u662f\u53ea\u6709\u56fa\u5b9a\u6570\u91cf\u7684\u6838\u5fc3\u7ebf\u7a0b\uff0c\u4e0d\u5b58\u5728\u975e\u6838\u5fc3\u7ebf\u7a0b\u3002keepAliveTime\u4e3a0L\u8868\u793a\u591a\u4f59\u7684\u7ebf\u7a0b\u7acb\u523b\u7ec8\u6b62\uff0c\u56e0\u4e3a\u4e0d\u4f1a\u4ea7\u751f\u591a\u4f59\u7684\u7ebf\u7a0b\uff0c\u6240\u4ee5\u8fd9\u4e2a\u53c2\u6570\u662f\u65e0\u6548\u7684\u3002FixedThreadPool\u7684\u4efb\u52a1\u961f\u5217\u91c7\u7528\u7684\u662fLinkedBlockingQueue\u3002 \u521b\u5efa\u7ebf\u7a0b\u6c60\u7684\u65b9\u6cd5\uff0c\u5728\u6211\u4eec\u7684\u7a0b\u5e8f\u4e2d\u53ea\u9700\u8981\uff0c\u540e\u9762\u5176\u4ed6\u79cd\u7c7b\u7684\u540c\u7406\uff1a public static void main(String[] args) { // \u53c2\u6570\u662f\u8981\u7ebf\u7a0b\u6c60\u7684\u7ebf\u7a0b\u6700\u5927\u503c ExecutorService executorService = Executors.newFixedThreadPool(10); } CachedThreadPool CachedThreadPool\u662f\u4e00\u4e2a\u6839\u636e\u9700\u8981\u521b\u5efa\u7ebf\u7a0b\u7684\u7ebf\u7a0b\u6c60\u3002 public static ExecutorService newCachedThreadPool() { return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue<Runnable>()); } CachedThreadPool\u7684corePoolSize\u662f0\uff0cmaximumPoolSize\u662fInt\u7684\u6700\u5927\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4CachedThreadPool\u6ca1\u6709\u6838\u5fc3\u7ebf\u7a0b\uff0c\u5168\u90e8\u90fd\u662f\u975e\u6838\u5fc3\u7ebf\u7a0b\uff0c\u5e76\u4e14\u6ca1\u6709\u4e0a\u9650\u3002keepAliveTime\u662f60\u79d2\uff0c\u5c31\u662f\u8bf4\u7a7a\u95f2\u7ebf\u7a0b\u7b49\u5f85\u65b0\u4efb\u52a160\u79d2\uff0c\u8d85\u65f6\u5219\u9500\u6bc1\u3002\u6b64\u5904\u7528\u5230\u7684\u961f\u5217\u662f\u963b\u585e\u961f\u5217SynchronousQueue,\u8fd9\u4e2a\u961f\u5217\u6ca1\u6709\u7f13\u51b2\u533a\uff0c\u6240\u4ee5\u5176\u4e2d\u6700\u591a\u53ea\u80fd\u5b58\u5728\u4e00\u4e2a\u5143\u7d20,\u6709\u65b0\u7684\u4efb\u52a1\u5219\u963b\u585e\u7b49\u5f85\u3002 SingleThreadExecutor SingleThreadExecutor\u662f\u4f7f\u7528\u5355\u4e2a\u7ebf\u7a0b\u5de5\u4f5c\u7684\u7ebf\u7a0b\u6c60\u3002\u5176\u521b\u5efa\u6e90\u7801\u5982\u4e0b public static ExecutorService newSingleThreadExecutor() { return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>())); } \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u603b\u7ebf\u7a0b\u6570\u548c\u6838\u5fc3\u7ebf\u7a0b\u6570\u90fd\u662f1\uff0c\u6240\u4ee5\u5c31\u53ea\u6709\u4e00\u4e2a\u6838\u5fc3\u7ebf\u7a0b\u3002\u8be5\u7ebf\u7a0b\u6c60\u624d\u7528\u94fe\u8868\u963b\u585e\u961f\u5217LinkedBlockingQueue\uff0c\u5148\u8fdb\u5148\u51fa\u539f\u5219\uff0c\u6240\u4ee5\u4fdd\u8bc1\u4e86\u4efb\u52a1\u7684\u6309\u987a\u5e8f\u9010\u4e00\u8fdb\u884c\u3002 ScheduledThreadPool ScheduledThreadPool\u662f\u4e00\u4e2a\u80fd\u5b9e\u73b0\u5b9a\u65f6\u548c\u5468\u671f\u6027\u4efb\u52a1\u7684\u7ebf\u7a0b\u6c60\uff0c\u5b83\u7684\u521b\u5efa\u6e90\u7801\u5982\u4e0b\uff1a public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) { return new ScheduledThreadPoolExecutor(corePoolSize); } \u53ef\u4ee5\u770b\u51facorePoolSize\u662f\u4f20\u8fdb\u6765\u7684\u56fa\u5b9a\u503c\uff0cmaximumPoolSize\u65e0\u9650\u5927\uff0c\u56e0\u4e3a\u91c7\u7528\u7684\u961f\u5217DelayedWorkQueue\u662f\u65e0\u89e3\u7684\uff0c\u6240\u4ee5maximumPoolSize\u53c2\u6570\u65e0\u6548\u3002\u8be5\u7ebf\u7a0b\u6c60\u6267\u884c\u5982\u4e0b\uff1a \u5f53\u6267\u884cscheduleAtFixedRate\u6216\u8005scheduleWithFixedDelay\u65b9\u6cd5\u65f6\uff0c\u4f1a\u5411DelayedWorkQueue\u6dfb\u52a0\u4e00\u4e2a\u5b9e\u73b0RunnableScheduledFuture\u63a5\u53e3\u7684ScheduledFutureTask(\u4efb\u52a1\u7684\u5305\u88c5\u7c7b)\uff0c\u5e76\u4f1a\u68c0\u67e5\u8fd0\u884c\u7684\u7ebf\u7a0b\u662f\u5426\u8fbe\u5230corePoolSize\u3002\u5982\u679c\u6ca1\u6709\u5219\u65b0\u5efa\u7ebf\u7a0b\u5e76\u542f\u52a8ScheduledFutureTask\uff0c\u7136\u540e\u53bb\u6267\u884c\u4efb\u52a1\u3002 \u5982\u679c\u8fd0\u884c\u7684\u7ebf\u7a0b\u8fbe\u5230\u4e86corePoolSize\u65f6\uff0c\u5219\u5c06\u4efb\u52a1\u6dfb\u52a0\u5230DelayedWorkQueue\u4e2d\u3002DelayedWorkQueue\u4f1a\u5c06\u4efb\u52a1\u8fdb\u884c\u6392\u5e8f\uff0c\u5148\u8981\u6267\u884c\u7684\u4efb\u52a1\u4f1a\u653e\u5728\u961f\u5217\u7684\u524d\u9762\u3002\u5728\u8ddf\u6b64\u524d\u4ecb\u7ecd\u7684\u7ebf\u7a0b\u6c60\u4e0d\u540c\u7684\u662f\uff0c\u5f53\u6267\u884c\u5b8c\u4efb\u52a1\u540e\uff0c\u4f1a\u5c06ScheduledFutureTask\u4e2d\u7684time\u53d8\u91cf\u6539\u4e3a\u4e0b\u6b21\u8981\u6267\u884c\u7684\u65f6\u95f4\u5e76\u653e\u56de\u5230DelayedWorkQueue\u4e2d\u3002","title":"\u7ebf\u7a0b\u6c60"},{"location":"threadPool/#_1","text":"\u88c5\u7ebf\u7a0b\u7684\u6c60\u5b50\uff0c\u76ee\u7684\u662f\u7ba1\u7406\u7ebf\u7a0b\uff0c\u907f\u514d\u5927\u91cf\u521b\u5efa\u7ebf\u7a0b\uff0c\u589e\u52a0\u5f00\u9500\uff0c\u5f71\u54cd\u54cd\u5e94\u901f\u5ea6\u3002 //\u4e94\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue) //\u516d\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570-1 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue, ThreadFactory threadFactory) //\u516d\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570-2 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue, RejectedExecutionHandler handler) //\u4e03\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570 public ThreadPoolExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, TimeUnit unit, BlockingQueue<Runnable> workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler) corePoolSize -> \u8be5\u7ebf\u7a0b\u6c60\u4e2d\u6838\u5fc3\u7ebf\u7a0b\u6570\u6700\u5927\u503c \u6838\u5fc3\u7ebf\u7a0b\uff1a\u5728\u521b\u5efa\u5b8c\u7ebf\u7a0b\u6c60\u4e4b\u540e\uff0c\u6838\u5fc3\u7ebf\u7a0b\u5148\u4e0d\u521b\u5efa\uff0c\u5728\u63a5\u5230\u4efb\u52a1\u4e4b\u540e\u521b\u5efa\u6838\u5fc3\u7ebf\u7a0b\u3002\u5e76\u4e14\u4f1a\u4e00\u76f4\u5b58\u5728\u4e8e\u7ebf\u7a0b\u6c60\u4e2d\uff08\u5373\u4f7f\u8fd9\u4e2a\u7ebf\u7a0b\u5565\u90fd\u4e0d\u5e72\uff09\uff0c\u6709\u4efb\u52a1\u8981\u6267\u884c\u65f6\uff0c\u5982\u679c\u6838\u5fc3\u7ebf\u7a0b\u6ca1\u6709\u88ab\u5360\u7528\uff0c\u4f1a\u4f18\u5148\u7528\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\u3002\u6570\u91cf\u4e00\u822c\u60c5\u51b5\u4e0b\u8bbe\u7f6e\u4e3aCPU\u6838\u6570\u7684\u4e8c\u500d\u5373\u53ef\u3002 maximumPoolSize -> \u8be5\u7ebf\u7a0b\u6c60\u4e2d\u7ebf\u7a0b\u603b\u6570\u6700\u5927\u503c \u7ebf\u7a0b\u603b\u6570=\u6838\u5fc3\u7ebf\u7a0b\u6570+\u975e\u6838\u5fc3\u7ebf\u7a0b\u6570\u3002 \u975e\u6838\u5fc3\u7ebf\u7a0b\uff1a\u7b80\u5355\u7406\u89e3\uff0c\u5373\u6838\u5fc3\u7ebf\u7a0b\u90fd\u88ab\u5360\u7528\uff0c\u4f46\u8fd8\u6709\u4efb\u52a1\u8981\u505a\uff0c\u5c31\u521b\u5efa\u975e\u6838\u5fc3\u7ebf\u7a0b\u3002 keepAliveTime -> \u975e\u6838\u5fc3\u7ebf\u7a0b\u95f2\u7f6e\u8d85\u65f6\u65f6\u957f \u8fd9\u4e2a\u53c2\u6570\u53ef\u4ee5\u7406\u89e3\u4e3a\uff0c\u4efb\u52a1\u5c11\uff0c\u4f46\u6c60\u4e2d\u7ebf\u7a0b\u591a\uff0c\u975e\u6838\u5fc3\u7ebf\u7a0b\u4e0d\u80fd\u767d\u517b\u7740\uff0c\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u4e0d\u5de5\u4f5c\u7684\u5c31\u4f1a\u88ab\u5e72\u6389\uff0c\u4f46\u662f\u6838\u5fc3\u7ebf\u7a0b\u4f1a\u4fdd\u7559\u3002 TimeUnit -> keepAliveTime\u7684\u5355\u4f4d \u8fd9\u4e2a\u53c2\u6570\u662f\u4e2a\u679a\u4e3e\u7c7b\u578b * DAYS * HOURS * MINUTES * SECONDS * MILLISECONDS * MICROSECONDS * NANOSECONDS\u5fae\u6beb\u79d2 BlockingQueue workQueue -> \u7ebf\u7a0b\u6c60\u4e2d\u7684\u4efb\u52a1\u961f\u5217 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4efb\u52a1\u8fdb\u6765\u4e4b\u540e\u5148\u5206\u914d\u7ed9\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\uff0c\u6838\u5fc3\u7ebf\u7a0b\u5982\u679c\u90fd\u88ab\u5360\u7528\uff0c\u5e76\u4e0d\u4f1a\u7acb\u523b\u5f00\u542f\u975e\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\uff0c\u800c\u662f\u5c06\u4efb\u52a1\u63d2\u5165\u4efb\u52a1\u961f\u5217\u7b49\u5f85\u6267\u884c\uff0c\u6838\u5fc3\u7ebf\u7a0b\u4f1a\u4ece\u4efb\u52a1\u961f\u5217\u53d6\u4efb\u52a1\u6765\u6267\u884c\uff0c\u4efb\u52a1\u961f\u5217\u53ef\u4ee5\u8bbe\u7f6e\u6700\u5927\u503c\uff0c\u4e00\u65e6\u63d2\u5165\u7684\u4efb\u52a1\u8db3\u591f\u591a\uff0c\u8fbe\u5230\u6700\u5927\u503c\uff0c\u624d\u4f1a\u521b\u5efa\u975e\u6838\u5fc3\u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\u3002 \u5e38\u89c1\u7684workQueue\u6709\u56db\u79cd\uff1a SynchronousQueue\uff1a\u8fd9\u4e2a\u961f\u5217\u63a5\u6536\u5230\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u4f1a\u76f4\u63a5\u63d0\u4ea4\u7ed9\u7ebf\u7a0b\u5904\u7406\uff0c\u800c\u4e0d\u4fdd\u7559\u5b83\uff0c\u5982\u679c\u6240\u6709\u7ebf\u7a0b\u90fd\u5728\u5de5\u4f5c\u600e\u4e48\u529e\uff1f\u90a3\u5c31\u65b0\u5efa\u4e00\u4e2a\u7ebf\u7a0b\u6765\u5904\u7406\u8fd9\u4e2a\u4efb\u52a1\uff01\u6240\u4ee5\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u51fa\u73b0<\u7ebf\u7a0b\u6570\u8fbe\u5230\u4e86maximumPoolSize\u800c\u4e0d\u80fd\u65b0\u5efa\u7ebf\u7a0b>\u7684\u9519\u8bef\uff0c\u4f7f\u7528\u8fd9\u4e2a\u7c7b\u578b\u961f\u5217\u7684\u65f6\u5019\uff0cmaximumPoolSize\u4e00\u822c\u6307\u5b9a\u6210Integer.MAX_VALUE\uff0c\u5373\u65e0\u9650\u5927\u3002 LinkedBlockingQueue\uff1a\u8fd9\u4e2a\u961f\u5217\u63a5\u6536\u5230\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u521b\u5efa\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u5c0f\u4e8e\u7ebf\u7a0b\u6c60\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u4e0a\u9650\uff0c\u5219\u65b0\u5efa\u7ebf\u7a0b(\u6838\u5fc3\u7ebf\u7a0b)\u5904\u7406\u4efb\u52a1\uff1b\u5982\u679c\u5f53\u524d\u5df2\u7ecf\u521b\u5efa\u7684\u6838\u5fc3\u7ebf\u7a0b\u6570\u7b49\u4e8e\u6838\u5fc3\u7ebf\u7a0b\u6570\u4e0a\u9650\uff0c\u5219\u8fdb\u5165\u961f\u5217\u7b49\u5f85\u3002\u7531\u4e8e\u8fd9\u4e2a\u961f\u5217\u6ca1\u6709\u6700\u5927\u503c\u9650\u5236\uff0c\u5373\u6240\u6709\u8d85\u8fc7\u6838\u5fc3\u7ebf\u7a0b\u6570\u7684\u4efb\u52a1\u90fd\u5c06\u88ab\u6dfb\u52a0\u5230\u961f\u5217\u4e2d\uff0c\u8fd9\u4e5f\u5c31\u5bfc\u81f4\u4e86maximumPoolSize\u7684\u8bbe\u5b9a\u5931\u6548\uff0c\u56e0\u4e3a\u603b\u7ebf\u7a0b\u6570\u6c38\u8fdc\u4e0d\u4f1a\u8d85\u8fc7corePoolSize ArrayBlockingQueue\uff1a\u53ef\u4ee5\u9650\u5b9a\u961f\u5217\u7684\u957f\u5ea6\uff0c\u63a5\u6536\u5230\u4efb\u52a1\u7684\u65f6\u5019\uff0c\u5982\u679c\u6ca1\u6709\u8fbe\u5230corePoolSize\u7684\u503c\uff0c\u5219\u65b0\u5efa\u7ebf\u7a0b(\u6838\u5fc3\u7ebf\u7a0b)\u6267\u884c\u4efb\u52a1\uff0c\u5982\u679c\u8fbe\u5230\u4e86\uff0c\u5219\u5165\u961f\u7b49\u5019\uff0c\u5982\u679c\u961f\u5217\u5df2\u6ee1\uff0c\u5219\u65b0\u5efa\u7ebf\u7a0b(\u975e\u6838\u5fc3\u7ebf\u7a0b)\u6267\u884c\u4efb\u52a1\uff0c\u53c8\u5982\u679c\u603b\u7ebf\u7a0b\u6570\u5230\u4e86maximumPoolSize\uff0c\u5e76\u4e14\u961f\u5217\u4e5f\u6ee1\u4e86\uff0c\u5219\u53d1\u751f\u9519\u8bef\uff0c\u6216\u662f\u6267\u884c\u5b9e\u73b0\u5b9a\u4e49\u597d\u7684\u9971\u548c\u7b56\u7565\u3002 DelayQueue\uff1a\u961f\u5217\u5185\u5143\u7d20\u5fc5\u987b\u5b9e\u73b0Delayed\u63a5\u53e3\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u4f60\u4f20\u8fdb\u53bb\u7684\u4efb\u52a1\u5fc5\u987b\u5148\u5b9e\u73b0Delayed\u63a5\u53e3\u3002\u8fd9\u4e2a\u961f\u5217\u63a5\u6536\u5230\u4efb\u52a1\u65f6\uff0c\u9996\u5148\u5148\u5165\u961f\uff0c\u53ea\u6709\u8fbe\u5230\u4e86\u6307\u5b9a\u7684\u5ef6\u65f6\u65f6\u95f4\uff0c\u624d\u4f1a\u6267\u884c\u4efb\u52a1\u3002 ThreadFactory threadFactory -> \u521b\u5efa\u7ebf\u7a0b\u7684\u5de5\u5382 \u53ef\u4ee5\u7528\u7ebf\u7a0b\u5de5\u5382\u7ed9\u6bcf\u4e2a\u521b\u5efa\u51fa\u6765\u7684\u7ebf\u7a0b\u8bbe\u7f6e\u540d\u5b57\u3002\u4e00\u822c\u60c5\u51b5\u4e0b\u65e0\u987b\u8bbe\u7f6e\u8be5\u53c2\u6570\u3002 RejectedExecutionHandler handler -> \u9971\u548c\u7b56\u7565 \u8fd9\u662f\u5f53\u4efb\u52a1\u961f\u5217\u548c\u7ebf\u7a0b\u6c60\u90fd\u6ee1\u4e86\u65f6\u6240\u91c7\u53d6\u7684\u5e94\u5bf9\u7b56\u7565\uff0c\u9ed8\u8ba4\u662fAbordPolicy\uff0c \u8868\u793a\u65e0\u6cd5\u5904\u7406\u65b0\u4efb\u52a1\uff0c\u5e76\u629b\u51fa RejectedExecutionException \u5f02\u5e38\u3002\u6b64\u5916\u8fd8\u67093\u79cd\u7b56\u7565\uff0c\u5b83\u4eec\u5206\u522b\u5982\u4e0b\u3002 CallerRunsPolicy\uff1a\u7528\u8c03\u7528\u8005\u6240\u5728\u7684\u7ebf\u7a0b\u6765\u5904\u7406\u4efb\u52a1\u3002\u6b64\u7b56\u7565\u63d0\u4f9b\u7b80\u5355\u7684\u53cd\u9988\u63a7\u5236\u673a\u5236\uff0c\u80fd\u591f\u51cf\u7f13\u65b0\u4efb\u52a1\u7684\u63d0\u4ea4\u901f\u5ea6\u3002 DiscardPolicy\uff1a\u4e0d\u80fd\u6267\u884c\u7684\u4efb\u52a1\uff0c\u5e76\u5c06\u8be5\u4efb\u52a1\u5220\u9664\u3002 DiscardOldestPolicy\uff1a\u4e22\u5f03\u961f\u5217\u6700\u8fd1\u7684\u4efb\u52a1\uff0c\u5e76\u6267\u884c\u5f53\u524d\u7684\u4efb\u52a1\u3002","title":"\u542b\u4e49"},{"location":"threadPool/#_2","text":"\u4ee5\u4e0a\u662f\u539f\u7406\uff0c\u7ebf\u9762\u8bf4\u7528\u6cd5\uff0cjava\u7ed9\u6211\u4eec\u63d0\u4f9b\u4e86\u56db\u79cd\u7ebf\u7a0b\u6c60 FixedThreadPool * CachedThreadPool * SingleThreadExecutor * ScheduledThreadPool FixedThreadPool \u53ef\u91cd\u7528\u56fa\u5b9a\u7ebf\u7a0b\u6570\u7684\u7ebf\u7a0b\u6c60\uff0c\u8d85\u51fa\u7684\u7ebf\u7a0b\u4f1a\u5728\u961f\u5217\u4e2d\u7b49\u5f85\uff0c\u5728Executors\u7c7b\u4e2d\u6211\u4eec\u53ef\u4ee5\u627e\u5230\u521b\u5efa\u65b9\u5f0f public static ExecutorService newFixedThreadPool(int nThreads) { return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>()); } FixedThreadPool\u7684corePoolSize\u548cmaximumPoolSize\u90fd\u8bbe\u7f6e\u4e3a\u53c2\u6570nThreads\uff0c\u4e5f\u5c31\u662f\u53ea\u6709\u56fa\u5b9a\u6570\u91cf\u7684\u6838\u5fc3\u7ebf\u7a0b\uff0c\u4e0d\u5b58\u5728\u975e\u6838\u5fc3\u7ebf\u7a0b\u3002keepAliveTime\u4e3a0L\u8868\u793a\u591a\u4f59\u7684\u7ebf\u7a0b\u7acb\u523b\u7ec8\u6b62\uff0c\u56e0\u4e3a\u4e0d\u4f1a\u4ea7\u751f\u591a\u4f59\u7684\u7ebf\u7a0b\uff0c\u6240\u4ee5\u8fd9\u4e2a\u53c2\u6570\u662f\u65e0\u6548\u7684\u3002FixedThreadPool\u7684\u4efb\u52a1\u961f\u5217\u91c7\u7528\u7684\u662fLinkedBlockingQueue\u3002 \u521b\u5efa\u7ebf\u7a0b\u6c60\u7684\u65b9\u6cd5\uff0c\u5728\u6211\u4eec\u7684\u7a0b\u5e8f\u4e2d\u53ea\u9700\u8981\uff0c\u540e\u9762\u5176\u4ed6\u79cd\u7c7b\u7684\u540c\u7406\uff1a public static void main(String[] args) { // \u53c2\u6570\u662f\u8981\u7ebf\u7a0b\u6c60\u7684\u7ebf\u7a0b\u6700\u5927\u503c ExecutorService executorService = Executors.newFixedThreadPool(10); } CachedThreadPool CachedThreadPool\u662f\u4e00\u4e2a\u6839\u636e\u9700\u8981\u521b\u5efa\u7ebf\u7a0b\u7684\u7ebf\u7a0b\u6c60\u3002 public static ExecutorService newCachedThreadPool() { return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue<Runnable>()); } CachedThreadPool\u7684corePoolSize\u662f0\uff0cmaximumPoolSize\u662fInt\u7684\u6700\u5927\u503c\uff0c\u4e5f\u5c31\u662f\u8bf4CachedThreadPool\u6ca1\u6709\u6838\u5fc3\u7ebf\u7a0b\uff0c\u5168\u90e8\u90fd\u662f\u975e\u6838\u5fc3\u7ebf\u7a0b\uff0c\u5e76\u4e14\u6ca1\u6709\u4e0a\u9650\u3002keepAliveTime\u662f60\u79d2\uff0c\u5c31\u662f\u8bf4\u7a7a\u95f2\u7ebf\u7a0b\u7b49\u5f85\u65b0\u4efb\u52a160\u79d2\uff0c\u8d85\u65f6\u5219\u9500\u6bc1\u3002\u6b64\u5904\u7528\u5230\u7684\u961f\u5217\u662f\u963b\u585e\u961f\u5217SynchronousQueue,\u8fd9\u4e2a\u961f\u5217\u6ca1\u6709\u7f13\u51b2\u533a\uff0c\u6240\u4ee5\u5176\u4e2d\u6700\u591a\u53ea\u80fd\u5b58\u5728\u4e00\u4e2a\u5143\u7d20,\u6709\u65b0\u7684\u4efb\u52a1\u5219\u963b\u585e\u7b49\u5f85\u3002 SingleThreadExecutor SingleThreadExecutor\u662f\u4f7f\u7528\u5355\u4e2a\u7ebf\u7a0b\u5de5\u4f5c\u7684\u7ebf\u7a0b\u6c60\u3002\u5176\u521b\u5efa\u6e90\u7801\u5982\u4e0b public static ExecutorService newSingleThreadExecutor() { return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue<Runnable>())); } \u6211\u4eec\u53ef\u4ee5\u770b\u5230\u603b\u7ebf\u7a0b\u6570\u548c\u6838\u5fc3\u7ebf\u7a0b\u6570\u90fd\u662f1\uff0c\u6240\u4ee5\u5c31\u53ea\u6709\u4e00\u4e2a\u6838\u5fc3\u7ebf\u7a0b\u3002\u8be5\u7ebf\u7a0b\u6c60\u624d\u7528\u94fe\u8868\u963b\u585e\u961f\u5217LinkedBlockingQueue\uff0c\u5148\u8fdb\u5148\u51fa\u539f\u5219\uff0c\u6240\u4ee5\u4fdd\u8bc1\u4e86\u4efb\u52a1\u7684\u6309\u987a\u5e8f\u9010\u4e00\u8fdb\u884c\u3002 ScheduledThreadPool ScheduledThreadPool\u662f\u4e00\u4e2a\u80fd\u5b9e\u73b0\u5b9a\u65f6\u548c\u5468\u671f\u6027\u4efb\u52a1\u7684\u7ebf\u7a0b\u6c60\uff0c\u5b83\u7684\u521b\u5efa\u6e90\u7801\u5982\u4e0b\uff1a public static ScheduledExecutorService newScheduledThreadPool(int corePoolSize) { return new ScheduledThreadPoolExecutor(corePoolSize); } \u53ef\u4ee5\u770b\u51facorePoolSize\u662f\u4f20\u8fdb\u6765\u7684\u56fa\u5b9a\u503c\uff0cmaximumPoolSize\u65e0\u9650\u5927\uff0c\u56e0\u4e3a\u91c7\u7528\u7684\u961f\u5217DelayedWorkQueue\u662f\u65e0\u89e3\u7684\uff0c\u6240\u4ee5maximumPoolSize\u53c2\u6570\u65e0\u6548\u3002\u8be5\u7ebf\u7a0b\u6c60\u6267\u884c\u5982\u4e0b\uff1a \u5f53\u6267\u884cscheduleAtFixedRate\u6216\u8005scheduleWithFixedDelay\u65b9\u6cd5\u65f6\uff0c\u4f1a\u5411DelayedWorkQueue\u6dfb\u52a0\u4e00\u4e2a\u5b9e\u73b0RunnableScheduledFuture\u63a5\u53e3\u7684ScheduledFutureTask(\u4efb\u52a1\u7684\u5305\u88c5\u7c7b)\uff0c\u5e76\u4f1a\u68c0\u67e5\u8fd0\u884c\u7684\u7ebf\u7a0b\u662f\u5426\u8fbe\u5230corePoolSize\u3002\u5982\u679c\u6ca1\u6709\u5219\u65b0\u5efa\u7ebf\u7a0b\u5e76\u542f\u52a8ScheduledFutureTask\uff0c\u7136\u540e\u53bb\u6267\u884c\u4efb\u52a1\u3002 \u5982\u679c\u8fd0\u884c\u7684\u7ebf\u7a0b\u8fbe\u5230\u4e86corePoolSize\u65f6\uff0c\u5219\u5c06\u4efb\u52a1\u6dfb\u52a0\u5230DelayedWorkQueue\u4e2d\u3002DelayedWorkQueue\u4f1a\u5c06\u4efb\u52a1\u8fdb\u884c\u6392\u5e8f\uff0c\u5148\u8981\u6267\u884c\u7684\u4efb\u52a1\u4f1a\u653e\u5728\u961f\u5217\u7684\u524d\u9762\u3002\u5728\u8ddf\u6b64\u524d\u4ecb\u7ecd\u7684\u7ebf\u7a0b\u6c60\u4e0d\u540c\u7684\u662f\uff0c\u5f53\u6267\u884c\u5b8c\u4efb\u52a1\u540e\uff0c\u4f1a\u5c06ScheduledFutureTask\u4e2d\u7684time\u53d8\u91cf\u6539\u4e3a\u4e0b\u6b21\u8981\u6267\u884c\u7684\u65f6\u95f4\u5e76\u653e\u56de\u5230DelayedWorkQueue\u4e2d\u3002","title":"\u5982\u4f55\u4f7f\u7528\u7ebf\u7a0b\u6c60"},{"location":"touchEvent/","text":"\u4e8b\u4ef6\u5206\u53d1 \u5206\u53d1\u7684\u662f\u4ec0\u4e48\u4e1c\u897f\uff1f\u5373\u4e8b\u4ef6\u6709\u54ea\u4e9b\uff1f \u4e8b\u4ef6\u5728\u8c01\u4e4b\u95f4\u4f20\u9012\uff1f \u4e8b\u4ef6\u5206\u53d1\u7684\u8fc7\u7a0b \u4e8b\u4ef6\u5206\u53d1 \u5206\u53d1\u7684\u662f\u4ec0\u4e48\u4e1c\u897f\uff1f\u5373\u4e8b\u4ef6\u6709\u54ea\u4e9b\uff1f 1. MotionEvent.ACTION_DOWN 2. MotionEvent.ACTION_UP 3. MotionEvent.ACTION_MOVE 4. MotionEvent.ACTION_CANCEL \u5176\u4e2d\u5728\u4e00\u6b21\u6ed1\u52a8\u4e2dMove\u4e8b\u4ef6\u4f1a\u88ab\u591a\u6b21\u89e6\u53d1 \u4e8b\u4ef6\u5728\u8c01\u4e4b\u95f4\u4f20\u9012\uff1f \u76f8\u5173\u51fd\u6570 Activity: dispatchTouchEvent(MotionEvent event) onTouchEvent(MotionEvent event) ViewGroup: dispatchTouchEvent(MotionEvent event) onInterCeptTouchEvent(MotionEvent event) onTouchEvent(MotionEvent event) View: onTouchEvent(MotionEvent event) dispatchTouchEvent(MotionEvent event) dispatchTouchEvent:\u4e8b\u4ef6\u4f20\u5165\u65f6\u8c03\u7528\uff0c\u5206\u53d1\u4e8b\u4ef6 OnTouchEvent:\u5904\u7406\u4e8b\u4ef6 onInterceptTouchEvent\u662fviewGroup\u7279\u6709\u7684\u4e8b\u4ef6\u662f\u5426\u62e6\u622a\u4e8b\u4ef6 \u4e8b\u4ef6\u5206\u53d1\u7684\u8fc7\u7a0b \u53ef\u5c06U\u578b\u56fe\u5de6\u8fb9\u770b\u6210\u662f\u5206\u6d3e\u9636\u6bb5\uff0c\u53f3\u8fb9\u662f\u56de\u6eaf\u9636\u6bb5 \u5206\u6d3e\u9636\u6bb5\uff1a \u671f\u671b\u884c\u4e3a \u64cd\u4f5c \u7ee7\u7eed\u5206\u914d \u8c03\u7528super \u6d88\u8d39\u4e8b\u4ef6\uff0c\u7ec8\u6b62\u6574\u4e2a\u6d41\u7a0b dispatch return true \u7ec8\u6b62\u5206\u6d3e\uff0c\u5411\u4e0a\u56de\u6eaf dispatch return false \u7ec8\u6b62\u5206\u6d3e\uff0c\u4ea4\u7ed9\u81ea\u5df1\u5904\u7406 ViewGroup: \u62e6\u622a\u5668\u8fd4\u56de true; View: \u8c03\u7528 super \u56de\u6eaf\u9636\u6bb5\uff1a |\u671f\u671b\u884c\u4e3a|\u64cd\u4f5c| |---|---| |\u7ee7\u7eed\u56de\u6eaf|\u8c03\u7528 super \u6216 return false| |\u6d88\u8d39\u4e8b\u4ef6\uff0c\u7ec8\u6b62\u56de\u6eaf|return true| \u4f8b\uff1aactivity\u4e2d\u653e\u4e00\u4e2alinerlayout,linerlayout\u4e2d\u653e\u4e00\u4e2awebview\uff0c\u4e8b\u4ef6\u4f20\u9012\u5982\u4e0b\uff1a \u4e8b\u4ef6\u7684\u4f20\u9012\u987a\u5e8f\uff1aactivity-viewGroup-view \u4e8b\u4ef6\u5904\u7406\u7684\u987a\u5e8f\uff1aview-viewGroup-activity \u5982\u679c\u8ba9viewGroup\u7684onInterceptTouchEvnet\u8fd4\u56detrue,\u4e8b\u4ef6\u4e0d\u4f1a\u518d\u6d41\u5411view. \u4e0a\u9762\u62e6\u622a\u4e86\u4e8b\u4ef6\uff0c\u4f7f\u5f97\u4e8b\u4ef6\u4e0d\u4f1a\u4f20\u5411view\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u6d88\u8d39\u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u6700\u540e\u8fd8\u662f\u6d41\u56de\u4e86activity,\u5982\u679c\u8981\u6d88\u8d39\u4e8b\u4ef6\uff0c\u4e00\u822c\u8981\u5bf9\u63a7\u4ef6\u6dfb\u52a0setOnTouchListener\u7684\u76d1\u542c\uff0c\u5e76\u4e14\u8fd4\u56detrue,\u8868\u793a\u4e8b\u4ef6\u5c31\u6b64\u6d88\u8d39\uff0c\u4e0d\u518d\u5f80\u56de\u4f20\u9012\uff1a LinearLayout ll = findViewById(R.id.ll); ll.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { Log.d(\"TEST\", \"ViewGroup \u6d88\u8d39\u4e8b\u4ef6\" ); return true; } }); \u4ee5\u4e0a\u4e24\u6761\u770b\u5230\u4e86viewGroup\u5982\u4f55\u62e6\u622a\u548c\u6d88\u8d39\u4e8b\u4ef6\uff0cview\u662f\u5982\u4f55\u6d88\u8d39\u4e8b\u4ef6\uff1f TWebView tWebView = findViewById(R.id.tWebView); tWebView.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { v.getParent().requestDisallowInterceptTouchEvent(true); Log.d(\"TEST TOUCH\", \"View \u6d88\u8d39\u4e8b\u4ef6\"); return true; } }); \u540c\u6837\u7684\u5728setOnTouchListener\u4e2d\u7684onTouch\u65b9\u6cd5\u4e2d\u8fd4\u56deture\u7136\u540e\u518d\u52a0\u4e0arequestDisallowInterceptTouchEvent(boolean disallowIntercept)\u8bf7\u6c42\u7236\u63a7\u4ef6\u4e0d\u8981\u62e6\u622a\u4e8b\u4ef6\uff0c\u53c2\u6570\u4e3ature\uff0c\u5219\u4e0d\u4f1a\u62e6\u622a TWebView tWebView = findViewById(R.id.tWebView); tWebView.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { v.getParent().requestDisallowInterceptTouchEvent(true); Log.d(\"TEST TOUCH\", \"View \u6d88\u8d39\u4e8b\u4ef6\"); return true; } }); ##### \u7ecf\u5178\u4f8b\u5b50 1. scrollView\u4e2d\u5d4c\u5957viewpager(\u4e0d\u63a8\u8350) ``` \u4e24\u79cd\u65b9\u6cd5\uff1a \u4e00\u3001\u81ea\u5b9a\u4e49\u7236view scrollView\uff0c\u590d\u5199onInterceptTouchEvent\u65b9\u6cd5\uff0c\u5728MOVE\u4e2d\u5224\u65ad\u51fa\u6a2a\u5411\u79fb\u52a8\u4e0d\u62e6\u622a\u4e8b\u4ef6\u3002 public class MyScrollView extends ScrollView { private float mDownPosX = 0; private float mDownPosY = 0; public MyScrollView(Context context) { super(context); } public MyScrollView(Context context, AttributeSet attributeSet){ super(context); } @Override public boolean onInterceptTouchEvent(MotionEvent ev) { float x = ev.getRawX(); float y = ev.getRawY(); switch (ev.getAction()) { case MotionEvent.ACTION_DOWN: mDownPosX = x; mDownPosY = y; break; case MotionEvent.ACTION_MOVE: float deltaX = Math.abs(x - mDownPosX); float deltaY = Math.abs(y - mDownPosY); //\u6a2a\u5411\u6ed1\u52a8\u4e0d\u62e6\u622a if (deltaX > deltaY) { return false; } break; case MotionEvent.ACTION_UP: break; } return super.onInterceptTouchEvent(ev); } } \u4e8c\u3001\u81ea\u5b9a\u4e49\u5b50view ViewPager,\u590d\u5199dispathTouchEvent,\u5224\u65ad\u662f\u6a2a\u5411\u79fb\u52a8\u8bf7\u6c42\u7236\u7c7b\u4e0d\u8981\u62e6\u622a\uff0c\u4fdd\u8bc1\u5b50\u7c7b\u80fd\u6536\u5230\u3002 public class MyViewPager extends ViewPager { private static final String TAG = MyViewPager.class.getSimpleName(); int lastX = -1; int lastY = -1; public MyViewPager(@NonNull Context context) { super(context); } /** * \u5fc5\u987b\u8981\u590d\u5199\uff0c\u4e0d\u7136\u5728xml\u4e2d\u5f15\u7528\u8be5\u63a7\u4ef6\u4f1a\u62a5inflateException * @param context * @param attrs */ public MyViewPager(@NonNull Context context, @Nullable AttributeSet attrs) { super(context, attrs); } @Override public boolean dispatchTouchEvent(MotionEvent ev) { int x = (int) ev.getRawX(); int y = (int) ev.getRawY(); int dealtX = 0; int dealtY = 0; switch (ev.getAction()) { case MotionEvent.ACTION_DOWN: dealtX = 0; dealtY = 0; // \u4fdd\u8bc1\u5b50View\u80fd\u591f\u63a5\u6536\u5230Action_move\u4e8b\u4ef6 getParent().requestDisallowInterceptTouchEvent(true); break; case MotionEvent.ACTION_MOVE: dealtX += Math.abs(x - lastX); dealtY += Math.abs(y - lastY); Log.i(TAG, \"dealtX:=\" + dealtX); Log.i(TAG, \"dealtY:=\" + dealtY); // \u8fd9\u91cc\u662f\u591f\u62e6\u622a\u7684\u5224\u65ad\u4f9d\u636e\u662f\u5de6\u53f3\u6ed1\u52a8\uff0c\u8bfb\u8005\u53ef\u6839\u636e\u81ea\u5df1\u7684\u903b\u8f91\u8fdb\u884c\u662f\u5426\u62e6\u622a if (dealtX >= dealtY) { getParent().requestDisallowInterceptTouchEvent(true); } else { getParent().requestDisallowInterceptTouchEvent(false); } lastX = x; lastY = y; break; case MotionEvent.ACTION_CANCEL: break; case MotionEvent.ACTION_UP: break; } return super.dispatchTouchEvent(ev); } } 2. ViewPager\u4e2d\u5d4c\u5957ViewPager \u91cd\u5199\u5b50View\u7684dispatchTouchEvent\u65b9\u6cd5\uff0c\u5728\u5b50view\u9700\u8981\u62e6\u622a\u7684\u65f6\u5019\u8fdb\u884c\u62e6\u622a\uff0c\u5426\u5219\u4ea4\u7ed9\u7236view\u5904\u7406\u3002 \u5f53\u5f53\u524d\u9875\u9762\u5904\u4e8e\u7b2c\u4e00\u9875\u6216\u8005\u6700\u540e\u4e00\u9875\u7684\u65f6\u5019\u89e6\u6478\u4e8b\u4ef6\u4ea4\u7ed9\u7236view\u5904\u7406\u3002 public class ChildViewPager extends ViewPager { private static final String TAG = \"xujun\"; public ChildViewPager(Context context) { super(context); } public ChildViewPager(Context context, AttributeSet attrs) { super(context, attrs); } @Override public boolean dispatchTouchEvent(MotionEvent ev) { int curPosition; switch (ev.getAction()) { case MotionEvent.ACTION_DOWN: getParent().requestDisallowInterceptTouchEvent(true); break; case MotionEvent.ACTION_MOVE: curPosition = this.getCurrentItem(); int count = this.getAdapter().getCount(); Log.i(TAG, \"curPosition:=\" +curPosition); // \u5f53\u5f53\u524d\u9875\u9762\u5728\u6700\u540e\u4e00\u9875\u548c\u7b2c0\u9875\u7684\u65f6\u5019\uff0c\u7531\u7236View\u62e6\u622a\u89e6\u6478\u4e8b\u4ef6 if (curPosition == count - 1|| curPosition==0) { getParent().requestDisallowInterceptTouchEvent(false); } else {//\u5176\u4ed6\u60c5\u51b5\uff0c\u7531\u5b50ViewPager\u62e6\u622a\u89e6\u6478\u4e8b\u4ef6 getParent().requestDisallowInterceptTouchEvent(true); } } return super.dispatchTouchEvent(ev); } } ``` ##### \u5199\u5728\u6700\u540e \u91c7\u7528ScrollView\u4e2d\u5d4c\u5957viewpager\u548cRecyclerView\u7684\u65b9\u5f0f\u95ee\u9898\u6bd4\u8f83\u591a\uff0c\u5982\u5728fragment\u4e2dRecyclerview\u62a2\u5360\u7126\u70b9\uff0c\u7528\u6237\u4f53\u9a8c\u4e0d\u597d\uff0c\u53ef\u91c7\u7528\u4ee5\u4e0b\u65b9\u5f0f\u66ff\u6362\uff1a 1. \u4f7f\u7528ListView\u6216\u8005RecyclerView\u6dfb\u52a0headView\u6765\u5b9e\u73b0\u3002 \u9e3f\u6d0b\u4f18\u96c5\u7684\u4e3aRecyclerView\u6dfb\u52a0headerView 2. \u4f7f\u7528SupportLibrary\u4e2d\u7684CoordinatorLayout\u7b49\u63a7\u4ef6 \u4f7f\u7528CoordinaryLayout","title":"\u4e8b\u4ef6\u5206\u53d1"},{"location":"touchEvent/#_1","text":"","title":"\u4e8b\u4ef6\u5206\u53d1"},{"location":"touchEvent/#_2","text":"1. MotionEvent.ACTION_DOWN 2. MotionEvent.ACTION_UP 3. MotionEvent.ACTION_MOVE 4. MotionEvent.ACTION_CANCEL \u5176\u4e2d\u5728\u4e00\u6b21\u6ed1\u52a8\u4e2dMove\u4e8b\u4ef6\u4f1a\u88ab\u591a\u6b21\u89e6\u53d1","title":"\u5206\u53d1\u7684\u662f\u4ec0\u4e48\u4e1c\u897f\uff1f\u5373\u4e8b\u4ef6\u6709\u54ea\u4e9b\uff1f"},{"location":"touchEvent/#_3","text":"\u76f8\u5173\u51fd\u6570 Activity: dispatchTouchEvent(MotionEvent event) onTouchEvent(MotionEvent event) ViewGroup: dispatchTouchEvent(MotionEvent event) onInterCeptTouchEvent(MotionEvent event) onTouchEvent(MotionEvent event) View: onTouchEvent(MotionEvent event) dispatchTouchEvent(MotionEvent event) dispatchTouchEvent:\u4e8b\u4ef6\u4f20\u5165\u65f6\u8c03\u7528\uff0c\u5206\u53d1\u4e8b\u4ef6 OnTouchEvent:\u5904\u7406\u4e8b\u4ef6 onInterceptTouchEvent\u662fviewGroup\u7279\u6709\u7684\u4e8b\u4ef6\u662f\u5426\u62e6\u622a\u4e8b\u4ef6","title":"\u4e8b\u4ef6\u5728\u8c01\u4e4b\u95f4\u4f20\u9012\uff1f"},{"location":"touchEvent/#_4","text":"\u53ef\u5c06U\u578b\u56fe\u5de6\u8fb9\u770b\u6210\u662f\u5206\u6d3e\u9636\u6bb5\uff0c\u53f3\u8fb9\u662f\u56de\u6eaf\u9636\u6bb5 \u5206\u6d3e\u9636\u6bb5\uff1a \u671f\u671b\u884c\u4e3a \u64cd\u4f5c \u7ee7\u7eed\u5206\u914d \u8c03\u7528super \u6d88\u8d39\u4e8b\u4ef6\uff0c\u7ec8\u6b62\u6574\u4e2a\u6d41\u7a0b dispatch return true \u7ec8\u6b62\u5206\u6d3e\uff0c\u5411\u4e0a\u56de\u6eaf dispatch return false \u7ec8\u6b62\u5206\u6d3e\uff0c\u4ea4\u7ed9\u81ea\u5df1\u5904\u7406 ViewGroup: \u62e6\u622a\u5668\u8fd4\u56de true; View: \u8c03\u7528 super \u56de\u6eaf\u9636\u6bb5\uff1a |\u671f\u671b\u884c\u4e3a|\u64cd\u4f5c| |---|---| |\u7ee7\u7eed\u56de\u6eaf|\u8c03\u7528 super \u6216 return false| |\u6d88\u8d39\u4e8b\u4ef6\uff0c\u7ec8\u6b62\u56de\u6eaf|return true| \u4f8b\uff1aactivity\u4e2d\u653e\u4e00\u4e2alinerlayout,linerlayout\u4e2d\u653e\u4e00\u4e2awebview\uff0c\u4e8b\u4ef6\u4f20\u9012\u5982\u4e0b\uff1a \u4e8b\u4ef6\u7684\u4f20\u9012\u987a\u5e8f\uff1aactivity-viewGroup-view \u4e8b\u4ef6\u5904\u7406\u7684\u987a\u5e8f\uff1aview-viewGroup-activity \u5982\u679c\u8ba9viewGroup\u7684onInterceptTouchEvnet\u8fd4\u56detrue,\u4e8b\u4ef6\u4e0d\u4f1a\u518d\u6d41\u5411view. \u4e0a\u9762\u62e6\u622a\u4e86\u4e8b\u4ef6\uff0c\u4f7f\u5f97\u4e8b\u4ef6\u4e0d\u4f1a\u4f20\u5411view\uff0c\u4f46\u662f\u5e76\u6ca1\u6709\u6d88\u8d39\u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u6700\u540e\u8fd8\u662f\u6d41\u56de\u4e86activity,\u5982\u679c\u8981\u6d88\u8d39\u4e8b\u4ef6\uff0c\u4e00\u822c\u8981\u5bf9\u63a7\u4ef6\u6dfb\u52a0setOnTouchListener\u7684\u76d1\u542c\uff0c\u5e76\u4e14\u8fd4\u56detrue,\u8868\u793a\u4e8b\u4ef6\u5c31\u6b64\u6d88\u8d39\uff0c\u4e0d\u518d\u5f80\u56de\u4f20\u9012\uff1a LinearLayout ll = findViewById(R.id.ll); ll.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { Log.d(\"TEST\", \"ViewGroup \u6d88\u8d39\u4e8b\u4ef6\" ); return true; } }); \u4ee5\u4e0a\u4e24\u6761\u770b\u5230\u4e86viewGroup\u5982\u4f55\u62e6\u622a\u548c\u6d88\u8d39\u4e8b\u4ef6\uff0cview\u662f\u5982\u4f55\u6d88\u8d39\u4e8b\u4ef6\uff1f TWebView tWebView = findViewById(R.id.tWebView); tWebView.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { v.getParent().requestDisallowInterceptTouchEvent(true); Log.d(\"TEST TOUCH\", \"View \u6d88\u8d39\u4e8b\u4ef6\"); return true; } }); \u540c\u6837\u7684\u5728setOnTouchListener\u4e2d\u7684onTouch\u65b9\u6cd5\u4e2d\u8fd4\u56deture\u7136\u540e\u518d\u52a0\u4e0arequestDisallowInterceptTouchEvent(boolean disallowIntercept)\u8bf7\u6c42\u7236\u63a7\u4ef6\u4e0d\u8981\u62e6\u622a\u4e8b\u4ef6\uff0c\u53c2\u6570\u4e3ature\uff0c\u5219\u4e0d\u4f1a\u62e6\u622a TWebView tWebView = findViewById(R.id.tWebView); tWebView.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { v.getParent().requestDisallowInterceptTouchEvent(true); Log.d(\"TEST TOUCH\", \"View \u6d88\u8d39\u4e8b\u4ef6\"); return true; } }); ##### \u7ecf\u5178\u4f8b\u5b50 1. scrollView\u4e2d\u5d4c\u5957viewpager(\u4e0d\u63a8\u8350) ``` \u4e24\u79cd\u65b9\u6cd5\uff1a \u4e00\u3001\u81ea\u5b9a\u4e49\u7236view scrollView\uff0c\u590d\u5199onInterceptTouchEvent\u65b9\u6cd5\uff0c\u5728MOVE\u4e2d\u5224\u65ad\u51fa\u6a2a\u5411\u79fb\u52a8\u4e0d\u62e6\u622a\u4e8b\u4ef6\u3002 public class MyScrollView extends ScrollView { private float mDownPosX = 0; private float mDownPosY = 0; public MyScrollView(Context context) { super(context); } public MyScrollView(Context context, AttributeSet attributeSet){ super(context); } @Override public boolean onInterceptTouchEvent(MotionEvent ev) { float x = ev.getRawX(); float y = ev.getRawY(); switch (ev.getAction()) { case MotionEvent.ACTION_DOWN: mDownPosX = x; mDownPosY = y; break; case MotionEvent.ACTION_MOVE: float deltaX = Math.abs(x - mDownPosX); float deltaY = Math.abs(y - mDownPosY); //\u6a2a\u5411\u6ed1\u52a8\u4e0d\u62e6\u622a if (deltaX > deltaY) { return false; } break; case MotionEvent.ACTION_UP: break; } return super.onInterceptTouchEvent(ev); } } \u4e8c\u3001\u81ea\u5b9a\u4e49\u5b50view ViewPager,\u590d\u5199dispathTouchEvent,\u5224\u65ad\u662f\u6a2a\u5411\u79fb\u52a8\u8bf7\u6c42\u7236\u7c7b\u4e0d\u8981\u62e6\u622a\uff0c\u4fdd\u8bc1\u5b50\u7c7b\u80fd\u6536\u5230\u3002 public class MyViewPager extends ViewPager { private static final String TAG = MyViewPager.class.getSimpleName(); int lastX = -1; int lastY = -1; public MyViewPager(@NonNull Context context) { super(context); } /** * \u5fc5\u987b\u8981\u590d\u5199\uff0c\u4e0d\u7136\u5728xml\u4e2d\u5f15\u7528\u8be5\u63a7\u4ef6\u4f1a\u62a5inflateException * @param context * @param attrs */ public MyViewPager(@NonNull Context context, @Nullable AttributeSet attrs) { super(context, attrs); } @Override public boolean dispatchTouchEvent(MotionEvent ev) { int x = (int) ev.getRawX(); int y = (int) ev.getRawY(); int dealtX = 0; int dealtY = 0; switch (ev.getAction()) { case MotionEvent.ACTION_DOWN: dealtX = 0; dealtY = 0; // \u4fdd\u8bc1\u5b50View\u80fd\u591f\u63a5\u6536\u5230Action_move\u4e8b\u4ef6 getParent().requestDisallowInterceptTouchEvent(true); break; case MotionEvent.ACTION_MOVE: dealtX += Math.abs(x - lastX); dealtY += Math.abs(y - lastY); Log.i(TAG, \"dealtX:=\" + dealtX); Log.i(TAG, \"dealtY:=\" + dealtY); // \u8fd9\u91cc\u662f\u591f\u62e6\u622a\u7684\u5224\u65ad\u4f9d\u636e\u662f\u5de6\u53f3\u6ed1\u52a8\uff0c\u8bfb\u8005\u53ef\u6839\u636e\u81ea\u5df1\u7684\u903b\u8f91\u8fdb\u884c\u662f\u5426\u62e6\u622a if (dealtX >= dealtY) { getParent().requestDisallowInterceptTouchEvent(true); } else { getParent().requestDisallowInterceptTouchEvent(false); } lastX = x; lastY = y; break; case MotionEvent.ACTION_CANCEL: break; case MotionEvent.ACTION_UP: break; } return super.dispatchTouchEvent(ev); } } 2. ViewPager\u4e2d\u5d4c\u5957ViewPager \u91cd\u5199\u5b50View\u7684dispatchTouchEvent\u65b9\u6cd5\uff0c\u5728\u5b50view\u9700\u8981\u62e6\u622a\u7684\u65f6\u5019\u8fdb\u884c\u62e6\u622a\uff0c\u5426\u5219\u4ea4\u7ed9\u7236view\u5904\u7406\u3002 \u5f53\u5f53\u524d\u9875\u9762\u5904\u4e8e\u7b2c\u4e00\u9875\u6216\u8005\u6700\u540e\u4e00\u9875\u7684\u65f6\u5019\u89e6\u6478\u4e8b\u4ef6\u4ea4\u7ed9\u7236view\u5904\u7406\u3002 public class ChildViewPager extends ViewPager { private static final String TAG = \"xujun\"; public ChildViewPager(Context context) { super(context); } public ChildViewPager(Context context, AttributeSet attrs) { super(context, attrs); } @Override public boolean dispatchTouchEvent(MotionEvent ev) { int curPosition; switch (ev.getAction()) { case MotionEvent.ACTION_DOWN: getParent().requestDisallowInterceptTouchEvent(true); break; case MotionEvent.ACTION_MOVE: curPosition = this.getCurrentItem(); int count = this.getAdapter().getCount(); Log.i(TAG, \"curPosition:=\" +curPosition); // \u5f53\u5f53\u524d\u9875\u9762\u5728\u6700\u540e\u4e00\u9875\u548c\u7b2c0\u9875\u7684\u65f6\u5019\uff0c\u7531\u7236View\u62e6\u622a\u89e6\u6478\u4e8b\u4ef6 if (curPosition == count - 1|| curPosition==0) { getParent().requestDisallowInterceptTouchEvent(false); } else {//\u5176\u4ed6\u60c5\u51b5\uff0c\u7531\u5b50ViewPager\u62e6\u622a\u89e6\u6478\u4e8b\u4ef6 getParent().requestDisallowInterceptTouchEvent(true); } } return super.dispatchTouchEvent(ev); } } ``` ##### \u5199\u5728\u6700\u540e \u91c7\u7528ScrollView\u4e2d\u5d4c\u5957viewpager\u548cRecyclerView\u7684\u65b9\u5f0f\u95ee\u9898\u6bd4\u8f83\u591a\uff0c\u5982\u5728fragment\u4e2dRecyclerview\u62a2\u5360\u7126\u70b9\uff0c\u7528\u6237\u4f53\u9a8c\u4e0d\u597d\uff0c\u53ef\u91c7\u7528\u4ee5\u4e0b\u65b9\u5f0f\u66ff\u6362\uff1a 1. \u4f7f\u7528ListView\u6216\u8005RecyclerView\u6dfb\u52a0headView\u6765\u5b9e\u73b0\u3002 \u9e3f\u6d0b\u4f18\u96c5\u7684\u4e3aRecyclerView\u6dfb\u52a0headerView 2. \u4f7f\u7528SupportLibrary\u4e2d\u7684CoordinatorLayout\u7b49\u63a7\u4ef6 \u4f7f\u7528CoordinaryLayout","title":"\u4e8b\u4ef6\u5206\u53d1\u7684\u8fc7\u7a0b"},{"location":"videoBasic/","text":"\u4e00\u3001\u751f\u6d3b\u4e2d\u7684\u89c6\u97f3\u9891 \u5e38\u89c1\u7684\u89c6\u9891\u6587\u4ef6\u683c\u5f0f \u4e00\u3001\u751f\u6d3b\u4e2d\u7684\u89c6\u97f3\u9891 \u56db\u3001\u5c01\u88c5\u683c\u5f0f \u4e94\u3001\u89c6\u9891\u7f16\u7801 \u4e3b\u6d41\u7f16\u7801\u6807\u51c6 \u4e0b\u4e00\u4ee3\u7f16\u7801\u6807\u51c6 \u516d\u3001\u97f3\u9891\u7f16\u7801 \u4e03\u3001\u73b0\u6709\u7f51\u7edc\u89c6\u97f3\u9891\u5e73\u53f0\u5bf9\u6bd4 \u76f4\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4 \u70b9\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4 \u516b\u3001\u7801\u7387\uff08bitrate\uff09\u5e27\u7387\uff08f p s\uff09\u5206\u8fa8\u7387\u548c\u6e05\u6670\u5ea6\u7684\u8054\u7cfb\u4e0e\u533a\u522b \u7801\u7387 \uff0c\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u9001\u7684\u6570\u636e\u4f4d\u6570\uff0c\u5355\u4f4dk p b s/s\u5373\u5343\u4f4d\u6bcf\u79d2\uff0c\u5f71\u54cd\u4f53\u79ef\u548c\u6e05\u6670\u5ea6\uff0c\u4e0e\u4f53\u79ef\u6210\u6b63\u6bd4\uff1a\u7801\u7387\u8d8a\u5927\uff0c\u4f53\u79ef\u8d8a\u5927\uff1b\u7801\u7387\u8d8a\u5c0f\uff0c\u4f53\u79ef\u8d8a\u5c0f\u3002 \u5e27\u7387f p s\uff0c1\u79d2\u5185\u4f20\u8f93\u7684\u56fe\u7247\u6570\u91cf\uff0c\u5f71\u54cd\u753b\u9762\u6d41\u7a0b\u5ea6\uff0c\u4e0e\u753b\u9762\u6d41\u7545\u5ea6\u6210\u6b63\u6bd4\uff0c\u5e27\u7387\u8d8a\u5927\u8d8a\u6d41\u7545\uff0c\u5e27\u7387\u8d8a\u5c0f\u753b\u9762\u8d8a\u6709\u8df3\u52a8\u611f\uff0c\u5e27\u7387\u8d8a\u9ad8\uff0c\u6bcf\u79d2\u7ecf\u8fc7\u7684\u753b\u9762\u8d8a\u591a\uff0c\u9700\u8981\u7684\u7801\u7387\u4e5f\u8d8a\u9ad8\uff0c\u4f53\u79ef\u5927 \u5206\u8fa8\u7387 \uff0c\u5f71\u54cd\u56fe\u50cf\u5927\u5c0f\uff0c\u5206\u522b\u7387\u8d8a\u9ad8\u56fe\u50cf\u8d8a\u5927\uff0c\u5206\u8fa8\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u5c0f\u3002 \u4e5d \u3001I\u5e27 B\u5e27 P\u5e27 \uff1aavi\uff0crmvb\uff0cmp4\uff0cflv\uff0cmkv\u7b49\u7b49\uff0c\u8fd9\u4e9b\u683c\u5f0f\u4ee3\u8868\u7684\u662f\u5c01\u88c5\u683c\u5f0f\uff0c\u5c31\u662f\u628a\u89c6\u9891\u6570\u636e\u548c\u97f3\u9891\u6570\u636e\u6253\u5305\u6210\u4e00\u4e2a\u6587\u4ef6\u7684\u89c4\u8303\uff0c\u4e0d\u540c\u7684\u5c01\u88c5\u683c\u5f0f\u4e4b\u95f4\u5404\u6709\u52a3\u52bf\u3002 \u57fa\u672c\u6982\u5ff5 ``` AVC/h264: Advanced Video Coding\u7b80\u79f0 \u89c6\u9891\u7f16\u89e3\u7801\u6709\u4e24\u5957\u6807\u51c6\uff1a \u56fd\u9645\u7535\u8054\uff1ah261\u3001h263\u3001h263+\u7b49 ISO: MPEG-1\u3001MPEG-2\u3001MPEG-4\u7b49 AVC/h264\u662f\u4e24\u5927\u7ec4\u7ec7\u7ed3\u5408H263+\u548cMPEG-4\u7684\u4f18\u70b9\u8054\u5408\u63a8\u51fa\u7684\u6807\u51c6\uff0c\u66f4\u9ad8\u7684\u6570\u636e\u538b\u7f29\u6bd4\uff0c\u540c\u7b49\u56fe\u50cf\u8d28\u91cf\u7684\u524d\u63d0\u4e0b\uff0cH264\u7684\u538b\u7f29\u6bd4\u6bd4H263\u9ad82\u500d\uff0c\u6bd4MPEG-4\u9ad81.5\u500d\u3002 ``` \u5de5\u5177 \u67e5\u770b\u5a92\u4f53\u4fe1\u606f\u5de5\u5177\uff1aMediaInfo https://mediaarea.net/download/current/MediaInfo_GUI_20.09_Windows.exe #### \u4e8c\u3001\u89c6\u9891\u64ad\u653e\u5668\u539f\u7406 \u89e3\u534f\u8bae\u3001\u89e3\u5c01\u88c5\u3001\u89e3\u7801\u89c6\u97f3\u9891\u3001\u89c6\u97f3\u9891\u540c\u6b65 mermaid graph TD; \u6570\u636e-->\u89e3\u534f\u8bae; \u89e3\u534f\u8bae-->\u5c01\u88c5\u683c\u5f0f\u6570\u636e; \u5c01\u88c5\u683c\u5f0f\u6570\u636e-->\u89e3\u5c01\u88c5; \u89e3\u5c01\u88c5-->\u89c6\u9891\u538b\u7f29\u6570\u636e; \u89e3\u5c01\u88c5-->\u97f3\u9891\u538b\u7f29\u6570\u636e; \u89c6\u9891\u538b\u7f29\u6570\u636e-->\u89c6\u9891\u89e3\u7801; \u97f3\u9891\u538b\u7f29\u6570\u636e-->\u97f3\u9891\u89e3\u7801; \u89c6\u9891\u89e3\u7801-->\u89c6\u9891\u539f\u6570\u636e; \u97f3\u9891\u89e3\u7801-->\u97f3\u9891\u539f\u6570\u636e; \u89c6\u9891\u539f\u6570\u636e--> \u89c6\u97f3\u9891\u540c\u6b65; \u97f3\u9891\u539f\u6570\u636e--> \u89c6\u97f3\u9891\u540c\u6b65; \u89c6\u97f3\u9891\u540c\u6b65--> \u97f3\u9891\u9a71\u52a8/\u8bbe\u5907; \u89c6\u97f3\u9891\u540c\u6b65--> \u89c6\u9891\u9a71\u52a8/\u8bbe\u5907; \u89e3\u534f\u8bae \u5c31\u662f\u5c06\u6d41\u5a92\u4f53\u534f\u8bae\u7684\u6570\u636e\uff0c\u89e3\u6790\u4e3a\u6807\u51c6\u7684\u76f8\u5e94\u7684\u5c01\u88c5\u683c\u5f0f\u6570\u636e\u3002\u89c6\u97f3\u9891\u5728\u7f51\u7edc\u4e0a\u4f20\u64ad\u7684\u65f6\u5019\uff0c\u5e38\u5e38\u91c7\u7528\u5404\u79cd\u6d41\u5a92\u4f53\u534f\u8bae\uff0c\u4f8b\u5982HTTP\uff0cRTMP\uff0c\u6216\u662fMMS\u7b49\u7b49\u3002\u8fd9\u4e9b\u534f\u8bae\u5728\u4f20\u8f93\u89c6\u97f3\u9891\u6570\u636e\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u4f20\u8f93\u4e00\u4e9b\u4fe1\u4ee4\u6570\u636e\u3002\u8fd9\u4e9b\u4fe1\u4ee4\u6570\u636e\u5305\u62ec\u5bf9\u64ad\u653e\u7684\u63a7\u5236\uff08\u64ad\u653e\uff0c\u6682\u505c\uff0c\u505c\u6b62\uff09\uff0c\u6216\u8005\u5bf9\u7f51\u7edc\u72b6\u6001\u7684\u63cf\u8ff0\u7b49\u3002\u89e3\u534f\u8bae\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u53bb\u9664\u6389\u4fe1\u4ee4\u6570\u636e\u800c\u53ea\u4fdd\u7559\u89c6\u97f3\u9891\u6570\u636e\u3002\u4f8b\u5982\uff0c\u91c7\u7528RTMP\u534f\u8bae\u4f20\u8f93\u7684\u6570\u636e\uff0c\u7ecf\u8fc7\u89e3\u534f\u8bae\u64cd\u4f5c\u540e\uff0c\u8f93\u51faFLV\u683c\u5f0f\u7684\u6570\u636e\u3002 \u89e3\u5c01\u88c5 \u5c31\u662f\u5c06\u8f93\u5165\u7684\u5c01\u88c5\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5206\u79bb\u6210\u4e3a\u97f3\u9891\u6d41\u538b\u7f29\u7f16\u7801\u6570\u636e\u548c\u89c6\u9891\u6d41\u538b\u7f29\u7f16\u7801\u6570\u636e\u3002\u5c01\u88c5\u683c\u5f0f\u79cd\u7c7b\u5f88\u591a\uff0c\u4f8b\u5982MP4\uff0cMKV\uff0cRMVB\uff0cTS\uff0cFLV\uff0cAVI\u7b49\u7b49\uff0c\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u5df2\u7ecf\u538b\u7f29\u7f16\u7801\u7684\u89c6\u9891\u6570\u636e\u548c\u97f3\u9891\u6570\u636e\u6309\u7167\u4e00\u5b9a\u7684\u683c\u5f0f\u653e\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0cFLV\u683c\u5f0f\u7684\u6570\u636e\uff0c\u7ecf\u8fc7\u89e3\u5c01\u88c5\u64cd\u4f5c\u540e\uff0c\u8f93\u51faH.264\u7f16\u7801\u7684\u89c6\u9891\u7801\u6d41\u548cAAC\u7f16\u7801\u7684\u97f3\u9891\u7801\u6d41\u3002 \u89e3\u7801 \u5c31\u662f\u5c06\u89c6\u9891/\u97f3\u9891\u538b\u7f29\u7f16\u7801\u6570\u636e\uff0c\u89e3\u7801\u6210\u4e3a\u975e\u538b\u7f29\u7684\u89c6\u9891/\u97f3\u9891\u539f\u59cb\u6570\u636e\u3002\u97f3\u9891\u7684\u538b\u7f29\u7f16\u7801\u6807\u51c6\u5305\u542bAAC\uff0cMP3\uff0cAC-3\u7b49\u7b49\uff0c\u89c6\u9891\u7684\u538b\u7f29\u7f16\u7801\u6807\u51c6\u5219\u5305\u542bH.264\uff0cMPEG2\uff0cVC-1\u7b49\u7b49\u3002\u89e3\u7801\u662f\u6574\u4e2a\u7cfb\u7edf\u4e2d\u6700\u91cd\u8981\u4e5f\u662f\u6700\u590d\u6742\u7684\u4e00\u4e2a\u73af\u8282\u3002\u901a\u8fc7\u89e3\u7801\uff0c\u538b\u7f29\u7f16\u7801\u7684\u89c6\u9891\u6570\u636e\u8f93\u51fa\u6210\u4e3a\u975e\u538b\u7f29\u7684\u989c\u8272\u6570\u636e\uff0c\u4f8b\u5982YUV420P\uff0cRGB\u7b49\u7b49\uff1b\u538b\u7f29\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e\u8f93\u51fa\u6210\u4e3a\u975e\u538b\u7f29\u7684\u97f3\u9891\u62bd\u6837\u6570\u636e\uff0c\u4f8b\u5982PCM\u6570\u636e\u3002 \u89c6\u97f3\u9891\u540c\u6b65 \u5c31\u662f\u6839\u636e\u89e3\u5c01\u88c5\u6a21\u5757\u5904\u7406\u8fc7\u7a0b\u4e2d\u83b7\u53d6\u5230\u7684\u53c2\u6570\u4fe1\u606f\uff0c\u540c\u6b65\u89e3\u7801\u51fa\u6765\u7684\u89c6\u9891\u548c\u97f3\u9891\u6570\u636e\uff0c\u5e76\u5c06\u89c6\u9891\u97f3\u9891\u6570\u636e\u9001\u81f3\u7cfb\u7edf\u7684\u663e\u5361\u548c\u58f0\u5361\u64ad\u653e\u51fa\u6765\u3002 #### \u4e09\u3001\u6d41\u5a92\u4f53\u534f\u8bae \u6d41\u5a92\u4f53\u534f\u8bae\u662f\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u4e4b\u95f4\u901a\u4fe1\u9075\u5faa\u7684\u89c4\u5b9a\u3002 \u540d\u79f0 \u63a8\u51fa\u673a\u6784 \u4f20\u8f93\u5c42\u534f\u8bae \u5ba2\u6237\u7aef \u76ee\u524d\u4f7f\u7528\u9886\u57df RTSP+RTP IETF TCP+UDP VLC, WMP IPTV RTMP Adobe Inc. TCP Flash \u4e92\u8054\u7f51\u76f4\u64ad RTMFP Adobe Inc. UDP Flash \u4e92\u8054\u7f51\u76f4\u64ad MMS Microsoft Inc. TCP/UDP WMP \u4e92\u8054\u7f51\u76f4\u64ad+\u70b9\u64ad HTTP WWW+IETF TCP Flash \u4e92\u8054\u7f51\u70b9\u64ad UDP\u4f20\u8f93\u89c6\u97f3\u9891\uff0c\u652f\u6301\u7ec4\u64ad\uff0c\u6548\u7387\u8f83\u9ad8\u3002\u4f46\u5176\u7f3a\u70b9\u662f\u7f51\u7edc\u4e0d\u597d\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u4e22\u5305\uff0c\u5f71\u54cd\u89c6\u9891\u89c2\u770b\u8d28\u91cf\u3002 \u56e0\u4e3a\u4e92\u8054\u7f51\u7f51\u7edc\u73af\u5883\u7684\u4e0d\u7a33\u5b9a\u6027\uff0cRTSP+RTP\u8f83\u5c11\u7528\u4e8e\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u4f20\u8f93\u3002\u4e92\u8054\u7f51\u89c6\u9891\u670d\u52a1\u901a\u5e38\u91c7\u7528TCP\u4f5c\u4e3a\u5176\u6d41\u5a92\u4f53\u7684\u4f20\u8f93\u5c42\u534f\u8bae\uff0c\u56e0\u800c\u50cfRTMP\uff0cMMS\uff0cHTTP\u8fd9\u7c7b\u7684\u534f\u8bae\u5e7f\u6cdb\u7528\u4e8e\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u670d\u52a1\u4e4b\u4e2d\u3002\u8fd9\u7c7b\u534f\u8bae\u4e0d\u4f1a\u53d1\u751f\u4e22\u5305\uff0c\u56e0\u800c\u4fdd\u8bc1\u4e86\u89c6\u9891\u7684\u8d28\u91cf\uff0c\u4f46\u662f\u4f20\u8f93\u7684\u6548\u7387\u4f1a\u76f8\u5bf9\u4f4e\u4e00\u4e9b\u3002 \u56db\u3001\u5c01\u88c5\u683c\u5f0f \u540d\u79f0 \u63a8\u51fa\u673a\u6784 \u6d41\u5a92\u4f53 \u652f\u6301\u7684\u89c6\u9891\u7f16\u7801 \u652f\u6301\u7684\u97f3\u9891\u7f16\u7801 \u76ee\u524d\u4f7f\u7528\u9886\u57df AVI Microsoft Inc. \u4e0d\u652f\u6301 \u51e0\u4e4e\u6240\u6709\u683c\u5f0f \u51e0\u4e4e\u6240\u6709\u683c\u5f0f BT\u4e0b\u8f7d\u5f71\u89c6 MP4 MPEG \u652f\u6301 MPEG-2, MPEG-4, H.264, H.263\u7b49 AAC, MPEG-1 Layers I, II, III, AC-3\u7b49 \u4e92\u8054\u7f51\u89c6\u9891\u7f51\u7ad9 TS MPEG \u652f\u6301 MPEG-1, MPEG-2, MPEG-4, H.264 MPEG-1 Layers I, II, III, AAC, IPTV\uff0c\u6570\u5b57\u7535\u89c6 FLV Adobe Inc. \u652f\u6301 Sorenson, VP6, H.264 MP3, ADPCM, Linear PCM, AAC\u7b49 \u4e92\u8054\u7f51\u89c6\u9891\u7f51\u7ad9 MKV CoreCodec Inc. \u652f\u6301 \u51e0\u4e4e\u6240\u6709\u683c\u5f0f \u51e0\u4e4e\u6240\u6709\u683c\u5f0f \u4e92\u8054\u7f51\u89c6\u9891\u7f51\u7ad9 RMVB Real Networks Inc. \u652f\u6301 RealVideo 8, 9, 10 AAC, Cook Codec, RealAudio Lossless BT\u4e0b\u8f7d\u5f71\u89c6 \u7531\u8868\u53ef\u89c1\uff0c\u9664\u4e86AVI\u4e4b\u5916\uff0c\u5176\u4ed6\u5c01\u88c5\u683c\u5f0f\u90fd\u652f\u6301\u6d41\u5a92\u4f53\uff0c\u5373\u53ef\u4ee5\u201c\u8fb9\u4e0b\u8fb9\u64ad\u201d\u3002 \u4e94\u3001\u89c6\u9891\u7f16\u7801 YUV: Y\uff08\u4eae\u5ea6\uff09UV(\u8272\u5ea6) \u89c6\u9891\u7f16\u7801\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5c06\u89c6\u9891\u50cf\u7d20\u6570\u636e\uff08RGB\uff0cYUV\u7b49\uff09\u538b\u7f29\u6210\u4e3a\u89c6\u9891\u7801\u6d41\uff0c\u4ece\u800c\u964d\u4f4e\u89c6\u9891\u7684\u6570\u636e\u91cf\u3002\u5982\u679c\u89c6\u9891\u4e0d\u7ecf\u8fc7\u538b\u7f29\u7f16\u7801\uff0c\u4f53\u79ef\u662f\u975e\u5e38\u5927\u7684\uff0c\u4e00\u90e8\u7535\u5f71\u53ef\u80fd\u8981\u4e0a\u767eG\u7684\u7a7a\u95f4\uff0c\u89c6\u9891\u7f16\u7801\u662f\u89c6\u97f3\u9891\u6280\u672f\u4e2d\u6700\u91cd\u8981\u7684\u6280\u672f\u4e4b\u4e00\u3002\u89c6\u9891\u7801\u6d41\u7684\u6570\u636e\u91cf\u5360\u4e86\u89c6\u97f3\u9891\u603b\u6570\u636e\u91cf\u7684\u7edd\u5927\u90e8\u5206\u3002\u9ad8\u6548\u7387\u7684\u89c6\u9891\u7f16\u7801\u5728\u540c\u7b49\u7684\u7801\u7387\u4e0b\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u9ad8\u7684\u89c6\u9891\u8d28\u91cf\u3002 \u540d\u79f0 \u63a8\u51fa\u673a\u6784 \u63a8\u51fa\u65f6\u95f4 \u76ee\u524d\u4f7f\u7528\u9886\u57df HEVC(H.265) MPEG/ITU-T 2013 \u7814\u53d1\u4e2d H.264 MPEG/ITU-T 2003 \u5404\u4e2a\u9886\u57df MPEG4 MPEG 2001 \u4e0d\u6e29\u4e0d\u706b MPEG2 MPEG 1994 \u6570\u5b57\u7535\u89c6 VP9 Google 2013 \u7814\u53d1\u4e2d VP8 Google 2008 \u4e0d\u666e\u53ca VC-1 Microsoft Inc. 2006 \u5fae\u8f6f\u5e73\u53f0 \u7531\u8868\u53ef\u89c1\uff0c\u6709\u4e24\u79cd\u89c6\u9891\u7f16\u7801\u65b9\u6848\u662f\u6700\u65b0\u63a8\u51fa\u7684\uff1aVP9\u548cHEVC\u3002\u76ee\u524d\u8fd9\u4e24\u79cd\u65b9\u6848\u90fd\u5904\u4e8e\u7814\u53d1\u9636\u6bb5\uff0c\u8fd8\u6ca1\u6709\u5230\u8fbe\u5b9e\u7528\u7684\u7a0b\u5ea6\u3002\u5f53\u524d\u4f7f\u7528\u6700\u591a\u7684\u89c6\u9891\u7f16\u7801\u65b9\u6848\u5c31\u662fH.264\u3002 \u4e3b\u6d41\u7f16\u7801\u6807\u51c6 H.264\u4ec5\u4ec5\u662f\u4e00\u4e2a\u7f16\u7801\u6807\u51c6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u7f16\u7801\u5668\uff0cH.264\u53ea\u662f\u7ed9\u7f16\u7801\u5668\u7684\u5b9e\u73b0\u63d0\u4f9b\u53c2\u7167\u7528\u7684 \uff0c\u57fa\u4e8eH.264\u6807\u51c6\u7684\u7f16\u7801\u5668\u8fd8\u662f\u5f88\u591a\u7684\u3002\u5b9e\u9645\u4e2d\u4f7f\u7528\u6700\u591a\u7684\u5c31\u662fx264\u4e86\uff0c\u6027\u80fd\u5f3a\u608d\uff08\u8d85\u8fc7\u4e86\u5f88\u591a\u5546\u4e1a\u7f16\u7801\u5668\uff09\uff0c\u800c\u4e14\u5f00\u6e90\u3002 \u4e0b\u4e00\u4ee3\u7f16\u7801\u6807\u51c6 HEVC/H.265 \u5728\u672a\u6765\u62e5\u6709\u5f88\u591a\u5927\u7684\u4f18\u52bf \u7a7a\u95f4\u7ef4\u5ea6\uff1a\u76f8\u4f3c\u50cf\u7d20\u70b9\u8868\u793a\uff0816x16\u77e9\u96351\uff09\u53ef\u4ee5\u7528\u4e00\u4e2a1\u8868\u793a \u65f6\u95f4\u7ef4\u5ea6\uff1a\u76f8\u90bb\u4e24\u5e27\u56fe\u7247\u7684\u5927\u90e8\u5206\u76f8\u4f3c\uff0c\u53ea\u6709\u5f88\u5c11\u7684\u4e0d\u540c\u70b9 \u516d\u3001\u97f3\u9891\u7f16\u7801 \u97f3\u9891\u7f16\u7801\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5c06\u97f3\u9891\u91c7\u6837\u6570\u636e\uff08PCM\u7b49\uff09\u538b\u7f29\u6210\u4e3a\u97f3\u9891\u7801\u6d41\uff0c\u4ece\u800c\u964d\u4f4e\u97f3\u9891\u7684\u6570\u636e\u91cf\u3002\u97f3\u9891\u7f16\u7801\u4e5f\u662f\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u6280\u672f\u4e2d\u4e00\u4e2a\u91cd\u8981\u7684\u6280\u672f\u3002\u4f46\u662f\u4e00\u822c\u60c5\u51b5\u4e0b\u97f3\u9891\u7684\u6570\u636e\u91cf\u8981\u8fdc\u5c0f\u4e8e\u89c6\u9891\u7684\u6570\u636e\u91cf\uff0c\u56e0\u800c\u5373\u4f7f\u4f7f\u7528\u7a0d\u5fae\u843d\u540e\u7684\u97f3\u9891\u7f16\u7801\u6807\u51c6\uff0c\u800c\u5bfc\u81f4\u97f3\u9891\u6570\u636e\u91cf\u6709\u6240\u589e\u52a0\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u89c6\u97f3\u9891\u7684\u603b\u6570\u636e\u91cf\u4ea7\u751f\u592a\u5927\u7684\u5f71\u54cd\u3002\u9ad8\u6548\u7387\u7684\u97f3\u9891\u7f16\u7801\u5728\u540c\u7b49\u7684\u7801\u7387\u4e0b\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u9ad8\u7684\u97f3\u8d28\u3002 \u540d\u79f0 \u673a\u6784 \u63a8\u51fa\u65f6\u95f4 \u4f7f\u7528\u9886\u57df AAC MPEG 1997 \u5404\u4e2a\u9886\u57df AC-3 Dolby Inc. 1992 \u7535\u5f71 MP3 MPEG 1993 \u5404\u4e2a\u9886\u57df WMA Microsoft Inc. 1999 \u5fae\u8f6f\u5e73\u53f0 \u7531\u8868\u53ef\u89c1\uff0c\u8fd1\u5e74\u6765\u5e76\u672a\u63a8\u51fa\u5168\u65b0\u7684\u97f3\u9891\u7f16\u7801\u65b9\u6848\uff0c\u53ef\u89c1\u97f3\u9891\u7f16\u7801\u6280\u672f\u5df2\u7ecf\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u4eba\u4eec\u7684\u9700\u8981\u3002\u97f3\u9891\u7f16\u7801\u6280\u672f\u8fd1\u671f\u7edd\u5927\u90e8\u5206\u7684\u6539\u52a8\u90fd\u662f\u5728MP3\u7684\u7ee7\u4efb\u8005\u2014\u2014AAC\u7684\u57fa\u7840\u4e0a\u5b8c\u6210\u7684\u3002 \u4e03\u3001\u73b0\u6709\u7f51\u7edc\u89c6\u97f3\u9891\u5e73\u53f0\u5bf9\u6bd4 \u73b0\u6709\u7684\u7f51\u7edc\u89c6\u97f3\u9891\u670d\u52a1\u4e3b\u8981\u5305\u62ec\u4e24\u79cd\u65b9\u5f0f\uff1a\u70b9\u64ad\u548c\u76f4\u64ad\u3002\u70b9\u64ad\u610f\u5373\u6839\u636e\u7528\u6237\u7684\u9700\u8981\u64ad\u653e\u76f8\u5e94\u7684\u89c6\u9891\u8282\u76ee\uff0c\u8fd9\u662f\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u670d\u52a1\u6700\u4e3b\u8981\u7684\u65b9\u5f0f\u3002\u7edd\u5927\u90e8\u5206\u89c6\u9891\u7f51\u7ad9\u90fd\u63d0\u4f9b\u4e86\u70b9\u64ad\u670d\u52a1\u3002\u76f4\u64ad\u610f\u5373\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u5e73\u53f0\u76f4\u63a5\u5c06\u89c6\u9891\u5185\u5bb9\u5b9e\u65f6\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u76ee\u524d\u8fd8\u5904\u4e8e\u53d1\u5c55\u9636\u6bb5\u3002\u76f4\u64ad\u5728\u7f51\u7edc\u7535\u89c6\u53f0\uff0c\u793e\u4ea4\u89c6\u9891\u7f51\u7ad9\u8f83\u4e3a\u5e38\u89c1\u3002 \u76f4\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4 \u540d\u79f0 \u534f\u8bae \u5c01\u88c5 \u89c6\u9891\u7f16\u7801 \u97f3\u9891\u7f16\u7801 \u64ad\u653e\u5668 \u534e\u6570TV RTMP FLV H.264 AAC Flash \u516d\u95f4\u623f RTMP FLV H.264 AAC Flash \u4e2d\u56fd\u6559\u80b2\u7535\u89c6\u53f0 RTMP FLV H.264 AAC Flash \u5317\u5e7f\u4f20\u5a92\u79fb\u52a8\u7535\u89c6 RTMP FLV H.264 AAC Flash \u4e0a\u6d77IPTV RTMP FLV H.264 AAC Flash \u76f4\u64ad\u670d\u52a1\u666e\u904d\u91c7\u7528\u4e86RTMP\u4f5c\u4e3a\u6d41\u5a92\u4f53\u534f\u8bae\uff0cFLV\u4f5c\u4e3a\u5c01\u88c5\u683c\u5f0f\uff0cH.264\u4f5c\u4e3a\u89c6\u9891\u7f16\u7801\u683c\u5f0f\uff0cAAC\u4f5c\u4e3a\u97f3\u9891\u7f16\u7801\u683c\u5f0f\u3002 \u91c7\u7528RTMP\u4f5c\u4e3a\u76f4\u64ad\u534f\u8bae\u7684\u597d\u5904\u5728\u4e8e\u5176\u88abFlash\u64ad\u653e\u5668\u652f\u6301\u3002\u800cFlash\u64ad\u653e\u5668\u5982\u4eca\u5df2\u7ecf\u5b89\u88c5\u5728\u5168\u740399%\u7684\u7535\u8111\u4e0a\uff0c\u5e76\u4e14\u4e0e\u6d4f\u89c8\u5668\u7ed3\u5408\u7684\u5f88\u597d\u3002\u56e0\u6b64\u8fd9\u79cd\u6d41\u5a92\u4f53\u76f4\u64ad\u5e73\u53f0\u53ef\u4ee5\u5b9e\u73b0\u201c\u65e0\u63d2\u4ef6\u76f4\u64ad\u201d\uff0c\u6781\u5927\u7684\u7b80\u5316\u4e86\u5ba2\u6237\u7aef\u7684\u64cd\u4f5c\u3002 FLV\u662fRTMP\u4f7f\u7528\u7684\u5c01\u88c5\u683c\u5f0f\uff0cH.264\u662f\u5f53\u4eca\u5b9e\u9645\u5e94\u7528\u4e2d\u7f16\u7801\u6548\u7387\u6700\u9ad8\u7684\u89c6\u9891\u7f16\u7801\u6807\u51c6\uff0cAAC\u5219\u662f\u5f53\u4eca\u5b9e\u9645\u5e94\u7528\u4e2d\u7f16\u7801\u6548\u7387\u6700\u9ad8\u7684\u97f3\u9891\u7f16\u7801\u6807\u51c6\u3002\u89c6\u9891\u64ad\u653e\u5668\u65b9\u9762\uff0c\u90fd\u4f7f\u7528\u4e86Flash\u64ad\u653e\u5668\u3002 \u70b9\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4 \u540d\u79f0 \u534f\u8bae \u5c01\u88c5 \u89c6\u9891\u7f16\u7801 \u97f3\u9891\u7f16\u7801 \u64ad\u653e\u5668 CNTV HTTP MP4 H.264 AAC Flash \u4f18\u9177\u7f51 HTTP FLV H.264 AAC Flash \u571f\u8c46\u7f51 HTTP F4V H.264 AAC Flash \u4e50\u89c6\u7f51 HTTP FLV H.264 AAC Flash \u65b0\u6d6a\u89c6\u9891 HTTP FLV H.264 AAC Flash \u70b9\u64ad\u670d\u52a1\u666e\u904d\u91c7\u7528\u4e86HTTP\u4f5c\u4e3a\u6d41\u5a92\u4f53\u534f\u8bae\uff0cH.264\u4f5c\u4e3a\u89c6\u9891\u7f16\u7801\u683c\u5f0f\uff0cAAC\u4f5c\u4e3a\u97f3\u9891\u7f16\u7801\u683c\u5f0f\u3002\u91c7\u7528HTTP\u4f5c\u4e3a\u70b9\u64ad\u534f\u8bae\u6709\u4ee5\u4e0b\u4e24\u70b9\u4f18\u52bf\uff1a\u4e00\u65b9\u9762\uff0cHTTP\u662f\u57fa\u4e8eTCP\u534f\u8bae\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5a92\u4f53\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u51fa\u73b0\u4e22\u5305\u7b49\u73b0\u8c61\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e86\u89c6\u9891\u7684\u8d28\u91cf\uff1b\u53e6\u4e00\u65b9\u9762\uff0cHTTP\u88ab\u7edd\u5927\u90e8\u5206\u7684Web\u670d\u52a1\u5668\u652f\u6301\uff0c\u56e0\u800c\u6d41\u5a92\u4f53\u670d\u52a1\u673a\u6784\u4e0d\u5fc5\u6295\u8d44\u8d2d\u4e70\u989d\u5916\u7684\u6d41\u5a92\u4f53\u670d\u52a1\u5668\uff0c\u4ece\u800c\u8282\u7ea6\u4e86\u5f00\u652f\u3002\u70b9\u64ad\u670d\u52a1\u91c7\u7528\u7684\u5c01\u88c5\u683c\u5f0f\u6709\u591a\u79cd\uff1aMP4\uff0cFLV\uff0cF4V\u7b49\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4e0d\u662f\u5f88\u5927\u3002\u89c6\u9891\u7f16\u7801\u6807\u51c6\u548c\u97f3\u9891\u7f16\u7801\u6807\u51c6\u662fH.264\u548cAAC\u3002\u8fd9\u4e24\u79cd\u6807\u51c6\u5206\u522b\u662f\u5f53\u4eca\u5b9e\u9645\u5e94\u7528\u4e2d\u7f16\u7801\u6548\u7387\u6700\u9ad8\u7684\u89c6\u9891\u6807\u51c6\u548c\u97f3\u9891\u6807\u51c6\u3002\u89c6\u9891\u64ad\u653e\u5668\u65b9\u9762\uff0c\u65e0\u4e00\u4f8b\u5916\u7684\u90fd\u4f7f\u7528\u4e86Flash\u64ad\u653e\u5668\u3002 \u516b\u3001\u7801\u7387\uff08bitrate\uff09\u5e27\u7387\uff08f p s\uff09\u5206\u8fa8\u7387\u548c\u6e05\u6670\u5ea6\u7684\u8054\u7cfb\u4e0e\u533a\u522b \u7801\u7387 \uff0c\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u9001\u7684\u6570\u636e\u4f4d\u6570\uff0c\u5355\u4f4dk p b s/s\u5373\u5343\u4f4d\u6bcf\u79d2\uff0c\u5f71\u54cd\u4f53\u79ef\u548c\u6e05\u6670\u5ea6\uff0c\u4e0e\u4f53\u79ef\u6210\u6b63\u6bd4\uff1a\u7801\u7387\u8d8a\u5927\uff0c\u4f53\u79ef\u8d8a\u5927\uff1b\u7801\u7387\u8d8a\u5c0f\uff0c\u4f53\u79ef\u8d8a\u5c0f\u3002 \u5e27\u7387f p s\uff0c1\u79d2\u5185\u4f20\u8f93\u7684\u56fe\u7247\u6570\u91cf\uff0c\u5f71\u54cd\u753b\u9762\u6d41\u7a0b\u5ea6\uff0c\u4e0e\u753b\u9762\u6d41\u7545\u5ea6\u6210\u6b63\u6bd4\uff0c\u5e27\u7387\u8d8a\u5927\u8d8a\u6d41\u7545\uff0c\u5e27\u7387\u8d8a\u5c0f\u753b\u9762\u8d8a\u6709\u8df3\u52a8\u611f\uff0c\u5e27\u7387\u8d8a\u9ad8\uff0c\u6bcf\u79d2\u7ecf\u8fc7\u7684\u753b\u9762\u8d8a\u591a\uff0c\u9700\u8981\u7684\u7801\u7387\u4e5f\u8d8a\u9ad8\uff0c\u4f53\u79ef\u5927 \u5206\u8fa8\u7387 \uff0c\u5f71\u54cd\u56fe\u50cf\u5927\u5c0f\uff0c\u5206\u522b\u7387\u8d8a\u9ad8\u56fe\u50cf\u8d8a\u5927\uff0c\u5206\u8fa8\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u5c0f\u3002 \u6e05\u6670\u5ea6\uff1a \u5728\u7801\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u5206\u8fa8\u7387\u4e0e\u6e05\u6670\u5ea6\u6210\u53cd\u6bd4\u5173\u7cfb\uff1a\u5206\u8fa8\u7387\u8d8a\u9ad8\uff0c\u56fe\u50cf\u8d8a\u4e0d\u6e05\u6670\uff0c\u5206\u8fa8\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u6e05\u6670 \u5728\u5206\u8fa8\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u7801\u7387\u4e0e\u6e05\u6670\u5ea6\u6210\u6b63\u6bd4\u5173\u7cfb\uff0c\u7801\u7387\u8d8a\u9ad8\uff0c\u56fe\u50cf\u8d8a\u6e05\u6670\uff1b\u7801\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u4e0d\u6e05\u6670 \u5728\u7801\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u5206\u8fa8\u7387\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u53d6\u503c\u90fd\u5c06\u662f\u6e05\u6670\u7684\uff1b\u540c\u6837\u5730\uff0c\u5728\u5206\u8fa8\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u7801\u7387\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u53d6\u503c\u90fd\u5c06\u662f\u6e05\u6670\u7684\u3002 \u4e5d \u3001I\u5e27 B\u5e27 P\u5e27 \u4e3a\u4ec0\u4e48\u8981\u538b\u7f29\u89c6\u9891\uff1f \u672a\u7ecf\u538b\u7f29\u7684\u89c6\u9891\uff0c\u6570\u91cf\u5de8\u5927\uff0c\u5b58\u50a8\u56f0\u96be\uff0c\u4f20\u8f93\u56f0\u96be\uff0c\u4e00\u5f20\u56fe\u72472M\u4e00\u79d2\u949f\u4e09\u5341\u5e27\u7684\u60c5\u51b5\u5c31\u662f2X30=60M,1\u79d2\u89c6\u989160M\u3002 \u5982\u4f55\u8fdb\u884c\u538b\u7f29\uff1f \u53bb\u9664\u5197\u4f59\u4fe1\u606f\uff08\u7a7a\u95f4\u5197\u4f59\uff0c\u65f6\u95f4\u5197\u4f59\uff0c\u89c6\u89c9\u5197\u4f59\uff0c\u7b49\uff09\u3002\u7a7a\u95f4\u5197\u4f59\u76f8\u540c\u533a\u57df\u50cf\u7d20\u4e00\u6837\uff0c\u65f6\u95f4\u5197\u4f59\u76f8\u90bb\u5e27\u6781\u5c11\u5dee\u5f02\u70b9\uff0c\u89c6\u89c9\u5197\u4f59\uff0c\u773c\u955c\u80fd\u5206\u8fa8\u51fa\u51e0\u79cd\u989c\u8272\u3002 \u6570\u636e\u538b\u7f29\u5206\u7c7b\uff1f \u65e0\u635f\u538b\u7f29\u548c\u6709\u635f\u538b\u7f29\uff0cH264\u5c5e\u4e8e\u6709\u635f\u538b\u7f29\uff0c\u5728\u89c6\u9891\u7f16\u7801\u4e2d\u6bcf\u4e00\u5e27\u90fd\u4ee3\u8868\u4e00\u5e45\u9759\u6b62\u7684\u56fe\u50cf\uff0c\u624d\u4f1a\u6709IPB\u51cf\u5c11\u6570\u636e\u5bb9\u91cf I\u5e27\uff1a\u5173\u952e\u5e27\uff0c\u4e00\u5e45\u5b8c\u6574\u753b\u9762\uff0c\u53ef\u72ec\u7acb\u89e3\u7801 B\u5e27\uff1a\u53cc\u5411\u5dee\u522b\u5e27\uff0c\u672c\u5e27\u4e0e\u524d\u540e\u5e27\u7684\u5dee\u522b\uff0c\u4e0d\u4ec5\u8981\u53d6\u5f97\u524d\u9762\u7684\u7f13\u5b58\u753b\u9762\uff0c\u8fd8\u8981\u53d6\u5f97\u540e\u9762\u7684\u753b\u9762\uff0c\u524d\u540e\u753b\u9762\u4e0e\u672c\u5e27\u6570\u636e\u53e0\u52a0\u53bb\u7684\u6700\u7ec8\u753b\u9762\u3002 P\u5e27\uff1a\u524d\u5411\u9884\u6d4b\u5e27\uff0c\u8868\u793a\u8fd9\u4e00\u5e27\u548c\u4e4b\u524d\u7684 I\u5e27\u6216P\u5e27\u7684\u5dee\u522b\uff0c\u8981\u89e3\u7801P\u5e27\uff0c\u53ea\u9700\u8981\u7528\u4e4b\u524d\u7f13\u5b58\u7684\u753b\u9762\u52a0\u672c\u5e27\u7684\u5dee\u522b\uff0c\u751f\u6210\u6700\u7ec8\u7684\u753b\u9762\u3002 I\u5e27\uff1a I\u5e27\u53c8\u79f0\u4f5c\u5185\u90e8\u753b\u9762\uff0c\u901a\u5e38\u662f\u6bcf\u4e2aGOP\u7684\u7b2c\u4e00\u4e2a\u5e27\uff0c\u9002\u5ea6\u7684\u538b\u7f29\u53ef\u4ee5\u5f53\u505a\u56fe\u50cf\uff0c\u4e00\u90e8\u5206\u538b\u7f29\u6210P\u5e27\uff0c\u4e00\u90e8\u5206\u538b\u7f29\u6210B\u5e27 I\u5e27\u4e5f\u88ab\u79f0\u4e3a\u5173\u952e\u5e27\uff0c\u662f\u57fa\u4e8e\u79bb\u6563\u4f59\u5f26\u53d8\u6362DCT\u538b\u7f29\u6280\u672f \u7279\u70b9\uff1a 1.\u5b83\u662f\u4e00\u4e2a\u5168\u5e27\u538b\u7f29\u7f16\u7801\u5e27 2.\u89e3\u7801\u65f6\u4ec5\u7528I\u5e27\u7684\u6570\u636e\u5c31\u53ef\u91cd\u65b0\u6784\u9020\u5b8c\u6574\u56fe\u50cf 3.I\u5e27\u63cf\u8ff0\u4e86\u56fe\u50cf\u80cc\u666f\u548c\u8fd0\u52a8\u4e3b\u4f53\u7684\u8be6\u60c5 4.I\u5e27\u4e0d\u9700\u8981\u53c2\u8003\u5176\u4ed6\u753b\u9762 5.I\u5e27\u662fPB\u5e27\u7684\u53c2\u8003\u5e27 6.I\u5e27\u662f\u5e27\u7ec4GOP\u7684\u57fa\u7840\u5e27\uff08\u7b2c\u4e00\u5e27\uff09\uff0c\u4e00\u7ec4\u53ea\u6709\u4e00\u4e2aI\u5e27 7.I\u5e27\u4e0d\u9700\u8981\u8003\u8651\u8fd0\u52a8\u77e2\u91cf 8.I\u5e27\u6240\u5360\u6570\u636e\u4fe1\u606f\u91cf\u6bd4\u8f83\u5927 P\u5e27\uff1a P\u5e27\u662f\u901a\u8fc7\u5145\u5206\u964d\u4f4e\u4e8e\u56fe\u50cf\u5e8f\u5217\u4e2d\u524d\u9762\u5df2\u7f16\u7801\u5e27\u7684\u65f6\u95f4\u5197\u4f59\u4fe1\u606f\u6765\u538b\u7f29\u4f20\u8f93\u6570\u636e\u91cf\u7684\u7f16\u7801\u56fe\u50cf\uff0c\u4e5f\u53eb\u9884\u6d4b\u5e27\u3002 \u5f53\u9488\u5bf9\u8fde\u7eed\u52a8\u6001\u56fe\u50cf\u7f16\u7801\u65f6\uff0c\u5c06\u8fde\u7eed\u82e5\u5e72\u5e45\u56fe\u50cf\u5206\u6210I,P,B\u4e09\u79cd\u7c7b\u578b\uff0cP\u5e27\u7531\u524d\u9762\u7684I\u3001P\u5e27\u9884\u6d4b\u800c\u6765\uff0c\u4e5f\u5c31\u662f\u8003\u8651\u8fd0\u52a8\u7684\u7279\u6027\u8fdb\u884c\u5e27\u95f4\u538b\u7f29\u3002 \u7279\u70b9\uff1a 1.P\u5e27\u662fI\u5e27\u540e\u97621~2\u5e27\u7684\u7f16\u7801\u5e27 2.P\u5e27\u91c7\u7528\u8fd0\u52a8\u8865\u507f\u7684\u65b9\u6cd5\u4f20\u9001\u5b83\u4e0e\u524d\u9762\u7684I\u6216P\u5e27\u7684\u5dee\u503c\u53ca\u8fd0\u52a8\u77e2\u91cf 3.\u89e3\u7801\u65f6\u5fc5\u987b\u5c06I\u5e27\u4e2d\u7684\u9884\u6d4b\u5e27\u4e0e\u9884\u6d4b\u8bef\u5dee\u6c42\u548c\u624d\u80fd\u91cd\u6784\u5b8c\u6574\u7684P\u5e27\u56fe\u50cf 4.P\u5e27\u5c5e\u4e8e\u5411\u524d\u9884\u6d4b\u7684\u5e27\u95f4\u7f16\u7801\u3002\u53ea\u53c2\u8003\u524d\u9762\u6700\u9760\u8fd1\u5b83\u7684I\u5e27\u6216P\u5e27 5.P\u5e27\u53ef\u4ee5\u662f\u540e\u9762P\u5e27\u7684\u53c2\u8003\u5e27\uff0c\u6216\u8005\u662f\u540e\u9762B\u5e27\u7684\u53c2\u8003\u5e27 6.\u7531\u4e8eP\u5e27\u662f\u53c2\u8003\u5e27\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u89e3\u7801\u9519\u8bef\u7684\u6269\u6563 7.\u56e0\u4e3a\u662f\u5dee\u503c\u4f20\u9001\uff0c\u538b\u7f29\u6bd4\u4f8b\u6bd4\u8f83\u9ad8","title":"videoBasic"},{"location":"videoBasic/#_1","text":"\u5e38\u89c1\u7684\u89c6\u9891\u6587\u4ef6\u683c\u5f0f \u4e00\u3001\u751f\u6d3b\u4e2d\u7684\u89c6\u97f3\u9891 \u56db\u3001\u5c01\u88c5\u683c\u5f0f \u4e94\u3001\u89c6\u9891\u7f16\u7801 \u4e3b\u6d41\u7f16\u7801\u6807\u51c6 \u4e0b\u4e00\u4ee3\u7f16\u7801\u6807\u51c6 \u516d\u3001\u97f3\u9891\u7f16\u7801 \u4e03\u3001\u73b0\u6709\u7f51\u7edc\u89c6\u97f3\u9891\u5e73\u53f0\u5bf9\u6bd4 \u76f4\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4 \u70b9\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4 \u516b\u3001\u7801\u7387\uff08bitrate\uff09\u5e27\u7387\uff08f p s\uff09\u5206\u8fa8\u7387\u548c\u6e05\u6670\u5ea6\u7684\u8054\u7cfb\u4e0e\u533a\u522b \u7801\u7387 \uff0c\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u9001\u7684\u6570\u636e\u4f4d\u6570\uff0c\u5355\u4f4dk p b s/s\u5373\u5343\u4f4d\u6bcf\u79d2\uff0c\u5f71\u54cd\u4f53\u79ef\u548c\u6e05\u6670\u5ea6\uff0c\u4e0e\u4f53\u79ef\u6210\u6b63\u6bd4\uff1a\u7801\u7387\u8d8a\u5927\uff0c\u4f53\u79ef\u8d8a\u5927\uff1b\u7801\u7387\u8d8a\u5c0f\uff0c\u4f53\u79ef\u8d8a\u5c0f\u3002 \u5e27\u7387f p s\uff0c1\u79d2\u5185\u4f20\u8f93\u7684\u56fe\u7247\u6570\u91cf\uff0c\u5f71\u54cd\u753b\u9762\u6d41\u7a0b\u5ea6\uff0c\u4e0e\u753b\u9762\u6d41\u7545\u5ea6\u6210\u6b63\u6bd4\uff0c\u5e27\u7387\u8d8a\u5927\u8d8a\u6d41\u7545\uff0c\u5e27\u7387\u8d8a\u5c0f\u753b\u9762\u8d8a\u6709\u8df3\u52a8\u611f\uff0c\u5e27\u7387\u8d8a\u9ad8\uff0c\u6bcf\u79d2\u7ecf\u8fc7\u7684\u753b\u9762\u8d8a\u591a\uff0c\u9700\u8981\u7684\u7801\u7387\u4e5f\u8d8a\u9ad8\uff0c\u4f53\u79ef\u5927 \u5206\u8fa8\u7387 \uff0c\u5f71\u54cd\u56fe\u50cf\u5927\u5c0f\uff0c\u5206\u522b\u7387\u8d8a\u9ad8\u56fe\u50cf\u8d8a\u5927\uff0c\u5206\u8fa8\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u5c0f\u3002 \u4e5d \u3001I\u5e27 B\u5e27 P\u5e27 \uff1aavi\uff0crmvb\uff0cmp4\uff0cflv\uff0cmkv\u7b49\u7b49\uff0c\u8fd9\u4e9b\u683c\u5f0f\u4ee3\u8868\u7684\u662f\u5c01\u88c5\u683c\u5f0f\uff0c\u5c31\u662f\u628a\u89c6\u9891\u6570\u636e\u548c\u97f3\u9891\u6570\u636e\u6253\u5305\u6210\u4e00\u4e2a\u6587\u4ef6\u7684\u89c4\u8303\uff0c\u4e0d\u540c\u7684\u5c01\u88c5\u683c\u5f0f\u4e4b\u95f4\u5404\u6709\u52a3\u52bf\u3002 \u57fa\u672c\u6982\u5ff5 ``` AVC/h264: Advanced Video Coding\u7b80\u79f0 \u89c6\u9891\u7f16\u89e3\u7801\u6709\u4e24\u5957\u6807\u51c6\uff1a \u56fd\u9645\u7535\u8054\uff1ah261\u3001h263\u3001h263+\u7b49 ISO: MPEG-1\u3001MPEG-2\u3001MPEG-4\u7b49 AVC/h264\u662f\u4e24\u5927\u7ec4\u7ec7\u7ed3\u5408H263+\u548cMPEG-4\u7684\u4f18\u70b9\u8054\u5408\u63a8\u51fa\u7684\u6807\u51c6\uff0c\u66f4\u9ad8\u7684\u6570\u636e\u538b\u7f29\u6bd4\uff0c\u540c\u7b49\u56fe\u50cf\u8d28\u91cf\u7684\u524d\u63d0\u4e0b\uff0cH264\u7684\u538b\u7f29\u6bd4\u6bd4H263\u9ad82\u500d\uff0c\u6bd4MPEG-4\u9ad81.5\u500d\u3002 ``` \u5de5\u5177 \u67e5\u770b\u5a92\u4f53\u4fe1\u606f\u5de5\u5177\uff1aMediaInfo https://mediaarea.net/download/current/MediaInfo_GUI_20.09_Windows.exe #### \u4e8c\u3001\u89c6\u9891\u64ad\u653e\u5668\u539f\u7406 \u89e3\u534f\u8bae\u3001\u89e3\u5c01\u88c5\u3001\u89e3\u7801\u89c6\u97f3\u9891\u3001\u89c6\u97f3\u9891\u540c\u6b65 mermaid graph TD; \u6570\u636e-->\u89e3\u534f\u8bae; \u89e3\u534f\u8bae-->\u5c01\u88c5\u683c\u5f0f\u6570\u636e; \u5c01\u88c5\u683c\u5f0f\u6570\u636e-->\u89e3\u5c01\u88c5; \u89e3\u5c01\u88c5-->\u89c6\u9891\u538b\u7f29\u6570\u636e; \u89e3\u5c01\u88c5-->\u97f3\u9891\u538b\u7f29\u6570\u636e; \u89c6\u9891\u538b\u7f29\u6570\u636e-->\u89c6\u9891\u89e3\u7801; \u97f3\u9891\u538b\u7f29\u6570\u636e-->\u97f3\u9891\u89e3\u7801; \u89c6\u9891\u89e3\u7801-->\u89c6\u9891\u539f\u6570\u636e; \u97f3\u9891\u89e3\u7801-->\u97f3\u9891\u539f\u6570\u636e; \u89c6\u9891\u539f\u6570\u636e--> \u89c6\u97f3\u9891\u540c\u6b65; \u97f3\u9891\u539f\u6570\u636e--> \u89c6\u97f3\u9891\u540c\u6b65; \u89c6\u97f3\u9891\u540c\u6b65--> \u97f3\u9891\u9a71\u52a8/\u8bbe\u5907; \u89c6\u97f3\u9891\u540c\u6b65--> \u89c6\u9891\u9a71\u52a8/\u8bbe\u5907; \u89e3\u534f\u8bae \u5c31\u662f\u5c06\u6d41\u5a92\u4f53\u534f\u8bae\u7684\u6570\u636e\uff0c\u89e3\u6790\u4e3a\u6807\u51c6\u7684\u76f8\u5e94\u7684\u5c01\u88c5\u683c\u5f0f\u6570\u636e\u3002\u89c6\u97f3\u9891\u5728\u7f51\u7edc\u4e0a\u4f20\u64ad\u7684\u65f6\u5019\uff0c\u5e38\u5e38\u91c7\u7528\u5404\u79cd\u6d41\u5a92\u4f53\u534f\u8bae\uff0c\u4f8b\u5982HTTP\uff0cRTMP\uff0c\u6216\u662fMMS\u7b49\u7b49\u3002\u8fd9\u4e9b\u534f\u8bae\u5728\u4f20\u8f93\u89c6\u97f3\u9891\u6570\u636e\u7684\u540c\u65f6\uff0c\u4e5f\u4f1a\u4f20\u8f93\u4e00\u4e9b\u4fe1\u4ee4\u6570\u636e\u3002\u8fd9\u4e9b\u4fe1\u4ee4\u6570\u636e\u5305\u62ec\u5bf9\u64ad\u653e\u7684\u63a7\u5236\uff08\u64ad\u653e\uff0c\u6682\u505c\uff0c\u505c\u6b62\uff09\uff0c\u6216\u8005\u5bf9\u7f51\u7edc\u72b6\u6001\u7684\u63cf\u8ff0\u7b49\u3002\u89e3\u534f\u8bae\u7684\u8fc7\u7a0b\u4e2d\u4f1a\u53bb\u9664\u6389\u4fe1\u4ee4\u6570\u636e\u800c\u53ea\u4fdd\u7559\u89c6\u97f3\u9891\u6570\u636e\u3002\u4f8b\u5982\uff0c\u91c7\u7528RTMP\u534f\u8bae\u4f20\u8f93\u7684\u6570\u636e\uff0c\u7ecf\u8fc7\u89e3\u534f\u8bae\u64cd\u4f5c\u540e\uff0c\u8f93\u51faFLV\u683c\u5f0f\u7684\u6570\u636e\u3002 \u89e3\u5c01\u88c5 \u5c31\u662f\u5c06\u8f93\u5165\u7684\u5c01\u88c5\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5206\u79bb\u6210\u4e3a\u97f3\u9891\u6d41\u538b\u7f29\u7f16\u7801\u6570\u636e\u548c\u89c6\u9891\u6d41\u538b\u7f29\u7f16\u7801\u6570\u636e\u3002\u5c01\u88c5\u683c\u5f0f\u79cd\u7c7b\u5f88\u591a\uff0c\u4f8b\u5982MP4\uff0cMKV\uff0cRMVB\uff0cTS\uff0cFLV\uff0cAVI\u7b49\u7b49\uff0c\u5b83\u7684\u4f5c\u7528\u5c31\u662f\u5c06\u5df2\u7ecf\u538b\u7f29\u7f16\u7801\u7684\u89c6\u9891\u6570\u636e\u548c\u97f3\u9891\u6570\u636e\u6309\u7167\u4e00\u5b9a\u7684\u683c\u5f0f\u653e\u5230\u4e00\u8d77\u3002\u4f8b\u5982\uff0cFLV\u683c\u5f0f\u7684\u6570\u636e\uff0c\u7ecf\u8fc7\u89e3\u5c01\u88c5\u64cd\u4f5c\u540e\uff0c\u8f93\u51faH.264\u7f16\u7801\u7684\u89c6\u9891\u7801\u6d41\u548cAAC\u7f16\u7801\u7684\u97f3\u9891\u7801\u6d41\u3002 \u89e3\u7801 \u5c31\u662f\u5c06\u89c6\u9891/\u97f3\u9891\u538b\u7f29\u7f16\u7801\u6570\u636e\uff0c\u89e3\u7801\u6210\u4e3a\u975e\u538b\u7f29\u7684\u89c6\u9891/\u97f3\u9891\u539f\u59cb\u6570\u636e\u3002\u97f3\u9891\u7684\u538b\u7f29\u7f16\u7801\u6807\u51c6\u5305\u542bAAC\uff0cMP3\uff0cAC-3\u7b49\u7b49\uff0c\u89c6\u9891\u7684\u538b\u7f29\u7f16\u7801\u6807\u51c6\u5219\u5305\u542bH.264\uff0cMPEG2\uff0cVC-1\u7b49\u7b49\u3002\u89e3\u7801\u662f\u6574\u4e2a\u7cfb\u7edf\u4e2d\u6700\u91cd\u8981\u4e5f\u662f\u6700\u590d\u6742\u7684\u4e00\u4e2a\u73af\u8282\u3002\u901a\u8fc7\u89e3\u7801\uff0c\u538b\u7f29\u7f16\u7801\u7684\u89c6\u9891\u6570\u636e\u8f93\u51fa\u6210\u4e3a\u975e\u538b\u7f29\u7684\u989c\u8272\u6570\u636e\uff0c\u4f8b\u5982YUV420P\uff0cRGB\u7b49\u7b49\uff1b\u538b\u7f29\u7f16\u7801\u7684\u97f3\u9891\u6570\u636e\u8f93\u51fa\u6210\u4e3a\u975e\u538b\u7f29\u7684\u97f3\u9891\u62bd\u6837\u6570\u636e\uff0c\u4f8b\u5982PCM\u6570\u636e\u3002 \u89c6\u97f3\u9891\u540c\u6b65 \u5c31\u662f\u6839\u636e\u89e3\u5c01\u88c5\u6a21\u5757\u5904\u7406\u8fc7\u7a0b\u4e2d\u83b7\u53d6\u5230\u7684\u53c2\u6570\u4fe1\u606f\uff0c\u540c\u6b65\u89e3\u7801\u51fa\u6765\u7684\u89c6\u9891\u548c\u97f3\u9891\u6570\u636e\uff0c\u5e76\u5c06\u89c6\u9891\u97f3\u9891\u6570\u636e\u9001\u81f3\u7cfb\u7edf\u7684\u663e\u5361\u548c\u58f0\u5361\u64ad\u653e\u51fa\u6765\u3002 #### \u4e09\u3001\u6d41\u5a92\u4f53\u534f\u8bae \u6d41\u5a92\u4f53\u534f\u8bae\u662f\u670d\u52a1\u5668\u4e0e\u5ba2\u6237\u7aef\u4e4b\u95f4\u901a\u4fe1\u9075\u5faa\u7684\u89c4\u5b9a\u3002 \u540d\u79f0 \u63a8\u51fa\u673a\u6784 \u4f20\u8f93\u5c42\u534f\u8bae \u5ba2\u6237\u7aef \u76ee\u524d\u4f7f\u7528\u9886\u57df RTSP+RTP IETF TCP+UDP VLC, WMP IPTV RTMP Adobe Inc. TCP Flash \u4e92\u8054\u7f51\u76f4\u64ad RTMFP Adobe Inc. UDP Flash \u4e92\u8054\u7f51\u76f4\u64ad MMS Microsoft Inc. TCP/UDP WMP \u4e92\u8054\u7f51\u76f4\u64ad+\u70b9\u64ad HTTP WWW+IETF TCP Flash \u4e92\u8054\u7f51\u70b9\u64ad UDP\u4f20\u8f93\u89c6\u97f3\u9891\uff0c\u652f\u6301\u7ec4\u64ad\uff0c\u6548\u7387\u8f83\u9ad8\u3002\u4f46\u5176\u7f3a\u70b9\u662f\u7f51\u7edc\u4e0d\u597d\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u4e22\u5305\uff0c\u5f71\u54cd\u89c6\u9891\u89c2\u770b\u8d28\u91cf\u3002 \u56e0\u4e3a\u4e92\u8054\u7f51\u7f51\u7edc\u73af\u5883\u7684\u4e0d\u7a33\u5b9a\u6027\uff0cRTSP+RTP\u8f83\u5c11\u7528\u4e8e\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u4f20\u8f93\u3002\u4e92\u8054\u7f51\u89c6\u9891\u670d\u52a1\u901a\u5e38\u91c7\u7528TCP\u4f5c\u4e3a\u5176\u6d41\u5a92\u4f53\u7684\u4f20\u8f93\u5c42\u534f\u8bae\uff0c\u56e0\u800c\u50cfRTMP\uff0cMMS\uff0cHTTP\u8fd9\u7c7b\u7684\u534f\u8bae\u5e7f\u6cdb\u7528\u4e8e\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u670d\u52a1\u4e4b\u4e2d\u3002\u8fd9\u7c7b\u534f\u8bae\u4e0d\u4f1a\u53d1\u751f\u4e22\u5305\uff0c\u56e0\u800c\u4fdd\u8bc1\u4e86\u89c6\u9891\u7684\u8d28\u91cf\uff0c\u4f46\u662f\u4f20\u8f93\u7684\u6548\u7387\u4f1a\u76f8\u5bf9\u4f4e\u4e00\u4e9b\u3002","title":"\u4e00\u3001\u751f\u6d3b\u4e2d\u7684\u89c6\u97f3\u9891"},{"location":"videoBasic/#_2","text":"\u540d\u79f0 \u63a8\u51fa\u673a\u6784 \u6d41\u5a92\u4f53 \u652f\u6301\u7684\u89c6\u9891\u7f16\u7801 \u652f\u6301\u7684\u97f3\u9891\u7f16\u7801 \u76ee\u524d\u4f7f\u7528\u9886\u57df AVI Microsoft Inc. \u4e0d\u652f\u6301 \u51e0\u4e4e\u6240\u6709\u683c\u5f0f \u51e0\u4e4e\u6240\u6709\u683c\u5f0f BT\u4e0b\u8f7d\u5f71\u89c6 MP4 MPEG \u652f\u6301 MPEG-2, MPEG-4, H.264, H.263\u7b49 AAC, MPEG-1 Layers I, II, III, AC-3\u7b49 \u4e92\u8054\u7f51\u89c6\u9891\u7f51\u7ad9 TS MPEG \u652f\u6301 MPEG-1, MPEG-2, MPEG-4, H.264 MPEG-1 Layers I, II, III, AAC, IPTV\uff0c\u6570\u5b57\u7535\u89c6 FLV Adobe Inc. \u652f\u6301 Sorenson, VP6, H.264 MP3, ADPCM, Linear PCM, AAC\u7b49 \u4e92\u8054\u7f51\u89c6\u9891\u7f51\u7ad9 MKV CoreCodec Inc. \u652f\u6301 \u51e0\u4e4e\u6240\u6709\u683c\u5f0f \u51e0\u4e4e\u6240\u6709\u683c\u5f0f \u4e92\u8054\u7f51\u89c6\u9891\u7f51\u7ad9 RMVB Real Networks Inc. \u652f\u6301 RealVideo 8, 9, 10 AAC, Cook Codec, RealAudio Lossless BT\u4e0b\u8f7d\u5f71\u89c6 \u7531\u8868\u53ef\u89c1\uff0c\u9664\u4e86AVI\u4e4b\u5916\uff0c\u5176\u4ed6\u5c01\u88c5\u683c\u5f0f\u90fd\u652f\u6301\u6d41\u5a92\u4f53\uff0c\u5373\u53ef\u4ee5\u201c\u8fb9\u4e0b\u8fb9\u64ad\u201d\u3002","title":"\u56db\u3001\u5c01\u88c5\u683c\u5f0f"},{"location":"videoBasic/#_3","text":"YUV: Y\uff08\u4eae\u5ea6\uff09UV(\u8272\u5ea6) \u89c6\u9891\u7f16\u7801\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5c06\u89c6\u9891\u50cf\u7d20\u6570\u636e\uff08RGB\uff0cYUV\u7b49\uff09\u538b\u7f29\u6210\u4e3a\u89c6\u9891\u7801\u6d41\uff0c\u4ece\u800c\u964d\u4f4e\u89c6\u9891\u7684\u6570\u636e\u91cf\u3002\u5982\u679c\u89c6\u9891\u4e0d\u7ecf\u8fc7\u538b\u7f29\u7f16\u7801\uff0c\u4f53\u79ef\u662f\u975e\u5e38\u5927\u7684\uff0c\u4e00\u90e8\u7535\u5f71\u53ef\u80fd\u8981\u4e0a\u767eG\u7684\u7a7a\u95f4\uff0c\u89c6\u9891\u7f16\u7801\u662f\u89c6\u97f3\u9891\u6280\u672f\u4e2d\u6700\u91cd\u8981\u7684\u6280\u672f\u4e4b\u4e00\u3002\u89c6\u9891\u7801\u6d41\u7684\u6570\u636e\u91cf\u5360\u4e86\u89c6\u97f3\u9891\u603b\u6570\u636e\u91cf\u7684\u7edd\u5927\u90e8\u5206\u3002\u9ad8\u6548\u7387\u7684\u89c6\u9891\u7f16\u7801\u5728\u540c\u7b49\u7684\u7801\u7387\u4e0b\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u9ad8\u7684\u89c6\u9891\u8d28\u91cf\u3002 \u540d\u79f0 \u63a8\u51fa\u673a\u6784 \u63a8\u51fa\u65f6\u95f4 \u76ee\u524d\u4f7f\u7528\u9886\u57df HEVC(H.265) MPEG/ITU-T 2013 \u7814\u53d1\u4e2d H.264 MPEG/ITU-T 2003 \u5404\u4e2a\u9886\u57df MPEG4 MPEG 2001 \u4e0d\u6e29\u4e0d\u706b MPEG2 MPEG 1994 \u6570\u5b57\u7535\u89c6 VP9 Google 2013 \u7814\u53d1\u4e2d VP8 Google 2008 \u4e0d\u666e\u53ca VC-1 Microsoft Inc. 2006 \u5fae\u8f6f\u5e73\u53f0 \u7531\u8868\u53ef\u89c1\uff0c\u6709\u4e24\u79cd\u89c6\u9891\u7f16\u7801\u65b9\u6848\u662f\u6700\u65b0\u63a8\u51fa\u7684\uff1aVP9\u548cHEVC\u3002\u76ee\u524d\u8fd9\u4e24\u79cd\u65b9\u6848\u90fd\u5904\u4e8e\u7814\u53d1\u9636\u6bb5\uff0c\u8fd8\u6ca1\u6709\u5230\u8fbe\u5b9e\u7528\u7684\u7a0b\u5ea6\u3002\u5f53\u524d\u4f7f\u7528\u6700\u591a\u7684\u89c6\u9891\u7f16\u7801\u65b9\u6848\u5c31\u662fH.264\u3002","title":"\u4e94\u3001\u89c6\u9891\u7f16\u7801"},{"location":"videoBasic/#_4","text":"H.264\u4ec5\u4ec5\u662f\u4e00\u4e2a\u7f16\u7801\u6807\u51c6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5177\u4f53\u7684\u7f16\u7801\u5668\uff0cH.264\u53ea\u662f\u7ed9\u7f16\u7801\u5668\u7684\u5b9e\u73b0\u63d0\u4f9b\u53c2\u7167\u7528\u7684 \uff0c\u57fa\u4e8eH.264\u6807\u51c6\u7684\u7f16\u7801\u5668\u8fd8\u662f\u5f88\u591a\u7684\u3002\u5b9e\u9645\u4e2d\u4f7f\u7528\u6700\u591a\u7684\u5c31\u662fx264\u4e86\uff0c\u6027\u80fd\u5f3a\u608d\uff08\u8d85\u8fc7\u4e86\u5f88\u591a\u5546\u4e1a\u7f16\u7801\u5668\uff09\uff0c\u800c\u4e14\u5f00\u6e90\u3002","title":"\u4e3b\u6d41\u7f16\u7801\u6807\u51c6"},{"location":"videoBasic/#_5","text":"HEVC/H.265 \u5728\u672a\u6765\u62e5\u6709\u5f88\u591a\u5927\u7684\u4f18\u52bf \u7a7a\u95f4\u7ef4\u5ea6\uff1a\u76f8\u4f3c\u50cf\u7d20\u70b9\u8868\u793a\uff0816x16\u77e9\u96351\uff09\u53ef\u4ee5\u7528\u4e00\u4e2a1\u8868\u793a \u65f6\u95f4\u7ef4\u5ea6\uff1a\u76f8\u90bb\u4e24\u5e27\u56fe\u7247\u7684\u5927\u90e8\u5206\u76f8\u4f3c\uff0c\u53ea\u6709\u5f88\u5c11\u7684\u4e0d\u540c\u70b9","title":"\u4e0b\u4e00\u4ee3\u7f16\u7801\u6807\u51c6"},{"location":"videoBasic/#_6","text":"\u97f3\u9891\u7f16\u7801\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5c06\u97f3\u9891\u91c7\u6837\u6570\u636e\uff08PCM\u7b49\uff09\u538b\u7f29\u6210\u4e3a\u97f3\u9891\u7801\u6d41\uff0c\u4ece\u800c\u964d\u4f4e\u97f3\u9891\u7684\u6570\u636e\u91cf\u3002\u97f3\u9891\u7f16\u7801\u4e5f\u662f\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u6280\u672f\u4e2d\u4e00\u4e2a\u91cd\u8981\u7684\u6280\u672f\u3002\u4f46\u662f\u4e00\u822c\u60c5\u51b5\u4e0b\u97f3\u9891\u7684\u6570\u636e\u91cf\u8981\u8fdc\u5c0f\u4e8e\u89c6\u9891\u7684\u6570\u636e\u91cf\uff0c\u56e0\u800c\u5373\u4f7f\u4f7f\u7528\u7a0d\u5fae\u843d\u540e\u7684\u97f3\u9891\u7f16\u7801\u6807\u51c6\uff0c\u800c\u5bfc\u81f4\u97f3\u9891\u6570\u636e\u91cf\u6709\u6240\u589e\u52a0\uff0c\u4e5f\u4e0d\u4f1a\u5bf9\u89c6\u97f3\u9891\u7684\u603b\u6570\u636e\u91cf\u4ea7\u751f\u592a\u5927\u7684\u5f71\u54cd\u3002\u9ad8\u6548\u7387\u7684\u97f3\u9891\u7f16\u7801\u5728\u540c\u7b49\u7684\u7801\u7387\u4e0b\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u9ad8\u7684\u97f3\u8d28\u3002 \u540d\u79f0 \u673a\u6784 \u63a8\u51fa\u65f6\u95f4 \u4f7f\u7528\u9886\u57df AAC MPEG 1997 \u5404\u4e2a\u9886\u57df AC-3 Dolby Inc. 1992 \u7535\u5f71 MP3 MPEG 1993 \u5404\u4e2a\u9886\u57df WMA Microsoft Inc. 1999 \u5fae\u8f6f\u5e73\u53f0 \u7531\u8868\u53ef\u89c1\uff0c\u8fd1\u5e74\u6765\u5e76\u672a\u63a8\u51fa\u5168\u65b0\u7684\u97f3\u9891\u7f16\u7801\u65b9\u6848\uff0c\u53ef\u89c1\u97f3\u9891\u7f16\u7801\u6280\u672f\u5df2\u7ecf\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u4eba\u4eec\u7684\u9700\u8981\u3002\u97f3\u9891\u7f16\u7801\u6280\u672f\u8fd1\u671f\u7edd\u5927\u90e8\u5206\u7684\u6539\u52a8\u90fd\u662f\u5728MP3\u7684\u7ee7\u4efb\u8005\u2014\u2014AAC\u7684\u57fa\u7840\u4e0a\u5b8c\u6210\u7684\u3002","title":"\u516d\u3001\u97f3\u9891\u7f16\u7801"},{"location":"videoBasic/#_7","text":"\u73b0\u6709\u7684\u7f51\u7edc\u89c6\u97f3\u9891\u670d\u52a1\u4e3b\u8981\u5305\u62ec\u4e24\u79cd\u65b9\u5f0f\uff1a\u70b9\u64ad\u548c\u76f4\u64ad\u3002\u70b9\u64ad\u610f\u5373\u6839\u636e\u7528\u6237\u7684\u9700\u8981\u64ad\u653e\u76f8\u5e94\u7684\u89c6\u9891\u8282\u76ee\uff0c\u8fd9\u662f\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u670d\u52a1\u6700\u4e3b\u8981\u7684\u65b9\u5f0f\u3002\u7edd\u5927\u90e8\u5206\u89c6\u9891\u7f51\u7ad9\u90fd\u63d0\u4f9b\u4e86\u70b9\u64ad\u670d\u52a1\u3002\u76f4\u64ad\u610f\u5373\u4e92\u8054\u7f51\u89c6\u97f3\u9891\u5e73\u53f0\u76f4\u63a5\u5c06\u89c6\u9891\u5185\u5bb9\u5b9e\u65f6\u53d1\u9001\u7ed9\u7528\u6237\uff0c\u76ee\u524d\u8fd8\u5904\u4e8e\u53d1\u5c55\u9636\u6bb5\u3002\u76f4\u64ad\u5728\u7f51\u7edc\u7535\u89c6\u53f0\uff0c\u793e\u4ea4\u89c6\u9891\u7f51\u7ad9\u8f83\u4e3a\u5e38\u89c1\u3002","title":"\u4e03\u3001\u73b0\u6709\u7f51\u7edc\u89c6\u97f3\u9891\u5e73\u53f0\u5bf9\u6bd4"},{"location":"videoBasic/#_8","text":"\u540d\u79f0 \u534f\u8bae \u5c01\u88c5 \u89c6\u9891\u7f16\u7801 \u97f3\u9891\u7f16\u7801 \u64ad\u653e\u5668 \u534e\u6570TV RTMP FLV H.264 AAC Flash \u516d\u95f4\u623f RTMP FLV H.264 AAC Flash \u4e2d\u56fd\u6559\u80b2\u7535\u89c6\u53f0 RTMP FLV H.264 AAC Flash \u5317\u5e7f\u4f20\u5a92\u79fb\u52a8\u7535\u89c6 RTMP FLV H.264 AAC Flash \u4e0a\u6d77IPTV RTMP FLV H.264 AAC Flash \u76f4\u64ad\u670d\u52a1\u666e\u904d\u91c7\u7528\u4e86RTMP\u4f5c\u4e3a\u6d41\u5a92\u4f53\u534f\u8bae\uff0cFLV\u4f5c\u4e3a\u5c01\u88c5\u683c\u5f0f\uff0cH.264\u4f5c\u4e3a\u89c6\u9891\u7f16\u7801\u683c\u5f0f\uff0cAAC\u4f5c\u4e3a\u97f3\u9891\u7f16\u7801\u683c\u5f0f\u3002 \u91c7\u7528RTMP\u4f5c\u4e3a\u76f4\u64ad\u534f\u8bae\u7684\u597d\u5904\u5728\u4e8e\u5176\u88abFlash\u64ad\u653e\u5668\u652f\u6301\u3002\u800cFlash\u64ad\u653e\u5668\u5982\u4eca\u5df2\u7ecf\u5b89\u88c5\u5728\u5168\u740399%\u7684\u7535\u8111\u4e0a\uff0c\u5e76\u4e14\u4e0e\u6d4f\u89c8\u5668\u7ed3\u5408\u7684\u5f88\u597d\u3002\u56e0\u6b64\u8fd9\u79cd\u6d41\u5a92\u4f53\u76f4\u64ad\u5e73\u53f0\u53ef\u4ee5\u5b9e\u73b0\u201c\u65e0\u63d2\u4ef6\u76f4\u64ad\u201d\uff0c\u6781\u5927\u7684\u7b80\u5316\u4e86\u5ba2\u6237\u7aef\u7684\u64cd\u4f5c\u3002 FLV\u662fRTMP\u4f7f\u7528\u7684\u5c01\u88c5\u683c\u5f0f\uff0cH.264\u662f\u5f53\u4eca\u5b9e\u9645\u5e94\u7528\u4e2d\u7f16\u7801\u6548\u7387\u6700\u9ad8\u7684\u89c6\u9891\u7f16\u7801\u6807\u51c6\uff0cAAC\u5219\u662f\u5f53\u4eca\u5b9e\u9645\u5e94\u7528\u4e2d\u7f16\u7801\u6548\u7387\u6700\u9ad8\u7684\u97f3\u9891\u7f16\u7801\u6807\u51c6\u3002\u89c6\u9891\u64ad\u653e\u5668\u65b9\u9762\uff0c\u90fd\u4f7f\u7528\u4e86Flash\u64ad\u653e\u5668\u3002","title":"\u76f4\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4"},{"location":"videoBasic/#_9","text":"\u540d\u79f0 \u534f\u8bae \u5c01\u88c5 \u89c6\u9891\u7f16\u7801 \u97f3\u9891\u7f16\u7801 \u64ad\u653e\u5668 CNTV HTTP MP4 H.264 AAC Flash \u4f18\u9177\u7f51 HTTP FLV H.264 AAC Flash \u571f\u8c46\u7f51 HTTP F4V H.264 AAC Flash \u4e50\u89c6\u7f51 HTTP FLV H.264 AAC Flash \u65b0\u6d6a\u89c6\u9891 HTTP FLV H.264 AAC Flash \u70b9\u64ad\u670d\u52a1\u666e\u904d\u91c7\u7528\u4e86HTTP\u4f5c\u4e3a\u6d41\u5a92\u4f53\u534f\u8bae\uff0cH.264\u4f5c\u4e3a\u89c6\u9891\u7f16\u7801\u683c\u5f0f\uff0cAAC\u4f5c\u4e3a\u97f3\u9891\u7f16\u7801\u683c\u5f0f\u3002\u91c7\u7528HTTP\u4f5c\u4e3a\u70b9\u64ad\u534f\u8bae\u6709\u4ee5\u4e0b\u4e24\u70b9\u4f18\u52bf\uff1a\u4e00\u65b9\u9762\uff0cHTTP\u662f\u57fa\u4e8eTCP\u534f\u8bae\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u5a92\u4f53\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u51fa\u73b0\u4e22\u5305\u7b49\u73b0\u8c61\uff0c\u4ece\u800c\u4fdd\u8bc1\u4e86\u89c6\u9891\u7684\u8d28\u91cf\uff1b\u53e6\u4e00\u65b9\u9762\uff0cHTTP\u88ab\u7edd\u5927\u90e8\u5206\u7684Web\u670d\u52a1\u5668\u652f\u6301\uff0c\u56e0\u800c\u6d41\u5a92\u4f53\u670d\u52a1\u673a\u6784\u4e0d\u5fc5\u6295\u8d44\u8d2d\u4e70\u989d\u5916\u7684\u6d41\u5a92\u4f53\u670d\u52a1\u5668\uff0c\u4ece\u800c\u8282\u7ea6\u4e86\u5f00\u652f\u3002\u70b9\u64ad\u670d\u52a1\u91c7\u7528\u7684\u5c01\u88c5\u683c\u5f0f\u6709\u591a\u79cd\uff1aMP4\uff0cFLV\uff0cF4V\u7b49\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u533a\u522b\u4e0d\u662f\u5f88\u5927\u3002\u89c6\u9891\u7f16\u7801\u6807\u51c6\u548c\u97f3\u9891\u7f16\u7801\u6807\u51c6\u662fH.264\u548cAAC\u3002\u8fd9\u4e24\u79cd\u6807\u51c6\u5206\u522b\u662f\u5f53\u4eca\u5b9e\u9645\u5e94\u7528\u4e2d\u7f16\u7801\u6548\u7387\u6700\u9ad8\u7684\u89c6\u9891\u6807\u51c6\u548c\u97f3\u9891\u6807\u51c6\u3002\u89c6\u9891\u64ad\u653e\u5668\u65b9\u9762\uff0c\u65e0\u4e00\u4f8b\u5916\u7684\u90fd\u4f7f\u7528\u4e86Flash\u64ad\u653e\u5668\u3002","title":"\u70b9\u64ad\u5e73\u53f0\u53c2\u6570\u5bf9\u6bd4"},{"location":"videoBasic/#bitratef-p-s","text":"","title":"\u516b\u3001\u7801\u7387\uff08bitrate\uff09\u5e27\u7387\uff08f p s\uff09\u5206\u8fa8\u7387\u548c\u6e05\u6670\u5ea6\u7684\u8054\u7cfb\u4e0e\u533a\u522b"},{"location":"videoBasic/#k-p-b-ss","text":"","title":"\u7801\u7387 \uff0c\u5355\u4f4d\u65f6\u95f4\u5185\u4f20\u9001\u7684\u6570\u636e\u4f4d\u6570\uff0c\u5355\u4f4dk p b s/s\u5373\u5343\u4f4d\u6bcf\u79d2\uff0c\u5f71\u54cd\u4f53\u79ef\u548c\u6e05\u6670\u5ea6\uff0c\u4e0e\u4f53\u79ef\u6210\u6b63\u6bd4\uff1a\u7801\u7387\u8d8a\u5927\uff0c\u4f53\u79ef\u8d8a\u5927\uff1b\u7801\u7387\u8d8a\u5c0f\uff0c\u4f53\u79ef\u8d8a\u5c0f\u3002"},{"location":"videoBasic/#f-p-s1","text":"","title":"\u5e27\u7387f p s\uff0c1\u79d2\u5185\u4f20\u8f93\u7684\u56fe\u7247\u6570\u91cf\uff0c\u5f71\u54cd\u753b\u9762\u6d41\u7a0b\u5ea6\uff0c\u4e0e\u753b\u9762\u6d41\u7545\u5ea6\u6210\u6b63\u6bd4\uff0c\u5e27\u7387\u8d8a\u5927\u8d8a\u6d41\u7545\uff0c\u5e27\u7387\u8d8a\u5c0f\u753b\u9762\u8d8a\u6709\u8df3\u52a8\u611f\uff0c\u5e27\u7387\u8d8a\u9ad8\uff0c\u6bcf\u79d2\u7ecf\u8fc7\u7684\u753b\u9762\u8d8a\u591a\uff0c\u9700\u8981\u7684\u7801\u7387\u4e5f\u8d8a\u9ad8\uff0c\u4f53\u79ef\u5927"},{"location":"videoBasic/#_10","text":"\u6e05\u6670\u5ea6\uff1a \u5728\u7801\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u5206\u8fa8\u7387\u4e0e\u6e05\u6670\u5ea6\u6210\u53cd\u6bd4\u5173\u7cfb\uff1a\u5206\u8fa8\u7387\u8d8a\u9ad8\uff0c\u56fe\u50cf\u8d8a\u4e0d\u6e05\u6670\uff0c\u5206\u8fa8\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u6e05\u6670 \u5728\u5206\u8fa8\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u7801\u7387\u4e0e\u6e05\u6670\u5ea6\u6210\u6b63\u6bd4\u5173\u7cfb\uff0c\u7801\u7387\u8d8a\u9ad8\uff0c\u56fe\u50cf\u8d8a\u6e05\u6670\uff1b\u7801\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u4e0d\u6e05\u6670 \u5728\u7801\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u5206\u8fa8\u7387\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u53d6\u503c\u90fd\u5c06\u662f\u6e05\u6670\u7684\uff1b\u540c\u6837\u5730\uff0c\u5728\u5206\u8fa8\u7387\u4e00\u5b9a\u7684\u60c5\u51b5\u4e0b\uff0c\u7801\u7387\u5728\u4e00\u5b9a\u8303\u56f4\u5185\u53d6\u503c\u90fd\u5c06\u662f\u6e05\u6670\u7684\u3002","title":"\u5206\u8fa8\u7387 \uff0c\u5f71\u54cd\u56fe\u50cf\u5927\u5c0f\uff0c\u5206\u522b\u7387\u8d8a\u9ad8\u56fe\u50cf\u8d8a\u5927\uff0c\u5206\u8fa8\u7387\u8d8a\u4f4e\uff0c\u56fe\u50cf\u8d8a\u5c0f\u3002"},{"location":"videoBasic/#i-b-p","text":"\u4e3a\u4ec0\u4e48\u8981\u538b\u7f29\u89c6\u9891\uff1f \u672a\u7ecf\u538b\u7f29\u7684\u89c6\u9891\uff0c\u6570\u91cf\u5de8\u5927\uff0c\u5b58\u50a8\u56f0\u96be\uff0c\u4f20\u8f93\u56f0\u96be\uff0c\u4e00\u5f20\u56fe\u72472M\u4e00\u79d2\u949f\u4e09\u5341\u5e27\u7684\u60c5\u51b5\u5c31\u662f2X30=60M,1\u79d2\u89c6\u989160M\u3002 \u5982\u4f55\u8fdb\u884c\u538b\u7f29\uff1f \u53bb\u9664\u5197\u4f59\u4fe1\u606f\uff08\u7a7a\u95f4\u5197\u4f59\uff0c\u65f6\u95f4\u5197\u4f59\uff0c\u89c6\u89c9\u5197\u4f59\uff0c\u7b49\uff09\u3002\u7a7a\u95f4\u5197\u4f59\u76f8\u540c\u533a\u57df\u50cf\u7d20\u4e00\u6837\uff0c\u65f6\u95f4\u5197\u4f59\u76f8\u90bb\u5e27\u6781\u5c11\u5dee\u5f02\u70b9\uff0c\u89c6\u89c9\u5197\u4f59\uff0c\u773c\u955c\u80fd\u5206\u8fa8\u51fa\u51e0\u79cd\u989c\u8272\u3002 \u6570\u636e\u538b\u7f29\u5206\u7c7b\uff1f \u65e0\u635f\u538b\u7f29\u548c\u6709\u635f\u538b\u7f29\uff0cH264\u5c5e\u4e8e\u6709\u635f\u538b\u7f29\uff0c\u5728\u89c6\u9891\u7f16\u7801\u4e2d\u6bcf\u4e00\u5e27\u90fd\u4ee3\u8868\u4e00\u5e45\u9759\u6b62\u7684\u56fe\u50cf\uff0c\u624d\u4f1a\u6709IPB\u51cf\u5c11\u6570\u636e\u5bb9\u91cf I\u5e27\uff1a\u5173\u952e\u5e27\uff0c\u4e00\u5e45\u5b8c\u6574\u753b\u9762\uff0c\u53ef\u72ec\u7acb\u89e3\u7801 B\u5e27\uff1a\u53cc\u5411\u5dee\u522b\u5e27\uff0c\u672c\u5e27\u4e0e\u524d\u540e\u5e27\u7684\u5dee\u522b\uff0c\u4e0d\u4ec5\u8981\u53d6\u5f97\u524d\u9762\u7684\u7f13\u5b58\u753b\u9762\uff0c\u8fd8\u8981\u53d6\u5f97\u540e\u9762\u7684\u753b\u9762\uff0c\u524d\u540e\u753b\u9762\u4e0e\u672c\u5e27\u6570\u636e\u53e0\u52a0\u53bb\u7684\u6700\u7ec8\u753b\u9762\u3002 P\u5e27\uff1a\u524d\u5411\u9884\u6d4b\u5e27\uff0c\u8868\u793a\u8fd9\u4e00\u5e27\u548c\u4e4b\u524d\u7684 I\u5e27\u6216P\u5e27\u7684\u5dee\u522b\uff0c\u8981\u89e3\u7801P\u5e27\uff0c\u53ea\u9700\u8981\u7528\u4e4b\u524d\u7f13\u5b58\u7684\u753b\u9762\u52a0\u672c\u5e27\u7684\u5dee\u522b\uff0c\u751f\u6210\u6700\u7ec8\u7684\u753b\u9762\u3002 I\u5e27\uff1a I\u5e27\u53c8\u79f0\u4f5c\u5185\u90e8\u753b\u9762\uff0c\u901a\u5e38\u662f\u6bcf\u4e2aGOP\u7684\u7b2c\u4e00\u4e2a\u5e27\uff0c\u9002\u5ea6\u7684\u538b\u7f29\u53ef\u4ee5\u5f53\u505a\u56fe\u50cf\uff0c\u4e00\u90e8\u5206\u538b\u7f29\u6210P\u5e27\uff0c\u4e00\u90e8\u5206\u538b\u7f29\u6210B\u5e27 I\u5e27\u4e5f\u88ab\u79f0\u4e3a\u5173\u952e\u5e27\uff0c\u662f\u57fa\u4e8e\u79bb\u6563\u4f59\u5f26\u53d8\u6362DCT\u538b\u7f29\u6280\u672f \u7279\u70b9\uff1a 1.\u5b83\u662f\u4e00\u4e2a\u5168\u5e27\u538b\u7f29\u7f16\u7801\u5e27 2.\u89e3\u7801\u65f6\u4ec5\u7528I\u5e27\u7684\u6570\u636e\u5c31\u53ef\u91cd\u65b0\u6784\u9020\u5b8c\u6574\u56fe\u50cf 3.I\u5e27\u63cf\u8ff0\u4e86\u56fe\u50cf\u80cc\u666f\u548c\u8fd0\u52a8\u4e3b\u4f53\u7684\u8be6\u60c5 4.I\u5e27\u4e0d\u9700\u8981\u53c2\u8003\u5176\u4ed6\u753b\u9762 5.I\u5e27\u662fPB\u5e27\u7684\u53c2\u8003\u5e27 6.I\u5e27\u662f\u5e27\u7ec4GOP\u7684\u57fa\u7840\u5e27\uff08\u7b2c\u4e00\u5e27\uff09\uff0c\u4e00\u7ec4\u53ea\u6709\u4e00\u4e2aI\u5e27 7.I\u5e27\u4e0d\u9700\u8981\u8003\u8651\u8fd0\u52a8\u77e2\u91cf 8.I\u5e27\u6240\u5360\u6570\u636e\u4fe1\u606f\u91cf\u6bd4\u8f83\u5927 P\u5e27\uff1a P\u5e27\u662f\u901a\u8fc7\u5145\u5206\u964d\u4f4e\u4e8e\u56fe\u50cf\u5e8f\u5217\u4e2d\u524d\u9762\u5df2\u7f16\u7801\u5e27\u7684\u65f6\u95f4\u5197\u4f59\u4fe1\u606f\u6765\u538b\u7f29\u4f20\u8f93\u6570\u636e\u91cf\u7684\u7f16\u7801\u56fe\u50cf\uff0c\u4e5f\u53eb\u9884\u6d4b\u5e27\u3002 \u5f53\u9488\u5bf9\u8fde\u7eed\u52a8\u6001\u56fe\u50cf\u7f16\u7801\u65f6\uff0c\u5c06\u8fde\u7eed\u82e5\u5e72\u5e45\u56fe\u50cf\u5206\u6210I,P,B\u4e09\u79cd\u7c7b\u578b\uff0cP\u5e27\u7531\u524d\u9762\u7684I\u3001P\u5e27\u9884\u6d4b\u800c\u6765\uff0c\u4e5f\u5c31\u662f\u8003\u8651\u8fd0\u52a8\u7684\u7279\u6027\u8fdb\u884c\u5e27\u95f4\u538b\u7f29\u3002 \u7279\u70b9\uff1a 1.P\u5e27\u662fI\u5e27\u540e\u97621~2\u5e27\u7684\u7f16\u7801\u5e27 2.P\u5e27\u91c7\u7528\u8fd0\u52a8\u8865\u507f\u7684\u65b9\u6cd5\u4f20\u9001\u5b83\u4e0e\u524d\u9762\u7684I\u6216P\u5e27\u7684\u5dee\u503c\u53ca\u8fd0\u52a8\u77e2\u91cf 3.\u89e3\u7801\u65f6\u5fc5\u987b\u5c06I\u5e27\u4e2d\u7684\u9884\u6d4b\u5e27\u4e0e\u9884\u6d4b\u8bef\u5dee\u6c42\u548c\u624d\u80fd\u91cd\u6784\u5b8c\u6574\u7684P\u5e27\u56fe\u50cf 4.P\u5e27\u5c5e\u4e8e\u5411\u524d\u9884\u6d4b\u7684\u5e27\u95f4\u7f16\u7801\u3002\u53ea\u53c2\u8003\u524d\u9762\u6700\u9760\u8fd1\u5b83\u7684I\u5e27\u6216P\u5e27 5.P\u5e27\u53ef\u4ee5\u662f\u540e\u9762P\u5e27\u7684\u53c2\u8003\u5e27\uff0c\u6216\u8005\u662f\u540e\u9762B\u5e27\u7684\u53c2\u8003\u5e27 6.\u7531\u4e8eP\u5e27\u662f\u53c2\u8003\u5e27\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u89e3\u7801\u9519\u8bef\u7684\u6269\u6563 7.\u56e0\u4e3a\u662f\u5dee\u503c\u4f20\u9001\uff0c\u538b\u7f29\u6bd4\u4f8b\u6bd4\u8f83\u9ad8","title":"\u4e5d \u3001I\u5e27 B\u5e27 P\u5e27"},{"location":"whyflutterplugin/","text":"\u4e00\u3001\u4ec0\u4e48\u662fflutter\u63d2\u4ef6\uff1f \u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4e3b\u89c2\u7684\u5c06\u63d2\u4ef6\u4e3b\u8981\u5206\u4e3a\u4e24\u79cd\uff1a \u4e00\u3001flutter\u672c\u8d28\u662f\u4e00\u5957ui\u6846\u67b6\uff0c\u672c\u8eab\u65e0\u6cd5\u63d0\u4f9b\u4e00\u4e9b\u7cfb\u7edf\u80fd\u529b\uff0c\u6bd4\u5982\u84dd\u7259\u3001\u76f8\u673a\u3001gps\u7b49\uff0c\u5982\u679c\u8981\u5728flutter APP\u4e2d\u8c03\u7528\u8fd9\u4e9b\u80fd\u529b\u5c31\u9700\u8981\u548c\u539f\u751f\u5e73\u53f0\u8fdb\u884c\u901a\u4fe1\uff0c\u4e3a\u6b64flutter\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5e73\u53f0\u901a\u9053\uff0c\u7528\u4e8e\u548c\u539f\u751f\u5e73\u53f0\u901a\u4fe1\uff0c\u8fd9\u4e2a\u901a\u9053\u53ef\u79f0\u4e3a\u63d2\u4ef6\u3002 \u4e8c\u3001\u4e5f\u662f\u6211\u6b64\u6b21\u5b66\u4e60flutter\u63d2\u4ef6\u7684\u4e3b\u8981\u539f\u56e0\uff0c\u516c\u53f8\u7684\u77ed\u4fe1\u548c\u79d2\u9a8csdk\u7ed9APP\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u77ed\u4fe1\u767b\u5f55\u9a8c\u8bc1\u7684\u670d\u52a1\uff0c\u6709android \u548cIOS\u4e24\u4e2a\u5e73\u53f0\u7684\uff0c\u4f46\u662f\u73b0\u5728\u60f3\u63d0\u4f9b\u7ed9flutter APP\u4f7f\u7528\uff0c\u63d2\u4ef6\u5316\u4fbf\u662f\u5176\u4e2d\u7684\u65b9\u6848\u4e4b\u4e00\uff0c\u63a5\u5165\u653e\u53ea\u9700\u8981\u8c03\u7528\u63d2\u4ef6\u5bf9\u5e94\u7684api\uff0c\u63d2\u4ef6\u4f1a\u6839\u636e\u5f53\u524d\u6240\u5904\u7684\u5e73\u53f0\u6765\u8c03\u53d6\u5bf9\u5e94\u5e73\u53f0\u7684sdk\uff0c\u4ece\u800c\u8fbe\u5230\u6548\u679c\u3002 \u4e8c\u3001\u600e\u4e48\u5b9e\u73b0\u7684\u53ef\u4ee5\u4e00\u5957\u63d2\u4ef6\u9002\u914d\u4e24\u4e2a\u5e73\u53f0 \u521b\u5efaflutter\u63d2\u4ef6\u9879\u76ee\u4e00\u822c\u90fd\u5b58\u5728\u4e24\u4e2a\u7279\u6b8a\u7684\u6587\u4ef6\u5939\uff0candroid\u4e0eios \u5982\u679c\u9700\u8981\u7f16\u5199java\\kotlin\u6216\u8005Object-C\\swift\u4ee3\u7801\uff0c\u5206\u522b\u5728\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u9879\u76ee\u4e2d\u8fdb\u884c\u5373\u53ef\uff0c\u7136\u540e\u901a\u8fc7\u76f8\u5e94\u7684\u65b9\u6cd5\u5c06\u539f\u751f\u4ee3\u7801\u4e2d\u5f00\u53d1\u7684\u65b9\u6cd5\u6620\u5c04\u5230dart\u4e2d\u3002 \u4e0b\u4e00\u9875","title":"\u4ec0\u4e48\u662fflutter\u63d2\u4ef6\u53ca\u4f5c\u7528"},{"location":"whyflutterplugin/#flutter","text":"\u5b66\u4e60\u7684\u8fc7\u7a0b\u4e2d\u4e3b\u89c2\u7684\u5c06\u63d2\u4ef6\u4e3b\u8981\u5206\u4e3a\u4e24\u79cd\uff1a \u4e00\u3001flutter\u672c\u8d28\u662f\u4e00\u5957ui\u6846\u67b6\uff0c\u672c\u8eab\u65e0\u6cd5\u63d0\u4f9b\u4e00\u4e9b\u7cfb\u7edf\u80fd\u529b\uff0c\u6bd4\u5982\u84dd\u7259\u3001\u76f8\u673a\u3001gps\u7b49\uff0c\u5982\u679c\u8981\u5728flutter APP\u4e2d\u8c03\u7528\u8fd9\u4e9b\u80fd\u529b\u5c31\u9700\u8981\u548c\u539f\u751f\u5e73\u53f0\u8fdb\u884c\u901a\u4fe1\uff0c\u4e3a\u6b64flutter\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5e73\u53f0\u901a\u9053\uff0c\u7528\u4e8e\u548c\u539f\u751f\u5e73\u53f0\u901a\u4fe1\uff0c\u8fd9\u4e2a\u901a\u9053\u53ef\u79f0\u4e3a\u63d2\u4ef6\u3002 \u4e8c\u3001\u4e5f\u662f\u6211\u6b64\u6b21\u5b66\u4e60flutter\u63d2\u4ef6\u7684\u4e3b\u8981\u539f\u56e0\uff0c\u516c\u53f8\u7684\u77ed\u4fe1\u548c\u79d2\u9a8csdk\u7ed9APP\u63d0\u4f9b\u4e86\u4fbf\u6377\u7684\u77ed\u4fe1\u767b\u5f55\u9a8c\u8bc1\u7684\u670d\u52a1\uff0c\u6709android \u548cIOS\u4e24\u4e2a\u5e73\u53f0\u7684\uff0c\u4f46\u662f\u73b0\u5728\u60f3\u63d0\u4f9b\u7ed9flutter APP\u4f7f\u7528\uff0c\u63d2\u4ef6\u5316\u4fbf\u662f\u5176\u4e2d\u7684\u65b9\u6848\u4e4b\u4e00\uff0c\u63a5\u5165\u653e\u53ea\u9700\u8981\u8c03\u7528\u63d2\u4ef6\u5bf9\u5e94\u7684api\uff0c\u63d2\u4ef6\u4f1a\u6839\u636e\u5f53\u524d\u6240\u5904\u7684\u5e73\u53f0\u6765\u8c03\u53d6\u5bf9\u5e94\u5e73\u53f0\u7684sdk\uff0c\u4ece\u800c\u8fbe\u5230\u6548\u679c\u3002","title":"\u4e00\u3001\u4ec0\u4e48\u662fflutter\u63d2\u4ef6\uff1f"},{"location":"whyflutterplugin/#_1","text":"\u521b\u5efaflutter\u63d2\u4ef6\u9879\u76ee\u4e00\u822c\u90fd\u5b58\u5728\u4e24\u4e2a\u7279\u6b8a\u7684\u6587\u4ef6\u5939\uff0candroid\u4e0eios \u5982\u679c\u9700\u8981\u7f16\u5199java\\kotlin\u6216\u8005Object-C\\swift\u4ee3\u7801\uff0c\u5206\u522b\u5728\u5bf9\u5e94\u7684\u6587\u4ef6\u5939\u9879\u76ee\u4e2d\u8fdb\u884c\u5373\u53ef\uff0c\u7136\u540e\u901a\u8fc7\u76f8\u5e94\u7684\u65b9\u6cd5\u5c06\u539f\u751f\u4ee3\u7801\u4e2d\u5f00\u53d1\u7684\u65b9\u6cd5\u6620\u5c04\u5230dart\u4e2d\u3002 \u4e0b\u4e00\u9875","title":"\u4e8c\u3001\u600e\u4e48\u5b9e\u73b0\u7684\u53ef\u4ee5\u4e00\u5957\u63d2\u4ef6\u9002\u914d\u4e24\u4e2a\u5e73\u53f0"},{"location":"constructure/mvc/","text":"MVC View\uff1aXML\u5e03\u5c40\u6587\u4ef6\u3002 Model\uff1a\u5b9e\u4f53\u6a21\u578b\uff08\u6570\u636e\u7684\u83b7\u53d6\u3001\u5b58\u50a8\u3001\u6570\u636e\u72b6\u6001\u53d8\u5316\uff09\u3002 Controller\uff1a\u5bf9\u5e94\u4e8eActivity\uff0c\u5904\u7406\u6570\u636e\u3001\u4e1a\u52a1\u548cUI\u3002 \u4ece\u4e0a\u9762\u8fd9\u4e2a\u7ed3\u6784\u6765\u770b\uff0cAndroid\u672c\u8eab\u7684\u8bbe\u8ba1\u8fd8\u662f\u7b26\u5408MVC\u67b6\u6784\u7684\uff0c\u4f46\u662fAndroid\u4e2d\u7eaf\u7cb9\u4f5c\u4e3aView\u7684XML\u89c6\u56fe\u529f\u80fd\u592a\u5f31\uff0c\u6211\u4eec\u5927\u91cf\u5904\u7406View\u7684\u903b\u8f91\u53ea\u80fd\u5199\u5728Activity\u4e2d\uff0c\u8fd9\u6837Activity\u5c31\u5145\u5f53\u4e86View\u548cController\u4e24\u4e2a\u89d2\u8272\uff0c\u76f4\u63a5\u5bfc\u81f4Activity\u4e2d\u7684\u4ee3\u7801\u5927\u7206\u70b8\u3002\u76f8\u4fe1\u5927\u591a\u6570Android\u5f00\u53d1\u8005\u90fd\u9047\u5230\u8fc7\u4e00\u4e2aAcitivty\u6570\u4ee5\u5343\u884c\u7684\u4ee3\u7801\u60c5\u51b5\u5427\uff01\u6240\u4ee5\uff0c\u66f4\u8d34\u5207\u7684\u8bf4\u6cd5\u662f\uff0c\u8fd9\u4e2aMVC\u7ed3\u6784\u6700\u7ec8\u5176\u5b9e\u53ea\u662f\u4e00\u4e2aModel-View\uff08Activity:View&Controller\uff09\u7684\u7ed3\u6784\u3002 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002 \u8fd9\u662f\u82f9\u679c\u5f00\u53d1\u8005\u6587\u6863\u4e2d\u6458\u8fc7\u6765\u7684\u56fe\u7247\uff0c\u8868\u660e\u4e86\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u7b80\u5355\u63cf\u8ff0\u4e86\u4e09\u8005\u4f5c\u7528Model\uff1a\u6570\u636e\u6a21\u578b\uff0c\u7528\u6765\u5b58\u50a8\u6570\u636eView\uff1a\u89c6\u56fe\u754c\u9762\uff0c\u7528\u6765\u5c55\u793aUI\u754c\u9762\u548c\u54cd\u5e94\u7528\u6237\u4ea4\u4e92Controller\uff1a\u63a7\u5236\u5668(\u5927\u7ba1\u5bb6\u89d2\u8272)\uff0c\u76d1\u542c\u6a21\u578b\u6570\u636e\u7684\u6539\u53d8\u548c\u63a7\u5236\u89c6\u56fe\u884c\u4e3a\u3001\u5904\u7406\u7528\u6237\u4ea4\u4e92\u4ed6\u4eec\u5de5\u4f5c\u548c\u5173\u7cfb\u770b\u8d77\u6765\u662f\u5982\u6b64\u6e05\u6670\uff0c\u662f\u4e00\u79cd\u975e\u5e38\u597d\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u662f\u7684\uff0c\u9996\u5148\u58f0\u660eMVC\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u67b6\u6784\u601d\u60f3\u3002","title":"MVC"},{"location":"constructure/mvc/#mvc","text":"View\uff1aXML\u5e03\u5c40\u6587\u4ef6\u3002 Model\uff1a\u5b9e\u4f53\u6a21\u578b\uff08\u6570\u636e\u7684\u83b7\u53d6\u3001\u5b58\u50a8\u3001\u6570\u636e\u72b6\u6001\u53d8\u5316\uff09\u3002 Controller\uff1a\u5bf9\u5e94\u4e8eActivity\uff0c\u5904\u7406\u6570\u636e\u3001\u4e1a\u52a1\u548cUI\u3002 \u4ece\u4e0a\u9762\u8fd9\u4e2a\u7ed3\u6784\u6765\u770b\uff0cAndroid\u672c\u8eab\u7684\u8bbe\u8ba1\u8fd8\u662f\u7b26\u5408MVC\u67b6\u6784\u7684\uff0c\u4f46\u662fAndroid\u4e2d\u7eaf\u7cb9\u4f5c\u4e3aView\u7684XML\u89c6\u56fe\u529f\u80fd\u592a\u5f31\uff0c\u6211\u4eec\u5927\u91cf\u5904\u7406View\u7684\u903b\u8f91\u53ea\u80fd\u5199\u5728Activity\u4e2d\uff0c\u8fd9\u6837Activity\u5c31\u5145\u5f53\u4e86View\u548cController\u4e24\u4e2a\u89d2\u8272\uff0c\u76f4\u63a5\u5bfc\u81f4Activity\u4e2d\u7684\u4ee3\u7801\u5927\u7206\u70b8\u3002\u76f8\u4fe1\u5927\u591a\u6570Android\u5f00\u53d1\u8005\u90fd\u9047\u5230\u8fc7\u4e00\u4e2aAcitivty\u6570\u4ee5\u5343\u884c\u7684\u4ee3\u7801\u60c5\u51b5\u5427\uff01\u6240\u4ee5\uff0c\u66f4\u8d34\u5207\u7684\u8bf4\u6cd5\u662f\uff0c\u8fd9\u4e2aMVC\u7ed3\u6784\u6700\u7ec8\u5176\u5b9e\u53ea\u662f\u4e00\u4e2aModel-View\uff08Activity:View&Controller\uff09\u7684\u7ed3\u6784\u3002 \u8457\u4f5c\u6743\u5f52\u4f5c\u8005\u6240\u6709\u3002\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u8054\u7cfb\u4f5c\u8005\u83b7\u5f97\u6388\u6743\uff0c\u975e\u5546\u4e1a\u8f6c\u8f7d\u8bf7\u6ce8\u660e\u51fa\u5904\u3002 \u8fd9\u662f\u82f9\u679c\u5f00\u53d1\u8005\u6587\u6863\u4e2d\u6458\u8fc7\u6765\u7684\u56fe\u7247\uff0c\u8868\u660e\u4e86\u4e09\u8005\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u7b80\u5355\u63cf\u8ff0\u4e86\u4e09\u8005\u4f5c\u7528Model\uff1a\u6570\u636e\u6a21\u578b\uff0c\u7528\u6765\u5b58\u50a8\u6570\u636eView\uff1a\u89c6\u56fe\u754c\u9762\uff0c\u7528\u6765\u5c55\u793aUI\u754c\u9762\u548c\u54cd\u5e94\u7528\u6237\u4ea4\u4e92Controller\uff1a\u63a7\u5236\u5668(\u5927\u7ba1\u5bb6\u89d2\u8272)\uff0c\u76d1\u542c\u6a21\u578b\u6570\u636e\u7684\u6539\u53d8\u548c\u63a7\u5236\u89c6\u56fe\u884c\u4e3a\u3001\u5904\u7406\u7528\u6237\u4ea4\u4e92\u4ed6\u4eec\u5de5\u4f5c\u548c\u5173\u7cfb\u770b\u8d77\u6765\u662f\u5982\u6b64\u6e05\u6670\uff0c\u662f\u4e00\u79cd\u975e\u5e38\u597d\u7684\u8bbe\u8ba1\u601d\u60f3\uff0c\u662f\u7684\uff0c\u9996\u5148\u58f0\u660eMVC\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u67b6\u6784\u601d\u60f3\u3002","title":"MVC"},{"location":"constructure/mvp/","text":"mvp","title":"Mvp"},{"location":"constructure/mvp/#mvp","text":"","title":"mvp"},{"location":"constructure/mvvm/","text":"mvvm","title":"Mvvm"},{"location":"constructure/mvvm/#mvvm","text":"","title":"mvvm"},{"location":"customView/customCombinationView/","text":"\u7b2c\u4e00\u6b65\u5b9a\u4e49\u4f60\u8981\u590d\u7528\u7684\u5e03\u5c40 <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\"> <TextView android:id=\"@+id/tv_left_attribute\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:text=\"@string/tv_order_goods_name\" android:textSize=\"@dimen/edge_14\" android:textColor=\"@color/color_3f3f3f\" android:layout_marginTop=\"@dimen/edge_15\" android:layout_centerVertical=\"true\"/> <TextView android:id=\"@+id/tv_right_attribute\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:textColor=\"@color/color_808080\" android:textSize=\"@dimen/edge_14\" android:layout_alignParentRight=\"true\" android:layout_centerVertical=\"true\"/> </RelativeLayout> \u7b2c\u4e8c\u6b65\u5b9a\u4e49\u81ea\u5b9a\u4e49\u5c5e\u6027(value\u4e0b\u65b0\u5efaattrs) <resources> <declare-styleable name=\"SimpleAttribute\"> <attr name=\"left_text_color\" format=\"color\"/> <attr name=\"left_text_size\" format=\"dimension\"/> <attr name=\"left_text\" format=\"string\"/> <attr name=\"right_text_color\" format=\"color\"/> <attr name=\"right_text_size\" format=\"dimension\"/> <attr name=\"right_text\" format=\"string\"/> </declare-styleable> </resources> \u7b2c\u4e09\u6b65\u81ea\u5b9a\u4e49\u4e00\u4e2aView\u6839\u636e\u9700\u6c42\u7ee7\u627f\u4e0d\u540c\u7684viewGroup,\u5982\uff1aRelativeLayout\u3001LinearLayout\u7b49,\u590d\u5199\u4e24\u4e2a\u6784\u9020\u65b9\u6cd5 public class SimpleAttribute extends RelativeLayout { \u521d\u59cb\u5316\u63a7\u4ef6 private void initView(Context context) { View.inflate(context, R.layout.attribute_layout, this); mLeftTv = this.findViewById(R.id.tv_left_attribute); mRightTv = this.findViewById(R.id.tv_right_attribute); } \u91cd\u5199\u6784\u9020\u65b9\u6cd5\uff0c\u5728\u6784\u9020\u65b9\u6cd5\u4e2d\u521d\u59cb\u5316\u63a7\u4ef6\uff0c\u5e76\u5f15\u7528\u81ea\u5b9a\u4e49\u5c5e\u6027\u3002 private void useCustomAttribute(Context context, AttributeSet attrs) { TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.SimpleAttribute); int leftTextColor = typedArray.getColor(R.styleable.SimpleAttribute_left_text_color, getResources().getColor(R.color.black)); setLeftTextColor(leftTextColor); float leftTextSize = typedArray.getDimension(R.styleable.SimpleAttribute_left_text_size, getResources().getDimension(R.dimen.edge_14)); setLeftTextSize(leftTextSize); String leftText = typedArray.getString(R.styleable.SimpleAttribute_left_text); setLeftText(leftText); int rightTextColor = typedArray.getColor(R.styleable.SimpleAttribute_right_text_color, getResources().getColor(R.color.black)); setRightTextColor(rightTextColor); float rightTextSize = typedArray.getDimension(R.styleable.SimpleAttribute_right_text_size, getResources().getDimension(R.dimen.edge_14)); setRightTextSize(rightTextSize); String rightText = typedArray.getString(R.styleable.SimpleAttribute_right_text); setRightText(rightText); } \u5b8c\u6574\u4ee3\u7801\uff1a /** * author : luis * e-mail : luis.gong@cardinfolink.com * date : 2020/7/17 19:39 * desc : */ public class SimpleAttribute extends RelativeLayout { private TextView mLeftTv; private TextView mRightTv; public SimpleAttribute(Context context) { super(context); initView(context); } public SimpleAttribute(Context context, AttributeSet attrs) { super(context, attrs); useCustomAttribute(context, attrs); } private void initView(Context context) { View.inflate(context, R.layout.attribute_layout, this); mLeftTv = this.findViewById(R.id.tv_left_attribute); mRightTv = this.findViewById(R.id.tv_right_attribute); } private void useCustomAttribute(Context context, AttributeSet attrs) { TypedArray typedArray = context.obtainStyledAttributes(attrs, R.styleable.SimpleAttribute); int leftTextColor = typedArray.getColor(R.styleable.SimpleAttribute_left_text_color, getResources().getColor(R.color.black)); setLeftTextColor(leftTextColor); float leftTextSize = typedArray.getDimension(R.styleable.SimpleAttribute_left_text_size, getResources().getDimension(R.dimen.edge_14)); setLeftTextSize(leftTextSize); String leftText = typedArray.getString(R.styleable.SimpleAttribute_left_text); setLeftText(leftText); int rightTextColor = typedArray.getColor(R.styleable.SimpleAttribute_right_text_color, getResources().getColor(R.color.black)); setRightTextColor(rightTextColor); float rightTextSize = typedArray.getDimension(R.styleable.SimpleAttribute_right_text_size, getResources().getDimension(R.dimen.edge_14)); setRightTextSize(rightTextSize); String rightText = typedArray.getString(R.styleable.SimpleAttribute_right_text); setRightText(rightText); } public void setLeftTextSize(float leftTextSize) { mLeftTv.setTextSize(leftTextSize); } public void setLeftTextColor(int leftTextColor) { mLeftTv.setTextColor(leftTextColor); } public void setLeftText(String leftText){ mLeftTv.setText(leftText); } public void setRightTextSize(float rightTextSize) { mRightTv.setTextSize(rightTextSize); } public void setRightTextColor(int rightTextColor) { mRightTv.setTextColor(rightTextColor); } public void setRightText(String rightText){ mRightTv.setText(rightText); } }","title":"\u81ea\u5b9a\u4e49\u7ec4\u5408\u63a7\u4ef6"},{"location":"customView/customView/","text":"\u81ea\u5b9a\u4e49View","title":"\u81ea\u5b9a\u4e49View"},{"location":"customView/customView/#view","text":"","title":"\u81ea\u5b9a\u4e49View"},{"location":"designpattern/builder/","text":"\u5b9a\u4e49 \u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u548c\u8868\u793a\u5206\u79bb\uff0c\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u6784\u5efa\u4e0d\u540c\u7684\u5bf9\u8c61\u3002 \u7ecf\u5178\u4f8b\u5b50 \u521b\u5efa\u5bf9\u8c61\u4f20\u9012\u53c2\u6570\u7684\u65f6\u5019\u5f80\u5f80\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6765\u4f20\uff0c\uff0c\u968f\u7740\u6784\u9020\u51fd\u6570\u7684\u589e\u52a0\uff0c\u4ee3\u7801\u4f1a\u5f88\u96be\u7f16\u5199\u3002 \u4f8b\uff1a\u751f\u4ea7\u7ec4\u88c5\u4e00\u8f86\u3001\u53f0\u7535\u8111 public class computer{ private final String display\uff1b private final String keyBoard\uff1b private final String mouse\uff1b public static class Builder{ //\u5fc5\u9009\u5b57\u6bb5 private final String display\uff1b private final String keyBoard\uff1b //\u53ef\u9009\u5b57\u6bb5 private final String mouse\uff1b public Builder(String display, String keyBoard){ this.display = display; this.keyBoard = keyBoard; } public Builder mouse(String mouse){ this.mouse = mouse; return this; } public Computer build(){ return new Computer(this); } } private Computer (Builder builder){ display = builder.display; keyBoard = builder.keyBoard; mouse = builder.mouse; } } \u6d4b\u8bd5\u4ee3\u7801 Computer computer = new Computer.Builder(\"\u4e09\u661f\",\"\u534e\u4e3a\") .mouse(\"\u82f9\u679c\") .build(); Android \u91c7\u7528Builder\u6a21\u5f0f\u7684AlertDialog AlertDialog.Builder dialog = new AlertDialog.Nuilder(this); dialog.setTitle(\"\u5173\u4e8e\u6211\u4eec\") .setMessage(\"\u5927\u5bb6\u597d!\") .creat() .show(); \u4f18\u7f3a\u70b9 \u94fe\u5f0f\u8c03\u7528\u6291\u90c1\u9605\u8bfb\u548c\u7f16\u5199\uff0c\u51fa\u9519\u96be\u4ee5debug","title":"Builder"},{"location":"designpattern/builder/#_1","text":"\u5c06\u4e00\u4e2a\u590d\u6742\u5bf9\u8c61\u7684\u6784\u5efa\u548c\u8868\u793a\u5206\u79bb\uff0c\u4f7f\u5f97\u540c\u6837\u7684\u6784\u5efa\u8fc7\u7a0b\u53ef\u4ee5\u6784\u5efa\u4e0d\u540c\u7684\u5bf9\u8c61\u3002","title":"\u5b9a\u4e49"},{"location":"designpattern/builder/#_2","text":"\u521b\u5efa\u5bf9\u8c61\u4f20\u9012\u53c2\u6570\u7684\u65f6\u5019\u5f80\u5f80\u901a\u8fc7\u6784\u9020\u51fd\u6570\u6765\u4f20\uff0c\uff0c\u968f\u7740\u6784\u9020\u51fd\u6570\u7684\u589e\u52a0\uff0c\u4ee3\u7801\u4f1a\u5f88\u96be\u7f16\u5199\u3002 \u4f8b\uff1a\u751f\u4ea7\u7ec4\u88c5\u4e00\u8f86\u3001\u53f0\u7535\u8111 public class computer{ private final String display\uff1b private final String keyBoard\uff1b private final String mouse\uff1b public static class Builder{ //\u5fc5\u9009\u5b57\u6bb5 private final String display\uff1b private final String keyBoard\uff1b //\u53ef\u9009\u5b57\u6bb5 private final String mouse\uff1b public Builder(String display, String keyBoard){ this.display = display; this.keyBoard = keyBoard; } public Builder mouse(String mouse){ this.mouse = mouse; return this; } public Computer build(){ return new Computer(this); } } private Computer (Builder builder){ display = builder.display; keyBoard = builder.keyBoard; mouse = builder.mouse; } } \u6d4b\u8bd5\u4ee3\u7801 Computer computer = new Computer.Builder(\"\u4e09\u661f\",\"\u534e\u4e3a\") .mouse(\"\u82f9\u679c\") .build(); Android \u91c7\u7528Builder\u6a21\u5f0f\u7684AlertDialog AlertDialog.Builder dialog = new AlertDialog.Nuilder(this); dialog.setTitle(\"\u5173\u4e8e\u6211\u4eec\") .setMessage(\"\u5927\u5bb6\u597d!\") .creat() .show();","title":"\u7ecf\u5178\u4f8b\u5b50"},{"location":"designpattern/builder/#_3","text":"\u94fe\u5f0f\u8c03\u7528\u6291\u90c1\u9605\u8bfb\u548c\u7f16\u5199\uff0c\u51fa\u9519\u96be\u4ee5debug","title":"\u4f18\u7f3a\u70b9"},{"location":"designpattern/factory/","text":"\u5b9a\u4e49 \u666e\u901a\u5de5\u5382\u6a21\u5f0f\uff1a\u751f\u4ea7\u5177\u4f53\u7684\u4ea7\u54c1\uff0c\u521b\u5efa\u7684\u4ea7\u54c1\u662f\u7c7b(class) \u62bd\u8c61\u5de5\u5382\uff1a\u751f\u4ea7\u62bd\u8c61\u4ea7\u54c1\uff0c\u521b\u5efa\u7684\u4ea7\u54c1\u662f\u63a5\u53e3(interface) \u7ecf\u5178\u4f8b\u5b50 \u4f18\u7f3a\u70b9 \u964d\u4f4e\u8026\u5408\uff0c\u5f88\u597d\u7684\u6269\u5c55\u6027 \u7f3a\u70b9\u662f\u4e0d\u592a\u5bb9\u6613\u6269\u5c55\u65b0\u7684\u4ea7\u54c1\u7c7b\uff0c\u9700\u8981\u5177\u4f53\u7684\u6539\u4ea7\u54c1\u7c7b\u548c\u5de5\u5382\u7c7b\u3002","title":"\u5de5\u5382"},{"location":"designpattern/factory/#_1","text":"\u666e\u901a\u5de5\u5382\u6a21\u5f0f\uff1a\u751f\u4ea7\u5177\u4f53\u7684\u4ea7\u54c1\uff0c\u521b\u5efa\u7684\u4ea7\u54c1\u662f\u7c7b(class) \u62bd\u8c61\u5de5\u5382\uff1a\u751f\u4ea7\u62bd\u8c61\u4ea7\u54c1\uff0c\u521b\u5efa\u7684\u4ea7\u54c1\u662f\u63a5\u53e3(interface)","title":"\u5b9a\u4e49"},{"location":"designpattern/factory/#_2","text":"","title":"\u7ecf\u5178\u4f8b\u5b50"},{"location":"designpattern/factory/#_3","text":"\u964d\u4f4e\u8026\u5408\uff0c\u5f88\u597d\u7684\u6269\u5c55\u6027 \u7f3a\u70b9\u662f\u4e0d\u592a\u5bb9\u6613\u6269\u5c55\u65b0\u7684\u4ea7\u54c1\u7c7b\uff0c\u9700\u8981\u5177\u4f53\u7684\u6539\u4ea7\u54c1\u7c7b\u548c\u5de5\u5382\u7c7b\u3002","title":"\u4f18\u7f3a\u70b9"},{"location":"designpattern/observer/","text":"\u5b9a\u4e49 \u57fa\u4e8e\u4e8b\u4ef6\u548c\u54cd\u5e94\u7684\u8bbe\u8ba1\u6a21\u5f0f \u7b80\u5355\u6765\u8bf4\u591a\u4e2a\u89c2\u5bdf\u8005\u540c\u65f6\u89c2\u5bdf\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5f53\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u89c2\u5bdf\u8005\u80fd\u591f\u56de\u8c03\u81ea\u8eab\u7684\u65b9\u6cd5\u66f4\u65b0\u81ea\u5df1\u3002 1. \u5b9a\u4e49\u4e00\u4e2a\u89c2\u5bdf\u8005\u63a5\u53e3 2. \u89c2\u5bdf\u8005\u5b9e\u73b0\u89c2\u5bdf\u8005\u63a5\u53e3 3. \u5b9a\u4e49\u88ab\u89c2\u5bdf\u8005\u63a5\u53e3\u6216\u8005\u62bd\u8c61\u7c7b\uff0c\u91cc\u9762\u6709addObserver(Observer observer),removeObserver(Observer observer),notifyObserver(),\u8c03\u7528notifyObserver(),\u904d\u5386list<Observer>, \u56de\u8c03onserver\u91cc\u9762\u7684\u65b9\u6cd5\u3002 \u7ecf\u5178\u7684\u4f8b\u5b50 \u6e38\u620f\u4e2d\u82f1\u96c4\uff0c\u5728\u5730\u56fe\u4e2d\u4e2d\u8d70\uff0c\u6361\u5b9d\u76d2\u589e\u52a0\u6280\u80fd\u6216\u8005\u8e29\u5230\u9677\u9631\u51cf\u751f\u547d\u529b\u7684\u3002 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5b9d\u77f3\uff0c\u5b9d\u5251\u548c\u9677\u9631\u5c5e\u4e8e\u89c2\u5bdf\u8005ConcreteObserver,\u82f1\u96c4\u5c5e\u4e8e\u88ab\u89c2\u5bdf\u8005\uff0c \u5982\u4f55\u5efa\u7acb\u5173\u7cfb\u5462\uff1f \u9996\u5148\u6709\u5f88\u591a\u7684\u82f1\u96c4\u548c\u5f88\u591a\u7684\u9053\u5177\uff0c\u62bd\u53d6\u5171\u540c\u7684\u884c\u4e3a Public interface Observer{ void update(); } \u5b9d\u77f3 public Stone implement Observer{ public void update(){ if(inrange()){ System.out.print(\"\u83b7\u53d6\u5230\u5b9d\u77f3\"); } } public Boolean inrange(){ //\u5224\u65ad\u662f\u5426\u5728\u8ddd\u79bb\u5185 return true; } } \u9677\u9631 public Trap implement Observer{ public void update(){ if(){ System.out.print(\"\u8e29\u5230\u9677\u9631\"); } } } \u5b9a\u4e49\u62bd\u8c61\u7c7b public abstract Subject{ private List<Observer> observerList = new ArrayList<Observer>(); public void addObserver(Observer observer){ observerList.add(observer); } public void deleteObserver(Observer observer){ observerList.remove(observer); } public void notifyObserver(){ for(Observer observer: observerList){ observer.update(); } } } \u5b9a\u4e49\u82f1\u96c4 public class Hero extend Subject{ public void run(){ notifyObserver(); } } \u5177\u4f53\u8c03\u7528 ``` public class client{ public static void main(String[] args){ //\u521d\u59cb\u5316\u5bf9\u8c61 Hero hero = new Hero(); Stone stone = new Stone(); Trap trap = new Trap(); hero.addObserver(stone); hero.addObserver(trap); hero.run(); } } \u4ee3\u7801\u8f93\u51fa\u5982\u4e0b\uff1a \u83b7\u53d6\u5230\u5b9d\u77f3 \u8e29\u5230\u9677\u9631 ``` \u4f18\u7f3a\u70b9 \u89e3\u8026\u89c2\u5bdf\u8005\u88ab\u89c2\u5bdf\u8005","title":"\u89c2\u5bdf\u8005"},{"location":"designpattern/observer/#_1","text":"\u57fa\u4e8e\u4e8b\u4ef6\u548c\u54cd\u5e94\u7684\u8bbe\u8ba1\u6a21\u5f0f \u7b80\u5355\u6765\u8bf4\u591a\u4e2a\u89c2\u5bdf\u8005\u540c\u65f6\u89c2\u5bdf\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5f53\u5bf9\u8c61\u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019\u89c2\u5bdf\u8005\u80fd\u591f\u56de\u8c03\u81ea\u8eab\u7684\u65b9\u6cd5\u66f4\u65b0\u81ea\u5df1\u3002 1. \u5b9a\u4e49\u4e00\u4e2a\u89c2\u5bdf\u8005\u63a5\u53e3 2. \u89c2\u5bdf\u8005\u5b9e\u73b0\u89c2\u5bdf\u8005\u63a5\u53e3 3. \u5b9a\u4e49\u88ab\u89c2\u5bdf\u8005\u63a5\u53e3\u6216\u8005\u62bd\u8c61\u7c7b\uff0c\u91cc\u9762\u6709addObserver(Observer observer),removeObserver(Observer observer),notifyObserver(),\u8c03\u7528notifyObserver(),\u904d\u5386list<Observer>, \u56de\u8c03onserver\u91cc\u9762\u7684\u65b9\u6cd5\u3002","title":"\u5b9a\u4e49"},{"location":"designpattern/observer/#_2","text":"\u6e38\u620f\u4e2d\u82f1\u96c4\uff0c\u5728\u5730\u56fe\u4e2d\u4e2d\u8d70\uff0c\u6361\u5b9d\u76d2\u589e\u52a0\u6280\u80fd\u6216\u8005\u8e29\u5230\u9677\u9631\u51cf\u751f\u547d\u529b\u7684\u3002 \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u5b9d\u77f3\uff0c\u5b9d\u5251\u548c\u9677\u9631\u5c5e\u4e8e\u89c2\u5bdf\u8005ConcreteObserver,\u82f1\u96c4\u5c5e\u4e8e\u88ab\u89c2\u5bdf\u8005\uff0c \u5982\u4f55\u5efa\u7acb\u5173\u7cfb\u5462\uff1f \u9996\u5148\u6709\u5f88\u591a\u7684\u82f1\u96c4\u548c\u5f88\u591a\u7684\u9053\u5177\uff0c\u62bd\u53d6\u5171\u540c\u7684\u884c\u4e3a Public interface Observer{ void update(); } \u5b9d\u77f3 public Stone implement Observer{ public void update(){ if(inrange()){ System.out.print(\"\u83b7\u53d6\u5230\u5b9d\u77f3\"); } } public Boolean inrange(){ //\u5224\u65ad\u662f\u5426\u5728\u8ddd\u79bb\u5185 return true; } } \u9677\u9631 public Trap implement Observer{ public void update(){ if(){ System.out.print(\"\u8e29\u5230\u9677\u9631\"); } } } \u5b9a\u4e49\u62bd\u8c61\u7c7b public abstract Subject{ private List<Observer> observerList = new ArrayList<Observer>(); public void addObserver(Observer observer){ observerList.add(observer); } public void deleteObserver(Observer observer){ observerList.remove(observer); } public void notifyObserver(){ for(Observer observer: observerList){ observer.update(); } } } \u5b9a\u4e49\u82f1\u96c4 public class Hero extend Subject{ public void run(){ notifyObserver(); } } \u5177\u4f53\u8c03\u7528 ``` public class client{ public static void main(String[] args){ //\u521d\u59cb\u5316\u5bf9\u8c61 Hero hero = new Hero(); Stone stone = new Stone(); Trap trap = new Trap(); hero.addObserver(stone); hero.addObserver(trap); hero.run(); } } \u4ee3\u7801\u8f93\u51fa\u5982\u4e0b\uff1a \u83b7\u53d6\u5230\u5b9d\u77f3 \u8e29\u5230\u9677\u9631 ```","title":"\u7ecf\u5178\u7684\u4f8b\u5b50"},{"location":"designpattern/observer/#_3","text":"\u89e3\u8026\u89c2\u5bdf\u8005\u88ab\u89c2\u5bdf\u8005","title":"\u4f18\u7f3a\u70b9"},{"location":"designpattern/singleInstance/","text":"\u7b80\u5355\u6765\u8bf4\u5c31\u662f\u4e00\u4e2a\u7c7b\u53ea\u80fd\u6784\u5efa\u4e00\u4e2a\u5bf9\u8c61\u7684\u8bbe\u8ba1\u6a21\u5f0f \u7b2c\u4e00\u79cd\u4e0d\u52a0\u9501\u7684\u5355\u4f8b \u7ebf\u7a0b\u4e0d\u5b89\u5168 public class Singleton { private Singleton() {} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private static Singleton instance = null; //\u9759\u6001\u5de5\u5382\u65b9\u6cd5 public static Singleton getInstance() { if (instance == null) { instance = new Singleton(); } return instance; } } \u997f\u6c49\u5f0f \u5728\u7c7b\u88ab\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u5728\u5185\u5b58\u4e2d\u521b\u5efa\u4e86\u5bf9\u8c61\uff0c\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\uff0c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002 public class SingleTon{ private static SingleTon INSTANCE = new SingleTon(); private SingleTon(){} public static SingleTon getInstance(){ return INSTANCE; } } \u61d2\u6c49\u5f0f \u5728\u65b9\u6cd5\u88ab\u8c03\u8d77\u540e\u624d\u521b\u5efa\u5bf9\u8c61\uff0c\u4ee5\u65f6\u95f4\u6362\u7a7a\u95f4\uff0c\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\u5b58\u5728\u98ce\u9669\u3002 public class SingleTon{ private static SingleTon INSTANCE = null; private SingleTon(){} public static SingleTon getInstance() { if(INSTANCE == null){ INSTANCE = new SingleTon(); } return INSTANCE\uff1b } } \u7b80\u5355\u52a0\u4e0asynchronized\u9501 \u53cc\u91cd\u68c0\u6d4b(double check lock)\u662f\u4e3a\u4e86b\u7ebf\u7a0b\u5728a\u7ebf\u7a0b\u521a\u7ed3\u675f\u7684\u4e34\u754c\u70b9\u6267\u884c\u9501\u5185\u4efb\u52a1\uff0c\u5b58\u5728DCL\u5931\u6548\u95ee\u9898 public class Singleton { private Singleton() {} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private static Singleton instance = null; //\u5355\u4f8b\u5bf9\u8c61 //\u9759\u6001\u5de5\u5382\u65b9\u6cd5 public static Singleton getInstance() { if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 synchronized (Singleton.class){ //\u540c\u6b65\u9501 if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 instance = new Singleton(); } } } return instance; } } \u4ee5\u4e0a\u5b9e\u73b0\u8fd8\u662f\u6709\u95ee\u9898 \uff0c\u5355\u4f8b\u7b2c\u4e09\u79cd\u5199\u6cd5 JVM\u7f16\u8bd1\u5668\u6709\u4e2a\u6307\u4ee4\u91cd\u6392\u7684\u6982\u5ff5 * \u4ec0\u4e48\u662f\u6307\u4ee4\u91cd\u6392 java\u4e00\u4e2a\u7b80\u5355\u7684instance = new instance()\u4f1a\u88abjvm\u7f16\u8bd1\u6210\u5982\u4e0bjvm\u6307\u4ee4 1. memory = allocate;\u5206\u914d\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740 2. creatinstance(memory);\u521d\u59cb\u5316\u5bf9\u8c61 3. instance = memory\u8bbe\u7f6einstance\u6307\u5411\u521a\u5206\u914d\u7684\u5185\u5b58\u5730\u5740 \u4f46\u662f\u8fd9\u4e9b\u6307\u4ee4\u987a\u5e8f\u5e76\u975e\u662f\u4e00\u91cd\u4e0d\u53d8\uff0c\u53ef\u80fd\u4f1a\u7ecf\u8fc7jvm\u548ccpu\u7684\u4f18\u5316\uff0c\u8fdb\u884c\u91cd\u6392\u5e8f 1.\u5206\u914d\u5bf9\u8c61\u5185\u5b58\u5730\u5740 3.\u8bbe\u7f6einstance\u6307\u5411\u521a\u5206\u914d\u7684\u5185\u5b58\u5730\u5740 2.\u521d\u59cb\u5316\u5bf9\u8c61 \u5f53\u7ebf\u7a0bA\u6267\u884c\u5b8c13\u7684\u65f6\u5019\uff0c\u7ebf\u7a0bB\u62a2\u5230\u8d44\u6e90\uff0c\u8fd4\u56de\u4e86\u4e00\u4e2a\u8fd8\u6ca1\u6709\u521d\u59cb\u5316\u5b8c\u6210\u7684\u5bf9\u8c61 * \u5982\u4f55\u907f\u514d\u4ee5\u4e0a\u95ee\u9898\uff1f \u5728instance\u5bf9\u8c61\u524d\u9762\u589e\u52a0\u4e00\u4e2avolatile\u4fee\u9970\u7b26 public class Singleton { private Singleton() {} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private volatile static Singleton instance = null; //\u5355\u4f8b\u5bf9\u8c61 //\u9759\u6001\u5de5\u5382\u65b9\u6cd5 public static Singleton getInstance() { if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 synchronized (Singleton.class){ //\u540c\u6b65\u9501 if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 instance = new Singleton(); } } } return instance; } } volatile\u963b\u6b62\u4e86\u53d8\u91cf\u8bbf\u95ee\u8bbf\u95ee\u524d\u540e\u6307\u4ee4\u91cd\u6392\u5e8f\uff0c\u5bf9\u4e8e\u7ebf\u7a0bB\u6765\u8bf4\uff0cinstance\u8981\u4e48\u6307\u5411null\uff0c\u8981\u4e48\u6307\u5411\u4e00\u4e2a\u5b8c\u6574\u7684instance,\u800c\u4e0d\u4f1a\u51fa\u73b0\u4e2d\u95f4\u72b6\u6001 \u4e0d\u4ec5\u53ef\u4ee5\u9632\u6b62\u6307\u4ee4\u91cd\u6392\uff0c\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u7ebf\u7a0b\u8bbf\u95ee\u7684\u53d8\u91cf\u503c\u662f\u4e3b\u5185\u5b58\u79cd\u6700\u65b0\u503c\uff0cjdk1.6\u53ca\u4ee5\u540e\u624d\u652f\u6301\uff0c\u6bcf\u6b21\u5747\u4ece\u4e3b\u5185\u5b58\u4e2d\u8bfb\u53d6\uff0c\u727a\u7272\u70b9\u6548\u7387\uff0c\u65e0\u4f24\u5927\u96c5\u3002 \u9759\u6001\u5185\u90e8\u7c7b \u9759\u6001\u5185\u90e8\u7c7b\u53ea\u4f1a\u88ab\u52a0\u8f7d\u4e00\u6b21\uff0c\u9996\u6b21\u8c03\u7528\uff0c\u987e\u7ebf\u7a0b\u5b89\u5168\uff0c\u7c7b\u52a0\u8f7d\u521d\u59cb\u5316\u9636\u6bb5\u662f\u5355\u7ebf\u7a0b\u7684\u540c\u65f6\u5ef6\u8fdf\u4e86\u521d\u59cb\u5316\u3002 \u7c7b\u52a0\u8f7d\u65f6\u673a 1. new,involk static,putstatic,getstatic,\u6307\u4ee4\u65f6\u82e5\u7c7b\u672a\u52a0\u8f7d\u5219\u89e6\u53d1 2. \u53cd\u5c04\u4f7f\u7528\u67d0\u4e2a\u7c7b\u65f6\uff0c\u82e5\u7c7b\u672a\u52a0\u8f7d\u5219\u89e6\u53d1 3. \u5b50\u7c7b\u52a0\u8f7d\u65f6\u82e5\u7236\u7c7b\u672a\u52a0\u8f7d\u5219\u89e6\u53d1 4. \u7a0b\u5e8f\u5f00\u59cb\u65f6\u4e3b\u65b9\u6cd5\u6240\u5728\u7c7b\u4f1a\u88ab\u52a0\u8f7d \u9759\u6001\u5185\u90e8\u7c7b\u7684\u61d2\u52a0\u8f7d\u5e94\u8be5\u5c5e\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u4e3a\u4ec0\u4e48\u5916\u90e8\u7c7b\u52a0\u8f7d\u65f6\uff0c\u5185\u90e8\u7c7b\u672a\u52a0\u8f7d\uff0c\u9759\u6001\u5185\u90e8\u7c7b\u53ea\u662f\u521a\u597d\u5199\u5728\u4e86\u53e6\u4e00\u4e2a\u7c7b\u91cc\u9762\uff0c\u5b9e\u9645\u4e0a\u548c\u5916\u90e8\u7c7b\u6ca1\u4ec0\u4e48\u9644\u5c5e\u5173\u7cfb\u3002 public class Singleton{ private SingleTon (){} private static class Holder{ //\u8fd9\u91cc\u7684\u79c1\u6709\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49 private static SingleTon instance = new Singleton(); } public static Singleton getInstance(){ return Holder.instance } } \u5982\u4f55\u901a\u8fc7\u53cd\u5c04\u6253\u7834\u5355\u4f8b\u6a21\u5f0f\uff0c\u53ea\u80fd\u6784\u5efa\u4e00\u4e2a\u5bf9\u8c61 //\u83b7\u5f97\u6784\u9020\u5668 Constructor con = Singleton.class.getDeclaredConstructor(); //\u8bbe\u7f6e\u4e3a\u53ef\u8bbf\u95ee con.setAccessible(true); //\u6784\u9020\u4e24\u4e2a\u4e0d\u540c\u7684\u5bf9\u8c61 Singleton singleton1 = (Singleton)con.newInstance(); Singleton singleton2 = (Singleton)con.newInstance(); //\u9a8c\u8bc1\u662f\u5426\u662f\u4e0d\u540c\u5bf9\u8c61 System.out.println(singleton1.equals(singleton2)); \u5982\u4f55\u9632\u6b62\u53cd\u5c04\uff1f \u4f7f\u7528\u679a\u4e3e\u5b9e\u73b0\u5355\u4f8b public enum SingletonEnum { INSTANCE; } \u4f7f\u7528\u679a\u4e3e\u5355\u4f8b\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u9632\u6b62\u53cd\u5e8f\u5217\u5316\uff0c\u800c\u4e14\u53ef\u4ee5\u4fdd\u8bc1\u679a\u4e3e\u5bf9\u8c61\u88ab\u53cd\u5e8f\u5217\u5316\u7684\u65f6\u5019\uff0c\u8fd4\u56de\u7684\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61 public enum SingletonEnum { INSTANCE; public void doSomething(){ System.out.printLn(\"do something\"); } } public enum SingletonEnum{ PERSON; private Person person = null; private SingletonEnum(){ person = new Person(); } public Person getPerson(){ return person; } } public class Person{ } \u9632\u6b62\u5185\u5b58\u6cc4\u6f0f\u5355\u4f8b public class A8PinPadManage { private A8PinPadManage(){} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private volatile static Pinpad instance; //\u5355\u4f8b\u5bf9\u8c61 public static Pinpad getInstance(Context context) { WeakReference<Context> contextWeakReference = new WeakReference<>(context); Context weakReferenceContext = contextWeakReference.get(); if (instance == null) { synchronized (A8PinPadManage.class) { if (instance == null) { instance = new Pinpad((int) SharedPrefsUtil.get(weakReferenceContext, CIL_KAP_ID, 2), \"IPP\"); } } } return instance; } } \u89e3\u8bfb \u79c1\u6709\u6784\u9020\u51fd\u6570\uff0c\u5168\u5c40\u53ea\u80fd\u6784\u5efa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u80fd\u8ba9\u968f\u4fbf\u7684\u5c31\u53bbnew,\u6240\u4ee5\u8981\u79c1\u6709 \u61d2\u6c49\uff0c\u5355\u4f8b\u521a\u5f00\u59cb\u6ca1\u6709\u6784\u5efa\uff0c\u8c03\u7528\u624d\u6784\u5efa \u997f\u6c49\uff0c\u8c03\u7528new singleton\u4e3b\u52a8\u6784\u5efa\uff0c\u4e0d\u9700\u8981\u5224\u7a7a instance\u7684\u521d\u59cb\u503c\u53ef\u4ee5\u5199\u6210null\u6216\u8005new Singleton() \u4e0d\u52a0\u9501\uff0c\u7ebf\u7a0b\u4e0d\u5b89\u5168 \u4e0d\u52a0\u53cc\u91cd\u9a8c\u8bc1\u76f4\u63a5\u9501getinstance\u65b9\u6cd5\uff0c\u53ef\u4ee5\uff0c\u589e\u52a0\u5185\u5b58\u5f00\u9500\uff0c\u53ea\u7528synchronize\u91cc\u9762\u7684\u5224\u7a7a\uff0c\u589e\u52a0\u5f00\u9500 \u53c2\u8003 \u5c0f\u7070\u6f2b\u753b https://www.zhihu.com/search?type=content&q=%E5%8D%95%E4%BE%8B","title":"\u5355\u4f8b"},{"location":"designpattern/singleInstance/#_1","text":"\u7ebf\u7a0b\u4e0d\u5b89\u5168 public class Singleton { private Singleton() {} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private static Singleton instance = null; //\u9759\u6001\u5de5\u5382\u65b9\u6cd5 public static Singleton getInstance() { if (instance == null) { instance = new Singleton(); } return instance; } } \u997f\u6c49\u5f0f \u5728\u7c7b\u88ab\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c31\u5df2\u7ecf\u5728\u5185\u5b58\u4e2d\u521b\u5efa\u4e86\u5bf9\u8c61\uff0c\u4ee5\u7a7a\u95f4\u6362\u65f6\u95f4\uff0c\u4e0d\u5b58\u5728\u7ebf\u7a0b\u5b89\u5168\u95ee\u9898\u3002 public class SingleTon{ private static SingleTon INSTANCE = new SingleTon(); private SingleTon(){} public static SingleTon getInstance(){ return INSTANCE; } } \u61d2\u6c49\u5f0f \u5728\u65b9\u6cd5\u88ab\u8c03\u8d77\u540e\u624d\u521b\u5efa\u5bf9\u8c61\uff0c\u4ee5\u65f6\u95f4\u6362\u7a7a\u95f4\uff0c\u5728\u591a\u7ebf\u7a0b\u73af\u5883\u4e0b\u5b58\u5728\u98ce\u9669\u3002 public class SingleTon{ private static SingleTon INSTANCE = null; private SingleTon(){} public static SingleTon getInstance() { if(INSTANCE == null){ INSTANCE = new SingleTon(); } return INSTANCE\uff1b } }","title":"\u7b2c\u4e00\u79cd\u4e0d\u52a0\u9501\u7684\u5355\u4f8b"},{"location":"designpattern/singleInstance/#synchronized","text":"\u53cc\u91cd\u68c0\u6d4b(double check lock)\u662f\u4e3a\u4e86b\u7ebf\u7a0b\u5728a\u7ebf\u7a0b\u521a\u7ed3\u675f\u7684\u4e34\u754c\u70b9\u6267\u884c\u9501\u5185\u4efb\u52a1\uff0c\u5b58\u5728DCL\u5931\u6548\u95ee\u9898 public class Singleton { private Singleton() {} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private static Singleton instance = null; //\u5355\u4f8b\u5bf9\u8c61 //\u9759\u6001\u5de5\u5382\u65b9\u6cd5 public static Singleton getInstance() { if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 synchronized (Singleton.class){ //\u540c\u6b65\u9501 if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 instance = new Singleton(); } } } return instance; } }","title":"\u7b80\u5355\u52a0\u4e0asynchronized\u9501"},{"location":"designpattern/singleInstance/#_2","text":"JVM\u7f16\u8bd1\u5668\u6709\u4e2a\u6307\u4ee4\u91cd\u6392\u7684\u6982\u5ff5 * \u4ec0\u4e48\u662f\u6307\u4ee4\u91cd\u6392 java\u4e00\u4e2a\u7b80\u5355\u7684instance = new instance()\u4f1a\u88abjvm\u7f16\u8bd1\u6210\u5982\u4e0bjvm\u6307\u4ee4 1. memory = allocate;\u5206\u914d\u5bf9\u8c61\u7684\u5185\u5b58\u5730\u5740 2. creatinstance(memory);\u521d\u59cb\u5316\u5bf9\u8c61 3. instance = memory\u8bbe\u7f6einstance\u6307\u5411\u521a\u5206\u914d\u7684\u5185\u5b58\u5730\u5740 \u4f46\u662f\u8fd9\u4e9b\u6307\u4ee4\u987a\u5e8f\u5e76\u975e\u662f\u4e00\u91cd\u4e0d\u53d8\uff0c\u53ef\u80fd\u4f1a\u7ecf\u8fc7jvm\u548ccpu\u7684\u4f18\u5316\uff0c\u8fdb\u884c\u91cd\u6392\u5e8f 1.\u5206\u914d\u5bf9\u8c61\u5185\u5b58\u5730\u5740 3.\u8bbe\u7f6einstance\u6307\u5411\u521a\u5206\u914d\u7684\u5185\u5b58\u5730\u5740 2.\u521d\u59cb\u5316\u5bf9\u8c61 \u5f53\u7ebf\u7a0bA\u6267\u884c\u5b8c13\u7684\u65f6\u5019\uff0c\u7ebf\u7a0bB\u62a2\u5230\u8d44\u6e90\uff0c\u8fd4\u56de\u4e86\u4e00\u4e2a\u8fd8\u6ca1\u6709\u521d\u59cb\u5316\u5b8c\u6210\u7684\u5bf9\u8c61 * \u5982\u4f55\u907f\u514d\u4ee5\u4e0a\u95ee\u9898\uff1f \u5728instance\u5bf9\u8c61\u524d\u9762\u589e\u52a0\u4e00\u4e2avolatile\u4fee\u9970\u7b26 public class Singleton { private Singleton() {} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private volatile static Singleton instance = null; //\u5355\u4f8b\u5bf9\u8c61 //\u9759\u6001\u5de5\u5382\u65b9\u6cd5 public static Singleton getInstance() { if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 synchronized (Singleton.class){ //\u540c\u6b65\u9501 if (instance == null) { //\u53cc\u91cd\u68c0\u6d4b\u673a\u5236 instance = new Singleton(); } } } return instance; } } volatile\u963b\u6b62\u4e86\u53d8\u91cf\u8bbf\u95ee\u8bbf\u95ee\u524d\u540e\u6307\u4ee4\u91cd\u6392\u5e8f\uff0c\u5bf9\u4e8e\u7ebf\u7a0bB\u6765\u8bf4\uff0cinstance\u8981\u4e48\u6307\u5411null\uff0c\u8981\u4e48\u6307\u5411\u4e00\u4e2a\u5b8c\u6574\u7684instance,\u800c\u4e0d\u4f1a\u51fa\u73b0\u4e2d\u95f4\u72b6\u6001 \u4e0d\u4ec5\u53ef\u4ee5\u9632\u6b62\u6307\u4ee4\u91cd\u6392\uff0c\u4e5f\u53ef\u4ee5\u4fdd\u8bc1\u7ebf\u7a0b\u8bbf\u95ee\u7684\u53d8\u91cf\u503c\u662f\u4e3b\u5185\u5b58\u79cd\u6700\u65b0\u503c\uff0cjdk1.6\u53ca\u4ee5\u540e\u624d\u652f\u6301\uff0c\u6bcf\u6b21\u5747\u4ece\u4e3b\u5185\u5b58\u4e2d\u8bfb\u53d6\uff0c\u727a\u7272\u70b9\u6548\u7387\uff0c\u65e0\u4f24\u5927\u96c5\u3002","title":"\u4ee5\u4e0a\u5b9e\u73b0\u8fd8\u662f\u6709\u95ee\u9898 \uff0c\u5355\u4f8b\u7b2c\u4e09\u79cd\u5199\u6cd5"},{"location":"designpattern/singleInstance/#_3","text":"\u9759\u6001\u5185\u90e8\u7c7b\u53ea\u4f1a\u88ab\u52a0\u8f7d\u4e00\u6b21\uff0c\u9996\u6b21\u8c03\u7528\uff0c\u987e\u7ebf\u7a0b\u5b89\u5168\uff0c\u7c7b\u52a0\u8f7d\u521d\u59cb\u5316\u9636\u6bb5\u662f\u5355\u7ebf\u7a0b\u7684\u540c\u65f6\u5ef6\u8fdf\u4e86\u521d\u59cb\u5316\u3002 \u7c7b\u52a0\u8f7d\u65f6\u673a 1. new,involk static,putstatic,getstatic,\u6307\u4ee4\u65f6\u82e5\u7c7b\u672a\u52a0\u8f7d\u5219\u89e6\u53d1 2. \u53cd\u5c04\u4f7f\u7528\u67d0\u4e2a\u7c7b\u65f6\uff0c\u82e5\u7c7b\u672a\u52a0\u8f7d\u5219\u89e6\u53d1 3. \u5b50\u7c7b\u52a0\u8f7d\u65f6\u82e5\u7236\u7c7b\u672a\u52a0\u8f7d\u5219\u89e6\u53d1 4. \u7a0b\u5e8f\u5f00\u59cb\u65f6\u4e3b\u65b9\u6cd5\u6240\u5728\u7c7b\u4f1a\u88ab\u52a0\u8f7d \u9759\u6001\u5185\u90e8\u7c7b\u7684\u61d2\u52a0\u8f7d\u5e94\u8be5\u5c5e\u4e8e\u7b2c\u4e00\u79cd\u60c5\u51b5\uff0c\u4e3a\u4ec0\u4e48\u5916\u90e8\u7c7b\u52a0\u8f7d\u65f6\uff0c\u5185\u90e8\u7c7b\u672a\u52a0\u8f7d\uff0c\u9759\u6001\u5185\u90e8\u7c7b\u53ea\u662f\u521a\u597d\u5199\u5728\u4e86\u53e6\u4e00\u4e2a\u7c7b\u91cc\u9762\uff0c\u5b9e\u9645\u4e0a\u548c\u5916\u90e8\u7c7b\u6ca1\u4ec0\u4e48\u9644\u5c5e\u5173\u7cfb\u3002 public class Singleton{ private SingleTon (){} private static class Holder{ //\u8fd9\u91cc\u7684\u79c1\u6709\u6ca1\u6709\u4ec0\u4e48\u610f\u4e49 private static SingleTon instance = new Singleton(); } public static Singleton getInstance(){ return Holder.instance } }","title":"\u9759\u6001\u5185\u90e8\u7c7b"},{"location":"designpattern/singleInstance/#_4","text":"//\u83b7\u5f97\u6784\u9020\u5668 Constructor con = Singleton.class.getDeclaredConstructor(); //\u8bbe\u7f6e\u4e3a\u53ef\u8bbf\u95ee con.setAccessible(true); //\u6784\u9020\u4e24\u4e2a\u4e0d\u540c\u7684\u5bf9\u8c61 Singleton singleton1 = (Singleton)con.newInstance(); Singleton singleton2 = (Singleton)con.newInstance(); //\u9a8c\u8bc1\u662f\u5426\u662f\u4e0d\u540c\u5bf9\u8c61 System.out.println(singleton1.equals(singleton2)); \u5982\u4f55\u9632\u6b62\u53cd\u5c04\uff1f \u4f7f\u7528\u679a\u4e3e\u5b9e\u73b0\u5355\u4f8b public enum SingletonEnum { INSTANCE; } \u4f7f\u7528\u679a\u4e3e\u5355\u4f8b\uff0c\u4e0d\u4ec5\u53ef\u4ee5\u9632\u6b62\u53cd\u5e8f\u5217\u5316\uff0c\u800c\u4e14\u53ef\u4ee5\u4fdd\u8bc1\u679a\u4e3e\u5bf9\u8c61\u88ab\u53cd\u5e8f\u5217\u5316\u7684\u65f6\u5019\uff0c\u8fd4\u56de\u7684\u5bf9\u8c61\u662f\u540c\u4e00\u4e2a\u5bf9\u8c61 public enum SingletonEnum { INSTANCE; public void doSomething(){ System.out.printLn(\"do something\"); } } public enum SingletonEnum{ PERSON; private Person person = null; private SingletonEnum(){ person = new Person(); } public Person getPerson(){ return person; } } public class Person{ }","title":"\u5982\u4f55\u901a\u8fc7\u53cd\u5c04\u6253\u7834\u5355\u4f8b\u6a21\u5f0f\uff0c\u53ea\u80fd\u6784\u5efa\u4e00\u4e2a\u5bf9\u8c61"},{"location":"designpattern/singleInstance/#_5","text":"public class A8PinPadManage { private A8PinPadManage(){} //\u79c1\u6709\u6784\u9020\u51fd\u6570 private volatile static Pinpad instance; //\u5355\u4f8b\u5bf9\u8c61 public static Pinpad getInstance(Context context) { WeakReference<Context> contextWeakReference = new WeakReference<>(context); Context weakReferenceContext = contextWeakReference.get(); if (instance == null) { synchronized (A8PinPadManage.class) { if (instance == null) { instance = new Pinpad((int) SharedPrefsUtil.get(weakReferenceContext, CIL_KAP_ID, 2), \"IPP\"); } } } return instance; } } \u89e3\u8bfb \u79c1\u6709\u6784\u9020\u51fd\u6570\uff0c\u5168\u5c40\u53ea\u80fd\u6784\u5efa\u4e00\u4e2a\u5bf9\u8c61\uff0c\u4e0d\u80fd\u8ba9\u968f\u4fbf\u7684\u5c31\u53bbnew,\u6240\u4ee5\u8981\u79c1\u6709 \u61d2\u6c49\uff0c\u5355\u4f8b\u521a\u5f00\u59cb\u6ca1\u6709\u6784\u5efa\uff0c\u8c03\u7528\u624d\u6784\u5efa \u997f\u6c49\uff0c\u8c03\u7528new singleton\u4e3b\u52a8\u6784\u5efa\uff0c\u4e0d\u9700\u8981\u5224\u7a7a instance\u7684\u521d\u59cb\u503c\u53ef\u4ee5\u5199\u6210null\u6216\u8005new Singleton() \u4e0d\u52a0\u9501\uff0c\u7ebf\u7a0b\u4e0d\u5b89\u5168 \u4e0d\u52a0\u53cc\u91cd\u9a8c\u8bc1\u76f4\u63a5\u9501getinstance\u65b9\u6cd5\uff0c\u53ef\u4ee5\uff0c\u589e\u52a0\u5185\u5b58\u5f00\u9500\uff0c\u53ea\u7528synchronize\u91cc\u9762\u7684\u5224\u7a7a\uff0c\u589e\u52a0\u5f00\u9500","title":"\u9632\u6b62\u5185\u5b58\u6cc4\u6f0f\u5355\u4f8b"},{"location":"designpattern/singleInstance/#_6","text":"https://www.zhihu.com/search?type=content&q=%E5%8D%95%E4%BE%8B","title":"\u53c2\u8003  \u5c0f\u7070\u6f2b\u753b"},{"location":"things/algorithm/","text":"HashMap \u6982\u5ff5 \u7528\u4e8e\u5b58\u50a8Key-Value\u952e\u503c\u5bf9\uff08entry\uff09\u7684\u96c6\u5408,\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u4e5f\u53eb\u505aentry,\u8fd9\u4e9bentry\u5206\u6563\u5b58\u50a8\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u8fd9\u4e2a\u6570\u7ec4\u5c31\u662fHashMap\u7684\u4e3b\u5e72\u3002 \u6bcf\u4e00\u4e2a\u5143\u7d20(entry)\u7684\u521d\u59cb\u503c\u90fd\u662fnull \u6700\u5e38\u7528\u7684get\u548cput\u65b9\u6cd5\u3002 put\u65b9\u6cd5\u539f\u7406 \u8c03\u7528hashMap.put(\"beauty\",0),\u63d2\u5165\u4e00\u4e2akey\u4e3a\"beauty\"\u7684\u5143\u7d20 index = hashcode(\"beauty\")&(hashMap.size-1) \u5047\u5b9a\u6700\u540e\u5f97\u51fa\u7684index\u4e3a2 \u4f46\u662f\u5f53\u63d2\u5165\u7684entry\u8d8a\u6765\u8d8a\u591a\uff0c\u96be\u514d\u4f1a\u51fa\u73b0index\u51b2\u7a81\u7684\u73b0\u8c61 HashMap\u7684\u6570\u7ec4\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u6b62\u662f\u4e00\u4e2aentry\u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u94fe\u8868\u7684\u5934\u8282\u70b9\uff0centry\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7next\u6307\u9488\u6307\u5411\u5b83\u7684\u4e0b\u4e00\u4e2aentry\u8282\u70b9,\u5f53\u65b0\u63d2\u5165\u7684entry\u9047\u5230\u51b2\u7a81\u7684\u6570\u7ec4\u4f4d\u7f6e\u65f6\uff0c\u76f4\u63a5\u63d2\u5165\u5230\u5bf9\u5e94\u7684\u94fe\u8868\u5373\u53ef\uff1a java8\u4e2d\u5f53\u94fe\u8868\u957f\u5ea6\u8d85\u8fc78\uff0c\u4f1a\u76f4\u63a5\u53d8\u6210\u7ea2\u9ed1\u6811 \u91c7\u7528\u7684\u662f\u201c\u5934\u63d2\u6cd5\u201d\uff0cHashMap\u521b\u9020\u8005\u8ba4\u4e3a\uff0c\u540e\u63d2\u5165\u7684\u5143\u7d20\u88ab\u67e5\u627e\u7684\u53ef\u80fd\u6027\u5927\u3002 get\u65b9\u6cd5 \u9996\u5148\u6839\u636e\u8f93\u5165\u7684key\u505a\u4e00\u6b21hash\u6620\u5c04\uff0c\u5f97\u5230index index = hashcode(key)&(hashMap.size()-1) \u540c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u6709\u53ef\u80fd\u5339\u914d\u5230\u591a\u4e2aentry, \u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u987a\u7740\u94fe\u8868\u7684\u5934\u8282\u70b9\u4e00\u4e2a\u4e00\u4e2a\u5411\u4e0b\u627e \u521d\u59cb\u5316\u957f\u5ea6 \u521d\u59cb\u5316\u957f\u5ea6\u4e3a16,\u540e\u9762\u589e\u957f \u957f\u5ea6\u662f2\u7684\u5e42 \u54c8\u5e0c\u51fd\u6570 index = hashcode(key)&(size-1) \u4f8b:\u8ba1\u7b97book\u7684index 1.\u8ba1\u7b97hashcode-\u5341\u8fdb\u52363029737\uff0c\u4e8c\u8fdb\u5236101110001110101110 1001 2.hashmap\u521d\u59cb\u5316\u957f\u5ea616,\u8ba1\u7b97length-1\u4e3a\u5341\u8fdb\u523615,\u4e8c\u8fdb\u52361111 3.\u4ee5\u4e0a\u4e24\u4e2a\u503c\u505a&\u8fd0\u7b97 101110001110101110 1001 & 1111 ------------------------- 1001 \u5bf9\u5e94\u7684\u5341\u8fdb\u52369\uff0c\u6240\u4ee5index = 9 index\u7ed3\u679c\u53d6\u51b3\u4e8ekey\u7684hashcode\u7684\u6700\u540e\u51e0\u4f4d \u957f\u5ea6\u4e3a16\u6216\u5176\u5b832\u7684\u5e42\uff0clength-1\u7684\u4e8c\u8fdb\u5236\u4f4d\u5168\u4e3a1\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0ekey\u7684hashcode\u505a&\u8fd0\u7b97\u7684\u7ed3\u679c\u7b49\u540c\u4e8ehashcode\u7684\u540e\u51e0\u4f4d\u7684\u503c\uff0c\u53ea\u8981\u8f93\u5165\u7684hashcode\u672c\u8eab\u5747\u5300\uff0chash\u7b97\u6cd5\u7684\u7ed3\u679c\u5c31\u662f\u5747\u5300\u7684\u3002 \u9ad8\u5e76\u53d1\u4e0b\u7684HashMap Hashmap\u7684\u5bb9\u91cf\u662f\u6709\u9650\u7684\uff0c\u8fbe\u5230\u5bb9\u91cf\u7684\u65f6\u5019\u9700\u8981\u6269\u5bb9\uff0cresize \u662f\u5426\u8fdb\u884cresize\u7684\u6761\u4ef6\u5982\u4e0b HashMap.size()>=Capacity LoadFactor Capacity:HashMap\u7684\u5f53\u524d\u957f\u5ea6\uff0cHash\u7684\u957f\u5ea6\u662f2\u7684\u5e42 LoadFactor:HashMap\u8d1f\u8f7d\u56e0\u5b50\uff0c\u9ed8\u8ba4\u662f0.75f resize\u505a\u4e86\u4e24\u4ef6\u4e8b\u60c5\uff1a 1.\u6269\u5bb9 \u521b\u5efa\u65b0\u7684\u6570\u7ec4\u957f\u5ea6\u662f\u539f\u6765\u7684\u4e24\u500d 2.Rehash *\u4e3a\u4ec0\u4e48\u8981rehash\uff0c\u56e0\u4e3a\u957f\u5ea6\u53d1\u751f\u53d8\u5316\u540e\uff0c\u89c4\u5219\u4e5f\u968f\u4e4b\u53d1\u751f\u53d8\u5316\uff0c\u8ba1\u7b97index\u7684\u90a3\u4e2a\u65b9\u6cd5\u3002 HashMap\u662f\u975e\u7ebf\u7a0b\u5b89\u5168\u7684 rehash\u5728\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u51fa\u73b0\u94fe\u8868\u73af\uff0c\u5982\u4f55\u89e3\u51b3\uff1f\uff0c\u4f7f\u7528ConcurrentHashMap. \u4ec0\u4e48\u662fConcurrentHashMap\uff1f ConcurrentHashMap\u662f\u5982\u4f55\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u53c8\u662f\u600e\u4e48\u5b9e\u73b0\u641e\u7b11\u8bfb\u5199\u7684\uff1f ConCurrentHashMap\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e8c\u7ea7Hash\u8868\uff0c\u5b83\u7684\u4f18\u52bf\u5c31\u662f\u91c7\u7528\u4e86\u9501\u5206\u6bb5\u6280\u672f\uff0c\u6bcf\u4e2asegment\u90fd\u662f\u72ec\u7acb\u7684\uff0czegment\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\u3002 segment\u5199\u5165\u662f\u9700\u8981\u4e0a\u9501\u7684\uff0c\u540c\u4e00\u4e2asegment\u7684\u5199\u5165\u662f\u963b\u585e\u7684\uff0c\u6bcf\u4e2asegment\u6301\u6709\u4e00\u628a\u9501\uff0c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u7684\u540c\u65f6\uff0c\u964d\u4f4e\u4e86\u9501\u7684\u7c92\u5ea6\uff0c\u8ba9\u5e76\u53d1\u64cd\u4f5c\u6548\u7387\u66f4\u9ad8\u3002 put\u548cget\u539f\u7406 get\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u518d\u901a\u8fc7hash\u503c\uff0c\u5b9a\u4f4d\u5230segment\u4e2d\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e put\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u83b7\u53d6\u53ef\u91cd\u5165\u9501 \u518d\u901a\u8fc7hash,\u5b9a\u4f4d\u5230segment\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e \u63d2\u5165\u6216\u8005\u8986\u76d6entry\u5bf9\u8c61 \u91ca\u653e\u9501 3.size\u8ba1\u7b97\u539f\u7406 \u904d\u5386\u6240\u6709\u7684segment \u5c06segment\u7684\u5143\u7d20\u6570\u91cf\u7d2f\u52a0\u8d77\u6765 \u628asegment\u4fee\u6539\u6b21\u6570\u7d2f\u52a0\u8d77\u6765 \u603b\u4fee\u6539\u6b21\u6570\u662f\u5426\u5927\u4e8e\u4e0a\u4e00\u6b21\u4fee\u6539\u6b21\u6570\uff0c\u5982\u679c\u5927\u4e8e\u5219\u8bf4\u660e\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u6709\u4fee\u6539\uff0c\u91cd\u65b0\u7edf\u8ba1\uff0c\u5c1d\u8bd5\u6b21\u6570+1\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u8bf4\u660e\u6ca1\u6709\u4fee\u6539\uff0c\u7ed3\u675f\u7edf\u8ba1 \u91cd\u65b0\u6b21\u6570\u8d85\u8fc7\u9608\u503c\uff0c\u5bf9\u6bcf\u4e00\u4e2asegment\u52a0\u9501\uff0c\u91cd\u65b0\u7edf\u8ba1 conCurrentHashMap\u5728\u5bf9key\u8fdb\u884chash\u65f6\uff0c\u4e3a\u4e86\u5b9e\u73b0segment\u5747\u5300\u5206\u5e03\uff0c\u8fdb\u884c\u4e86\u4e24\u6b21hash \u7ea2\u9ed1\u6811 \uff08\u6570\u636e\u7ed3\u6784\uff09 \u4e8c\u53c9\u6811\u7684\u7279\u6027 1. \u5de6\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e\u5b83\u7684\u6839\u8282\u70b9\u7684\u503c 2. \u53f3\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5747\u5927\u4e8e\u6216\u8005\u7b49\u4e8e\u6839\u8282\u70b9\u7684\u503c 3. \u5de6\u53f3\u5b50\u6811\u4e5f\u5206\u522b\u4e3a\u4e8c\u53c9\u6392\u5e8f\u6811 \u4f8b\uff1a\u67e5\u627e10 1. \u4ece\u6839\u8282\u70b99\u5f00\u59cb\u627e\uff0c\u7531\u4e8e10\u5927\u4e8e9\uff0c\u8d70\u5230\u53f3\u5b69\u5b5013 2. \u7531\u4e8e10\u5c0f\u4e8e13\u8d70\u5230\u5de6\u5b69\u5b5011 3. \u7531\u4e8e10\u5c0f\u4e8e11\u8d70\u5230\u5de6\u5b69\u5b5010\uff0c\u7ed3\u675f \u4e8c\u5206\u67e5\u627e\u601d\u60f3\uff0c\u67e5\u627e\u7684\u6700\u5927\u6b21\u6570\u7b49\u4e8e\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u9ad8\u5ea6 \u63d2\u5165\u8282\u70b9\u4e5f\u662f\u5229\u7528\u76f8\u540c\u7684\u65b9\u6cd5 \u4e8c\u53c9\u6811\u7684\u7f3a\u70b9\uff1a \u4f8b\uff1a8\u30019\u300110\u8282\u70b9\u4f9d\u6b21\u63d2\u51651\u30012\u30013\u30014\u30015\u30016\uff0c\u5c31\u53d8\u6210\u5982\u4e0b\uff1a \u67e5\u627e\u7684\u6027\u80fd\u5927\u6253\u6298\u6263\uff0c\u51e0\u4e4e\u53d8\u6210\u4e86\u7ebf\u6027 \u5982\u4f55\u89e3\u51b3\u8fd9\u79cd\u4e0d\u5e73\u8861\uff1f\u7ea2\u9ed1\u6811 \u7ea2\u9ed1\u6811\u7279\u6027 \u8282\u70b9\u662f\u7ea2\u8272\u6216\u8005\u9ed1\u8272 \u6839\u8282\u70b9\u662f\u9ed1\u8272 \u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u7a7a\u7684\u9ed1\u8272\u8282\u70b9(null\u8282\u70b9) \u6bcf\u4e2a\u7ea2\u8272\u7684\u4e24\u4e2a\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272(\u4ece\u6bcf\u4e2a\u53f6\u5b50\u5230\u6839\u7684\u6240\u6709\u8def\u5f84\u4e0d\u80fd\u6709\u4e24\u4e2a\u8fde\u7eed\u7684\u7ea2\u8272\u8282\u70b9) \u4ece\u4efb\u4e00\u8282\u70b9\u5230\u53f6\u5b50\u7684\u6240\u6709\u8def\u5f84\u90fd\u5305\u542b\u76f8\u540c\u6570\u76ee\u7684\u9ed1\u8272\u8282\u70b9\u3002 \u8c03\u6574\u7ea2\u9ed1\u6811\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u53d8\u8272\u3001\u65cb\u8f6c\uff09 AES\u7b97\u6cd5\uff08\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff09 MD5\u548csha256\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5\uff0c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u4e3b\u8981\u7684\u4f5c\u7528\u662f\u5bf9\u4fe1\u606f\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u8fdb\u884c\u6821\u9a8c\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u53ef\u9006\uff0c\u4fdd\u8bc1\u79c1\u5bc6\u4fe1\u606f\u4e0d\u88ab\u6cc4\u6f0f\u3002 \u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff08\u5bc6\u94a5\u3001\u586b\u5145\u3001\u6a21\u5f0f\uff09 \u5bc6\u94a5\uff1aAES\u652f\u6301\u4e09\u79cd\u5bc6\u94a5\uff1a128\u4f4d\u3001192\u4f4d\u3001256\u4f4d,\u5b9e\u9645\u5c31\u662f\u5927\u5bb6\u5e73\u65f6\u8bf4\u7684AES128\\AES192\\AES256\u3002\u4ece\u5b89\u5168\u6027AES256\u6700\u9ad8\uff0cAES128\u6027\u80fd\u6700\u597d\uff0c\u52a0\u5bc6\u5904\u7406\u8f6e\u6570\u4e0d\u540c\u3002 \u586b\u5145 \u4ec0\u4e48\u662f\u5206\u7ec4\u52a0\u5bc6\uff1f AES\u52a0\u5bc6\u8fc7\u7a0b\uff1a AES\u5728\u5bf9\u660e\u6587\u8fdb\u884c\u52a0\u5bc6\u7684\u65f6\u5019\u5e76\u4e0d\u662f\u628a\u6574\u4e2a\u660e\u6587\u4e00\u80a1\u8111\u7684\u52a0\u5bc6\u6210\u4e00\u6574\u6bb5\u5bc6\u6587\uff0c\u800c\u662f\u628a\u660e\u6587\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u660e\u6587\u5757\uff0c\u6bcf\u4e2a\u660e\u6587\u5757\u7684\u957f\u5ea6\u662f128bit \u8fd9\u4e9b\u94ed\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u5668\u7684\u590d\u6742\u5904\u7406\uff0c\u751f\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u5bc6\u6587\u5757\uff0c\u8fd9\u4e9b\u5bc6\u6587\u5757\u62fc\u63a5\u5728\u4e00\u8d77\uff0c\u5c31\u662f\u6700\u7ec8\u7684AES\u52a0\u5bc6\u7ed3\u679c\u3002 \u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff1f\u52a0\u5165\u4e00\u6bb5\u660e\u6587\u662f192bit\uff0c\u62c6\u5206\u540e\u7b2c\u4e8c\u5757\u53ea\u670964bit\uff0c\u4e0d\u8db3128bit\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u586b\u5145\u3002 AES\u5728\u4e0d\u540c\u7684\u8bed\u8a00\u4e2d\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u586b\u5145\u7b97\u6cd5\uff0c\u5178\u578b\u7684\u51e0\u79cd: NoPadding:\u4e0d\u505a\u4efb\u4f55\u586b\u5145\uff0c\u4f46\u662f\u8981\u6c42\u660e\u6587\u5fc5\u987b\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\u3002 PKCS5Padding(\u9ed8\u8ba4):\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u4e2a\u5b57\u8282\uff08128bit\uff09,\u5728\u660e\u6587\u5757\u5c3e\u7aef\u8865\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u7b26\uff0c\u4e14\u6bcf\u4e2a\u5b57\u8282\u7684\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u8865\u5168\u4e3a{1,2,3,4,5,a,b,c,d,e,6,6,6,6,6,6} ISO126Padding:\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u5b57\u8282\uff08128bit\uff09\uff0c\u5728\u660e\u6587\u5757\u672b\u5c3e\u4e0d\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u8282\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\uff0c\u5176\u5b83\u5b57\u7b26\u968f\u673a\u586b\u5145\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u53ef\u80fd\u8865\u5168\u4e3a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e,6,7,8,#,G,6} \u6ce8\u610f\uff1aAES\u52a0\u5bc6\u7684\u65f6\u5019\u7528\u4e86\u67d0\u79cd\u586b\u5145\u65b9\u5f0f\uff0c\u89e3\u5bc6\u65f6\u4e5f\u5fc5\u987b\u91c7\u7528\u540c\u6837\u7684\u89e3\u5bc6\u65b9\u5f0f\u3002 \u6a21\u5f0f AES\u7684\u5de5\u4f5c\u6a21\u5f0f\uff0c\u4f53\u73b0\u5728\u628a\u660e\u6587\u5757\u52a0\u5bc6\u6210\u5bc6\u6587\u5757\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0cAES\u52a0\u5bc6\u7b97\u6cd5\u63d0\u4f9b\u4e86\u4e94\u79cd\u4e0d\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\uff1aECB,CBC,CTR,CFB,OFB \u6a21\u5f0f\u4e4b\u95f4\u7684\u4e3b\u4f53\u601d\u60f3\u662f\u8fd1\u4f3c\u7684\uff0c\u5904\u7406\u7ec6\u8282\u4e0a\u6709\u4e9b\u5dee\u522b ECB\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09\u7535\u7801\u672c\u6a21\u5f0fElectronic CodeBook Book CBC \u5bc6\u7801\u5206\u7ec4\u94fe\u63a5\u6a21\u5f0fCipher Block Chaining CTR \u8ba1\u7b97\u5668\u6a21\u5f0f Counter CFB \u5bc6\u7801\u53cd\u9988\u6a21\u5f0f Cipher FeedBack OFB \u8f93\u51fa\u53cd\u9988\u6a21\u5f0f OutputFeedBack \u540c\u6837\u5728\u52a0\u5bc6\u7684\u65f6\u5019\u4f7f\u7528\u67d0\u79cd\u5de5\u4f5c\u6a21\u5f0f\uff0c\u89e3\u5bc6\u4e5f\u5fc5\u987b\u91c7\u7528\u76f8\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\u3002 \u5728java\u4e2d\u7684\u5177\u4f53\u5b9e\u73b0 \u6ce8\u610f\uff1a\u8c03\u7528\u5c01\u88c5\u597d\u7684AES\u7b97\u6cd5\u65f6\uff0c\u8868\u9762\u4e0a\u4f7f\u7528\u7684key\u5e76\u4e0d\u662f\u771f\u6b63\u7528\u4e8eAES\u52a0\u89e3\u5bc6\u7684\u5bc6\u94a5\uff0c\u800c\u662f\u751f\u6210\u771f\u6b63\u5bc6\u94a5\u7684\u79cd\u5b50\u3002\u586b\u5145\u660e\u6587\u65f6\uff0c\u5982\u679c\u660e\u6587\u7684\u957f\u5ea6\u539f\u672c\u5c31\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\uff0c\u9664\u4e86Nopadding\u5916\uff0c\u5176\u5b83\u586b\u5145\u65b9\u5f0f\u90fd\u4f1a\u586b\u5145\u4e00\u7ec4\u989d\u5916\u768416\u5b57\u8282\u660e\u6587\u5757\u3002 AES\u7b97\u6cd5\u7684\u5e95\u5c42\u539f\u7406 \u4e00\u4e2a\u5b57\u8282\u7531\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u4f4d\u8868\u793a\uff0c00~ff\u8868\u793a0~255,\u4e00\u4e2a\u5b57\u8282\u521a\u597d\u4e5f\u53ef\u8868\u793a0~255 AES\u52a0\u5bc6\u4e0d\u662f\u4e00\u6b21\u628a\u660e\u6587\u52a0\u5bc6\u6210\u5bc6\u6587\uff0c\u800c\u662f\u7ecf\u8fc7\u5f88\u591a\u8f6e\u7684\u52a0\u5bc6 \u5177\u4f53\u9700\u8981\u591a\u5c11\u8bba\uff1f\u300b \u521d\u59cb\u8f6e (Initial Round) 1\u6b21 \u666e\u901a\u8f6e (Rounds) n\u6b21 \u6700\u7ec8\u8f6e (Final Round) 1\u6b21 \u9664\u53bb\u521d\u59cb\u8f6e\uff0c\u5404\u79cdKey\u957f\u5ea6\u5bf9\u5e94\u7684\u8f6e\u6570\u5982\u4e0b\uff1a AES128\uff1a10\u8f6e AES192\uff1a12\u8f6e AES256\uff1a14\u8f6e \u4e0d\u540c\u9636\u6bb5\u7684Round\u6709\u4e0d\u540c\u7684\u5904\u7406\u6b65\u9aa4\u3002 \u521d\u59cb\u8f6e\u53ea\u6709\u4e00\u4e2a\u6b65\u9aa4\uff1a \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u666e\u901a\u8f6e\u6709\u56db\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u5217\u6df7\u6dc6\uff08MixColumns\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u6700\u7ec8\u8f6e\u6709\u4e09\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u5b57\u8282\u66ff\u4ee3 subByte \u5341\u516d\u5b57\u8282\u7684\u660e\u6587\u5757\u5728\u7b2c\u4e00\u4e2a\u5904\u7406\u6b65\u9aa4\u4e2d\u88ab\u6392\u5217\u6210\u4e00\u4e2a4x4\u7684\u4e8c\u4f4d\u6570\u7ec4\uff0c\u5b57\u8282\u66ff\u4ee3\u5c31\u662f\u628a\u660e\u6587\u5757\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u66ff\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u5b57\u8282 \u66ff\u4ee3\u7684\u4f9d\u636e\u662f\u901a\u8fc7\u4e00\u4e2aS\u76d2(subtitution Box)\u768416x16\u5927\u5c0f\u4e8c\u7ef4\u5e38\u91cf\u6570\u7ec4\u3002 \u4f8b\u5982\u660e\u6587\u5757a[2,2]=5B \u4e00\u4e2a\u5b57\u8282\u662f\u4e24\u4f4d\u5341\u516d\u8fdb\u5236\u4f4d\uff0c\u90a3\u4e48\u8f93\u51fa\u503cb[2,2]=S[5,11] \u884c\u79fb\u4f4d shiftRows \u5982\u56fe\uff1a \u7b2c\u4e00\u884c\u4e0d\u53d8 \u7b2c\u4e8c\u884c\u5faa\u73af\u5de6\u79fb\u4e00\u4e2a\u5b57\u8282 \u7b2c\u4e09\u884c\u5faa\u73af\u5de6\u79fb\u4e24\u4e2a\u5b57\u8282 \u7b2c\u56db\u884c\u5faa\u73af\u5de6\u79fb\u4e09\u4e2a\u5b57\u8282 \u5217\u6df7\u6dc6MixColumns \u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u5217\u8981\u548c\u4e00\u4e2a\u660e\u6587\u4fee\u8865\u77e9\u9635(fix matrix)\u7684\u4e8c\u4f4d\u5e38\u91cf\u6570\u7ec4\u505a\u77e9\u9635\u76f8\u4e58\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u8f93\u51fa\u5217 \u52a0 \u8bba\u5bc6\u94a5(add round key) 128bit\u7684\u5bc6\u94a5\u540c\u6837\u88ab\u6392\u5217\u62104x4\u77e9\u9635 \u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282a[i,j]\u4e0e\u5bc6\u94a5\u5bf9\u5e94\u4f4d\u7f6e\u7684\u5b57\u8282k[i,j]\u5f02\u6216\u4e00\u6b21\u5c31\u751f\u6210\u4e86\u8f93\u51fa\u503cb[i,j] \u52a0\u5bc6\u6bcf\u4e00\u8f6e\u7528\u5230\u7684\u5bc6\u94a5\u662f\u4e0d\u540c\u7684 \u6269\u5c55\u5bc6\u94a5(KeyExpentions) AES\u6e90\u4ee3\u7801\u4e2d\u7528\u957f\u5ea6 4 * 4 *\uff0810+1\uff09 \u5b57\u8282\u7684\u6570\u7ec4W\u6765\u5b58\u50a8\u6240\u6709\u8f6e\u7684\u5bc6\u94a5\u3002W{0-15}\u7684\u503c\u7b49\u540c\u4e8e\u539f\u59cb\u5bc6\u94a5\u7684\u503c\uff0c\u7528\u4e8e\u4e3a\u521d\u59cb\u8f6e\u505a\u5904\u7406\u3002\u540e\u7eed\u6bcf\u4e00\u4e2a\u5143\u7d20W[i]\u90fd\u662f\u7531W[i-4]\u548cW[i-1]\u8ba1\u7b97\u800c\u6765\uff0c\u76f4\u5230\u6570\u7ec4W\u7684\u6240\u6709\u5143\u7d20\u90fd\u8d4b\u503c\u5b8c\u6210\u3002W\u6570\u7ec4\u5f53\u4e2d\uff0cW{0-15}\u7528\u4e8e\u521d\u59cb\u8f6e\u7684\u5904\u7406\uff0cW{16-31}\u7528\u4e8e\u7b2c1\u8f6e\u7684\u5904\u7406\uff0cW{32-47}\u7528\u4e8e\u7b2c2\u8f6e\u7684\u5904\u7406 ......\u4e00\u76f4\u5230W{160-175}\u7528\u4e8e\u6700\u7ec8\u8f6e\uff08\u7b2c10\u8f6e\uff09\u7684\u5904\u7406\u3002 \u4e0d\u540c\u5de5\u4f5c\u6a21\u5f0f\u5728\u52a0\u5bc6\u6d41\u7a0b\u4e2d\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f \u6240\u6709\u5de5\u4f5c\u6a21\u5f0f\u7684\u5dee\u522b\u90fd\u4f53\u73b0\u5728\u5b8f\u89c2\u4e0a\uff0c\u5373\u660e\u6587\u5757\u4e0e\u660e\u6587\u5757\u4e4b\u95f4\u7684\u5173\u8054\uff0cAES\u52a0\u5bc6\u5668\u7684\u5185\u90e8\u5904\u7406\u6d41\u7a0b\u90fd\u662f\u76f8\u540c\u7684\u3002 1. ECB\u6a21\u5f0f(electronoc CodeBook Book) \u6700\u7b80\u5355\u7684\u5de5\u4f5c\u6a21\u5f0f,\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u7684\u52a0\u5bc6\u5b8c\u5168\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6d89\u3002 \u4f18\u70b9:1.\u7b80\u53552.\u6709\u5229\u4e8e\u5e76\u884c\u8ba1\u7b97 \u7f3a\u70b9\uff1a\u76f8\u540c\u7684\u660e\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u4f1a\u53d8\u6210\u76f8\u540c\u7684\u5bc6\u6587\u5757\uff0c\u5b89\u5168\u6027\u8f83\u5dee CBC (Cipher Block Chainning) \u5f15\u5165\u4e86\u521d\u59cb\u5411\u91cf\u7684\u6982\u5ff5(Initialization Vector)\u3002iv\u7684\u4f5c\u7528\u6709\u70b9\u50cfMD5\u7684\u52a0\u76d0\uff0c\u9632\u6b62\u540c\u6837\u7684\u660e\u6587\u5757\u52a0\u5bc6\u6210\u540c\u6837\u7684\u5bc6\u6587\u5757\u3002 CBC\u6a21\u5f0f\u5728\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u52a0\u5bc6\u524d\u4f1a\u8ba9\u660e\u6587\u5757\u548c\u4e00\u4e2a\u503c\u505a\u5f02\u6216\u64cd\u4f5c\uff0cIV\u4f5c\u4e3a\u521d\u59cb\u5316\u5411\u91cf\uff0c\u53ea\u53c2\u4e0e\u7b2c\u4e00\u4e2a\u660e\u6587\u5757\u7684\u5f02\u6216\uff0c\u540e\u7eed\u7684\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u548c\u524d\u4e00\u4e2a\u660e\u6587\u5757\u6240\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u505a\u5f02\u6216\uff0c\u8fd9\u6837\u76f8\u540c\u7684\u660e\u6587\u5757\uff0c\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u663e\u7136\u662f\u4e0d\u4e00\u6837\u7684\u3002 \u4f18\u70b9\uff1a\u5b89\u5168\u6027\u66f4\u9ad8 \u7f3a\u70b9\uff1a1.\u65e0\u6cd5\u5e76\u884c\u8ba1\u7b97\uff0c\u6027\u80fd\u4e0a\u4e0d\u5982ECB2.\u5f15\u5165\u521d\u59cb\u5316\u5411\u91cfiv\u589e\u52a0\u590d\u6742\u5ea6 MD5 \u53ef\u4ee5\u4ece\u4efb\u610f\u957f\u5ea6\u7684\u660e\u6587\u5b57\u7b26\u4e32\u751f\u6210128\u4f4d\u7684\u54c8\u5e0c\u503c \u9a8c\u7b7e\u8fc7\u7a0b 1. \u6536\u96c6\u76f8\u5173\u4e1a\u52a1\u53c2\u6570\uff0c\u5728\u8fd9\u91cc\u65f6\u91d1\u989d\u548c\u76ee\u6807\u8d26\u6237\u3002 2. \u6309\u7167\u89c4\u5219\u628a\u53c2\u6570\u540d\u548c\u53c2\u6570\u503c\u62fc\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u540c\u65f6\u628a\u7ed9\u5b9a\u7684\u5bc6\u94a5\u4e5f\u62fc\u63a5\u8d77\u6765\uff0c\u4e4b\u6240\u4ee5\u9700\u8981\u5bc6\u94a5\uff0c\u662f\u56e0\u4e3a\u653b\u51fb\u8005\u53ef\u80fd\u4e5f\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u3002amout=1_acount=1234_key=abcd 3. \u5229\u7528MD5\u7b97\u6cd5\uff0c\u4ece\u539f\u6587\u751f\u6210hash\u503c\uff0cMD5\u751f\u6210\u7684\u54c8\u5e0c\u503c\u662f128\u7684\u4e8c\u8fdb\u5236\uff0c\u4e5f\u5c31\u662f32\u4f4d\u7684\u5341\u516d\u8fdb\u5236 4. \u53d1\u9001\u7684\u65f6\u5019\u9664\u4e86\u628a\u57fa\u672c\u8bf7\u6c42\u53c2\u6570\u5e26\u4e0a\uff0c\u628asign:ADE876ISHDFAKHDJ\u4e5f\u5e26\u4e0a 5.\u7b2c\u4e09\u65b9\u652f\u4ed8\u5e73\u53f0\u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u7684\u7b7e\u540d\uff1f\u4e09\u6b65 * \u53cc\u65b9\u7ea6\u5b9a\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u89c4\u5219\uff0c\u548c\u76f8\u540c\u7684\u5bc6\u94a5 * \u7b2c\u4e09\u65b9\u5e73\u53f0\u63a5\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u6309\u7167\u62fc\u63a5\u89c4\u5219\u62fc\u63a5\u4e1a\u52a1\u53c2\u6570\u548c\u5bc6\u94a5\uff0c\u5229\u7528MD5\u7b97\u6cd5\u751f\u6210sign * \u751f\u6210\u7684sign\u548c\u8bf7\u6c42\u5e26\u8fc7\u53bb\u7684sign\u505a\u5bf9\u6bd4\uff0c\u5982\u679c\u4e24\u4e2a\u503c\u76f8\u540c\u5219\u7b7e\u540d\u65e0\u8bef\uff0c\u4e24\u4e2a\u503c\u4e0d\u540c\u5219\u4fe1\u606f\u505a\u4e86\u7be1\u6539 \u5bc6\u94a5\u672c\u8eab\u4e0d\u76f4\u63a5\u4f20\u8f93\uff0c\u53ea\u53c2\u4e0esign\u7684\u62fc\u63a5\uff0c\u5982\u679c\u574f\u4eba\u65e2\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u53c8\u77e5\u9053\u5bc6\u94a5\uff0c\u53ea\u80fd\u901a\u8fc7\u4e1a\u52a1\u4e0a\u7684\u89c4\u5219\u6765\u9650\u5236\uff0c\u6bd4\u5982\u6700\u5927\u91d1\u989d\u7684\u9650\u5236 MD5\u5e95\u5c42\u539f\u7406 \u5206\u4e3a\u56db\u6b65\uff1a\u5904\u7406\u539f\u6587\uff0c\u8bbe\u7f6e\u521d\u59cb\u503c\uff0c\u5faa\u73af\u52a0\u5de5\uff0c\u62fc\u63a5\u7ed3\u679c 1. \u5904\u7406\u539f\u6587 \u9996\u5148\uff0c\u8ba1\u7b97\u539f\u6587\u7684\u957f\u5ea6(bit)\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u7b49\u4e8e448\uff0c\u5c31\u9700\u8981\u586b\u5145\u539f\u6587\u4f7f\u5f97\u539f\u6587\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\u7b49\u4e8e448.\u586b\u5145\u65b9\u6cd5\u5c31\u662f\u7b2c\u4e00\u4f4d\u586b\u51451\uff0c\u5176\u4f59\u4f4d\u586b\u51450\uff0c\u586b\u5145\u5b8c\u540e\uff0c\u4fe1\u606f\u7684\u957f\u5ea6\u5c31\u662f512*N+448 \u4e4b\u540e\u7528\u5269\u4f59\u7684\u4f4d\u7f6e\uff08512-448=64\uff09\u8bb0\u5f55\u539f\u6587\u7684\u771f\u6b63\u957f\u5ea6\uff0c\u628a\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u503c\u8865\u5728\u6700\u540e\u8fd9\u6837\u5904\u7406\u540e\u7684\u4fe1\u606f\u957f\u5ea6\u5c31\u662f512*\uff08N+1\uff09 \u8bbe\u7f6e\u521d\u59cb\u503c MD5\u7684\u54c8\u5e0c\u7ed3\u679c\u957f\u5ea6\u4e3a128\u4f4d\uff0c\u6309\u7167\u6bcf32\u4f4d\u4e00\u7ec4\u51714\u7ec4\uff0c4\u7ec4\u662f\u7531\u56db\u4e2a\u521d\u59cb\u5411\u91cf\u503cA,B,C,D\u7ecf\u8fc7\u4e0d\u65ad\u6f14\u53d8\u5f97\u5230\uff0cMD5\u7684\u5b98\u65b9\u5b9e\u8df5\u4e2dA,B,C,D\u7684\u521d\u59cb\u503c\u5982\u4e0b(\u5341\u516d\u8fdb\u5236)\uff1a A= 0x01234567 B= 0x89ABCDEF C= 0xFEDCBA98 D= 0x76543210 \u5faa\u73af\u52a0\u5de5 \u6700\u590d\u6742\u7684\u4e00\u6b65\uff0c\u4e0b\u56fe\u4ee3\u8868\u4e86\u5355\u6b21A,B,C,D\u6f14\u53d8\u7684\u6d41\u7a0b \u56fe\u4e2d\uff0cA\uff0cB\uff0cC\uff0cD\u5c31\u662f\u54c8\u5e0c\u503c\u7684\u56db\u4e2a\u5206\u7ec4\u3002\u6bcf\u4e00\u6b21\u5faa\u73af\u90fd\u4f1a\u8ba9\u65e7\u7684ABCD\u4ea7\u751f\u65b0\u7684ABCD\u3002\u4e00\u5171\u8fdb\u884c\u591a\u5c11\u6b21\u5faa\u73af\u5462\uff1f\u7531\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u51b3\u5b9a\u3002 \u5047\u8bbe\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u662fM \u4e3b\u5faa\u73af\u6b21\u6570 = M / 512 \u6bcf\u4e2a\u4e3b\u5faa\u73af\u4e2d\u5305\u542b 512 / 32 * 4 = 64 \u6b21 \u5b50\u5faa\u73af\u3002 \u4e0a\u9762\u8fd9\u5f20\u56fe\u6240\u8868\u8fbe\u7684\u5c31\u662f\u5355\u6b21\u5b50\u5faa\u73af\u7684\u6d41\u7a0b\u3002 1.\u7eff\u8272F \u56fe\u4e2d\u7684\u7eff\u8272F\uff0c\u4ee3\u8868\u975e\u7ebf\u6027\u51fd\u6570\u3002\u5b98\u65b9MD5\u6240\u7528\u5230\u7684\u51fd\u6570\u6709\u56db\u79cd\uff1a F(X, Y, Z) =(X&Y) | ((~X) & Z) G(X, Y, Z) =(X&Z) | (Y & (~Z)) H(X, Y, Z) =X^Y^Z I(X, Y, Z)=Y^(X|(~Z)) \u5728\u4e3b\u5faa\u73af\u4e0b\u976264\u6b21\u5b50\u5faa\u73af\u4e2d\uff0cF\u3001G\u3001H\u3001I \u4ea4\u66ff\u4f7f\u7528\uff0c\u7b2c\u4e00\u4e2a16\u6b21\u4f7f\u7528F\uff0c\u7b2c\u4e8c\u4e2a16\u6b21\u4f7f\u7528G\uff0c\u7b2c\u4e09\u4e2a16\u6b21\u4f7f\u7528H\uff0c\u7b2c\u56db\u4e2a16\u6b21\u4f7f\u7528I\u3002 2.\u7ea2\u8272\u201c\u7530\u201d\u5b57 \u5f88\u7b80\u5355\uff0c\u7ea2\u8272\u7684\u7530\u5b57\u4ee3\u8868\u76f8\u52a0\u7684\u610f\u601d\u3002 3.Mi Mi\u662f\u7b2c\u4e00\u6b65\u5904\u7406\u540e\u7684\u539f\u6587\u3002\u5728\u7b2c\u4e00\u6b65\u4e2d\uff0c\u5904\u7406\u540e\u539f\u6587\u7684\u957f\u5ea6\u662f512\u7684\u6574\u6570\u500d\u3002\u628a\u539f\u6587\u7684\u6bcf512\u4f4d\u518d\u5206\u621016\u7b49\u4efd\uff0c\u547d\u540d\u4e3aM0~M15\uff0c\u6bcf\u4e00\u7b49\u4efd\u957f\u5ea632\u3002\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf16\u6b21\u5faa\u73af\uff0c\u90fd\u4f1a\u4ea4\u66ff\u7528\u5230M1~M16\u4e4b\u4e00\u3002 4.Ki \u4e00\u4e2a\u5e38\u91cf\uff0c\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf\u4e00\u6b21\u7528\u5230\u7684\u5e38\u91cf\u90fd\u662f\u4e0d\u540c\u7684\u3002 5.\u9ec4\u8272\u7684<<<S \u5de6\u79fbS\u4f4d\uff0cS\u7684\u503c\u4e5f\u662f\u5e38\u91cf\u3002 \u201c\u6d41\u6c34\u7ebf\u201d\u7684\u6700\u540e\uff0c\u8ba9\u8ba1\u7b97\u7684\u7ed3\u679c\u548cB\u76f8\u52a0\uff0c\u53d6\u4ee3\u539f\u5148\u7684B\u3002\u65b0ABCD\u7684\u4ea7\u751f\u53ef\u4ee5\u5f52\u7eb3\u4e3a\uff1a \u65b0A = \u539fd \u65b0B = b+((a+F(b,c,d)+Mj+Ki)<<<s) \u65b0C = \u539fb \u65b0D = \u539fc Base64 \u6392\u5e8f \u5192\u6ce1\u7b97\u6cd5\u548c\u4f18\u5316","title":"Algorithm"},{"location":"things/algorithm/#hashmap","text":"","title":"HashMap"},{"location":"things/algorithm/#_1","text":"\u7528\u4e8e\u5b58\u50a8Key-Value\u952e\u503c\u5bf9\uff08entry\uff09\u7684\u96c6\u5408,\u6bcf\u4e00\u4e2a\u952e\u503c\u5bf9\u4e5f\u53eb\u505aentry,\u8fd9\u4e9bentry\u5206\u6563\u5b58\u50a8\u5728\u4e00\u4e2a\u6570\u7ec4\u4e2d\uff0c\u8fd9\u4e2a\u6570\u7ec4\u5c31\u662fHashMap\u7684\u4e3b\u5e72\u3002 \u6bcf\u4e00\u4e2a\u5143\u7d20(entry)\u7684\u521d\u59cb\u503c\u90fd\u662fnull \u6700\u5e38\u7528\u7684get\u548cput\u65b9\u6cd5\u3002","title":"\u6982\u5ff5"},{"location":"things/algorithm/#put","text":"\u8c03\u7528hashMap.put(\"beauty\",0),\u63d2\u5165\u4e00\u4e2akey\u4e3a\"beauty\"\u7684\u5143\u7d20 index = hashcode(\"beauty\")&(hashMap.size-1) \u5047\u5b9a\u6700\u540e\u5f97\u51fa\u7684index\u4e3a2 \u4f46\u662f\u5f53\u63d2\u5165\u7684entry\u8d8a\u6765\u8d8a\u591a\uff0c\u96be\u514d\u4f1a\u51fa\u73b0index\u51b2\u7a81\u7684\u73b0\u8c61 HashMap\u7684\u6570\u7ec4\u6bcf\u4e00\u4e2a\u5143\u7d20\u4e0d\u6b62\u662f\u4e00\u4e2aentry\u5bf9\u8c61\uff0c\u662f\u4e00\u4e2a\u94fe\u8868\u7684\u5934\u8282\u70b9\uff0centry\u5bf9\u8c61\u53ef\u4ee5\u901a\u8fc7next\u6307\u9488\u6307\u5411\u5b83\u7684\u4e0b\u4e00\u4e2aentry\u8282\u70b9,\u5f53\u65b0\u63d2\u5165\u7684entry\u9047\u5230\u51b2\u7a81\u7684\u6570\u7ec4\u4f4d\u7f6e\u65f6\uff0c\u76f4\u63a5\u63d2\u5165\u5230\u5bf9\u5e94\u7684\u94fe\u8868\u5373\u53ef\uff1a java8\u4e2d\u5f53\u94fe\u8868\u957f\u5ea6\u8d85\u8fc78\uff0c\u4f1a\u76f4\u63a5\u53d8\u6210\u7ea2\u9ed1\u6811 \u91c7\u7528\u7684\u662f\u201c\u5934\u63d2\u6cd5\u201d\uff0cHashMap\u521b\u9020\u8005\u8ba4\u4e3a\uff0c\u540e\u63d2\u5165\u7684\u5143\u7d20\u88ab\u67e5\u627e\u7684\u53ef\u80fd\u6027\u5927\u3002","title":"put\u65b9\u6cd5\u539f\u7406"},{"location":"things/algorithm/#get","text":"\u9996\u5148\u6839\u636e\u8f93\u5165\u7684key\u505a\u4e00\u6b21hash\u6620\u5c04\uff0c\u5f97\u5230index index = hashcode(key)&(hashMap.size()-1) \u540c\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u6709\u53ef\u80fd\u5339\u914d\u5230\u591a\u4e2aentry, \u8fd9\u4e2a\u65f6\u5019\u9700\u8981\u987a\u7740\u94fe\u8868\u7684\u5934\u8282\u70b9\u4e00\u4e2a\u4e00\u4e2a\u5411\u4e0b\u627e","title":"get\u65b9\u6cd5"},{"location":"things/algorithm/#_2","text":"\u521d\u59cb\u5316\u957f\u5ea6\u4e3a16,\u540e\u9762\u589e\u957f \u957f\u5ea6\u662f2\u7684\u5e42 \u54c8\u5e0c\u51fd\u6570 index = hashcode(key)&(size-1) \u4f8b:\u8ba1\u7b97book\u7684index 1.\u8ba1\u7b97hashcode-\u5341\u8fdb\u52363029737\uff0c\u4e8c\u8fdb\u5236101110001110101110 1001 2.hashmap\u521d\u59cb\u5316\u957f\u5ea616,\u8ba1\u7b97length-1\u4e3a\u5341\u8fdb\u523615,\u4e8c\u8fdb\u52361111 3.\u4ee5\u4e0a\u4e24\u4e2a\u503c\u505a&\u8fd0\u7b97 101110001110101110 1001 & 1111 ------------------------- 1001 \u5bf9\u5e94\u7684\u5341\u8fdb\u52369\uff0c\u6240\u4ee5index = 9 index\u7ed3\u679c\u53d6\u51b3\u4e8ekey\u7684hashcode\u7684\u6700\u540e\u51e0\u4f4d \u957f\u5ea6\u4e3a16\u6216\u5176\u5b832\u7684\u5e42\uff0clength-1\u7684\u4e8c\u8fdb\u5236\u4f4d\u5168\u4e3a1\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0ekey\u7684hashcode\u505a&\u8fd0\u7b97\u7684\u7ed3\u679c\u7b49\u540c\u4e8ehashcode\u7684\u540e\u51e0\u4f4d\u7684\u503c\uff0c\u53ea\u8981\u8f93\u5165\u7684hashcode\u672c\u8eab\u5747\u5300\uff0chash\u7b97\u6cd5\u7684\u7ed3\u679c\u5c31\u662f\u5747\u5300\u7684\u3002","title":"\u521d\u59cb\u5316\u957f\u5ea6"},{"location":"things/algorithm/#hashmap_1","text":"Hashmap\u7684\u5bb9\u91cf\u662f\u6709\u9650\u7684\uff0c\u8fbe\u5230\u5bb9\u91cf\u7684\u65f6\u5019\u9700\u8981\u6269\u5bb9\uff0cresize \u662f\u5426\u8fdb\u884cresize\u7684\u6761\u4ef6\u5982\u4e0b HashMap.size()>=Capacity LoadFactor Capacity:HashMap\u7684\u5f53\u524d\u957f\u5ea6\uff0cHash\u7684\u957f\u5ea6\u662f2\u7684\u5e42 LoadFactor:HashMap\u8d1f\u8f7d\u56e0\u5b50\uff0c\u9ed8\u8ba4\u662f0.75f resize\u505a\u4e86\u4e24\u4ef6\u4e8b\u60c5\uff1a 1.\u6269\u5bb9 \u521b\u5efa\u65b0\u7684\u6570\u7ec4\u957f\u5ea6\u662f\u539f\u6765\u7684\u4e24\u500d 2.Rehash *\u4e3a\u4ec0\u4e48\u8981rehash\uff0c\u56e0\u4e3a\u957f\u5ea6\u53d1\u751f\u53d8\u5316\u540e\uff0c\u89c4\u5219\u4e5f\u968f\u4e4b\u53d1\u751f\u53d8\u5316\uff0c\u8ba1\u7b97index\u7684\u90a3\u4e2a\u65b9\u6cd5\u3002 HashMap\u662f\u975e\u7ebf\u7a0b\u5b89\u5168\u7684 rehash\u5728\u5e76\u53d1\u7684\u60c5\u51b5\u4e0b\u53ef\u80fd\u4f1a\u51fa\u73b0\u94fe\u8868\u73af\uff0c\u5982\u4f55\u89e3\u51b3\uff1f\uff0c\u4f7f\u7528ConcurrentHashMap.","title":"\u9ad8\u5e76\u53d1\u4e0b\u7684HashMap"},{"location":"things/algorithm/#concurrenthashmap","text":"ConcurrentHashMap\u662f\u5982\u4f55\u5b9e\u73b0\u7ebf\u7a0b\u5b89\u5168\u7684\uff0c\u53c8\u662f\u600e\u4e48\u5b9e\u73b0\u641e\u7b11\u8bfb\u5199\u7684\uff1f ConCurrentHashMap\u76f8\u5f53\u4e8e\u4e00\u4e2a\u4e8c\u7ea7Hash\u8868\uff0c\u5b83\u7684\u4f18\u52bf\u5c31\u662f\u91c7\u7528\u4e86\u9501\u5206\u6bb5\u6280\u672f\uff0c\u6bcf\u4e2asegment\u90fd\u662f\u72ec\u7acb\u7684\uff0czegment\u4e4b\u95f4\u4e92\u4e0d\u5f71\u54cd\u3002 segment\u5199\u5165\u662f\u9700\u8981\u4e0a\u9501\u7684\uff0c\u540c\u4e00\u4e2asegment\u7684\u5199\u5165\u662f\u963b\u585e\u7684\uff0c\u6bcf\u4e2asegment\u6301\u6709\u4e00\u628a\u9501\uff0c\u4fdd\u8bc1\u7ebf\u7a0b\u5b89\u5168\u7684\u540c\u65f6\uff0c\u964d\u4f4e\u4e86\u9501\u7684\u7c92\u5ea6\uff0c\u8ba9\u5e76\u53d1\u64cd\u4f5c\u6548\u7387\u66f4\u9ad8\u3002","title":"\u4ec0\u4e48\u662fConcurrentHashMap\uff1f"},{"location":"things/algorithm/#putget","text":"get\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u518d\u901a\u8fc7hash\u503c\uff0c\u5b9a\u4f4d\u5230segment\u4e2d\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e put\u65b9\u6cd5 \u8f93\u5165\u7684key\u505ahash\u8fd0\u7b97\u5f97\u5230hash\u503c \u901a\u8fc7hash\u503c\u5b9a\u4f4d\u5230\u5177\u4f53\u7684segment\u5bf9\u8c61 \u83b7\u53d6\u53ef\u91cd\u5165\u9501 \u518d\u901a\u8fc7hash,\u5b9a\u4f4d\u5230segment\u6570\u7ec4\u7684\u5177\u4f53\u4f4d\u7f6e \u63d2\u5165\u6216\u8005\u8986\u76d6entry\u5bf9\u8c61 \u91ca\u653e\u9501 3.size\u8ba1\u7b97\u539f\u7406 \u904d\u5386\u6240\u6709\u7684segment \u5c06segment\u7684\u5143\u7d20\u6570\u91cf\u7d2f\u52a0\u8d77\u6765 \u628asegment\u4fee\u6539\u6b21\u6570\u7d2f\u52a0\u8d77\u6765 \u603b\u4fee\u6539\u6b21\u6570\u662f\u5426\u5927\u4e8e\u4e0a\u4e00\u6b21\u4fee\u6539\u6b21\u6570\uff0c\u5982\u679c\u5927\u4e8e\u5219\u8bf4\u660e\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u6709\u4fee\u6539\uff0c\u91cd\u65b0\u7edf\u8ba1\uff0c\u5c1d\u8bd5\u6b21\u6570+1\uff0c\u5982\u679c\u4e0d\u662f\uff0c\u8bf4\u660e\u6ca1\u6709\u4fee\u6539\uff0c\u7ed3\u675f\u7edf\u8ba1 \u91cd\u65b0\u6b21\u6570\u8d85\u8fc7\u9608\u503c\uff0c\u5bf9\u6bcf\u4e00\u4e2asegment\u52a0\u9501\uff0c\u91cd\u65b0\u7edf\u8ba1 conCurrentHashMap\u5728\u5bf9key\u8fdb\u884chash\u65f6\uff0c\u4e3a\u4e86\u5b9e\u73b0segment\u5747\u5300\u5206\u5e03\uff0c\u8fdb\u884c\u4e86\u4e24\u6b21hash","title":"put\u548cget\u539f\u7406"},{"location":"things/algorithm/#_3","text":"","title":"\u7ea2\u9ed1\u6811  \uff08\u6570\u636e\u7ed3\u6784\uff09"},{"location":"things/algorithm/#_4","text":"1. \u5de6\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5c0f\u4e8e\u6216\u8005\u7b49\u4e8e\u5b83\u7684\u6839\u8282\u70b9\u7684\u503c 2. \u53f3\u5b50\u6811\u6240\u6709\u8282\u70b9\u7684\u503c\u5747\u5927\u4e8e\u6216\u8005\u7b49\u4e8e\u6839\u8282\u70b9\u7684\u503c 3. \u5de6\u53f3\u5b50\u6811\u4e5f\u5206\u522b\u4e3a\u4e8c\u53c9\u6392\u5e8f\u6811 \u4f8b\uff1a\u67e5\u627e10 1. \u4ece\u6839\u8282\u70b99\u5f00\u59cb\u627e\uff0c\u7531\u4e8e10\u5927\u4e8e9\uff0c\u8d70\u5230\u53f3\u5b69\u5b5013 2. \u7531\u4e8e10\u5c0f\u4e8e13\u8d70\u5230\u5de6\u5b69\u5b5011 3. \u7531\u4e8e10\u5c0f\u4e8e11\u8d70\u5230\u5de6\u5b69\u5b5010\uff0c\u7ed3\u675f \u4e8c\u5206\u67e5\u627e\u601d\u60f3\uff0c\u67e5\u627e\u7684\u6700\u5927\u6b21\u6570\u7b49\u4e8e\u4e8c\u53c9\u67e5\u627e\u6811\u7684\u9ad8\u5ea6 \u63d2\u5165\u8282\u70b9\u4e5f\u662f\u5229\u7528\u76f8\u540c\u7684\u65b9\u6cd5 \u4e8c\u53c9\u6811\u7684\u7f3a\u70b9\uff1a \u4f8b\uff1a8\u30019\u300110\u8282\u70b9\u4f9d\u6b21\u63d2\u51651\u30012\u30013\u30014\u30015\u30016\uff0c\u5c31\u53d8\u6210\u5982\u4e0b\uff1a \u67e5\u627e\u7684\u6027\u80fd\u5927\u6253\u6298\u6263\uff0c\u51e0\u4e4e\u53d8\u6210\u4e86\u7ebf\u6027 \u5982\u4f55\u89e3\u51b3\u8fd9\u79cd\u4e0d\u5e73\u8861\uff1f\u7ea2\u9ed1\u6811","title":"\u4e8c\u53c9\u6811\u7684\u7279\u6027"},{"location":"things/algorithm/#_5","text":"\u8282\u70b9\u662f\u7ea2\u8272\u6216\u8005\u9ed1\u8272 \u6839\u8282\u70b9\u662f\u9ed1\u8272 \u6bcf\u4e2a\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u7a7a\u7684\u9ed1\u8272\u8282\u70b9(null\u8282\u70b9) \u6bcf\u4e2a\u7ea2\u8272\u7684\u4e24\u4e2a\u5b50\u8282\u70b9\u90fd\u662f\u9ed1\u8272(\u4ece\u6bcf\u4e2a\u53f6\u5b50\u5230\u6839\u7684\u6240\u6709\u8def\u5f84\u4e0d\u80fd\u6709\u4e24\u4e2a\u8fde\u7eed\u7684\u7ea2\u8272\u8282\u70b9) \u4ece\u4efb\u4e00\u8282\u70b9\u5230\u53f6\u5b50\u7684\u6240\u6709\u8def\u5f84\u90fd\u5305\u542b\u76f8\u540c\u6570\u76ee\u7684\u9ed1\u8272\u8282\u70b9\u3002","title":"\u7ea2\u9ed1\u6811\u7279\u6027"},{"location":"things/algorithm/#_6","text":"","title":"\u8c03\u6574\u7ea2\u9ed1\u6811\u7684\u4e24\u79cd\u65b9\u6cd5\uff08\u53d8\u8272\u3001\u65cb\u8f6c\uff09"},{"location":"things/algorithm/#aes","text":"MD5\u548csha256\u5c5e\u4e8e\u6458\u8981\u7b97\u6cd5\uff0c\u662f\u4e0d\u53ef\u9006\u7684\uff0c\u4e3b\u8981\u7684\u4f5c\u7528\u662f\u5bf9\u4fe1\u606f\u7684\u4e00\u81f4\u6027\u548c\u5b8c\u6574\u6027\u8fdb\u884c\u6821\u9a8c\uff0c\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\u53ef\u9006\uff0c\u4fdd\u8bc1\u79c1\u5bc6\u4fe1\u606f\u4e0d\u88ab\u6cc4\u6f0f\u3002","title":"AES\u7b97\u6cd5\uff08\u5bf9\u79f0\u52a0\u5bc6\u7b97\u6cd5\uff09"},{"location":"things/algorithm/#_7","text":"\u5bc6\u94a5\uff1aAES\u652f\u6301\u4e09\u79cd\u5bc6\u94a5\uff1a128\u4f4d\u3001192\u4f4d\u3001256\u4f4d,\u5b9e\u9645\u5c31\u662f\u5927\u5bb6\u5e73\u65f6\u8bf4\u7684AES128\\AES192\\AES256\u3002\u4ece\u5b89\u5168\u6027AES256\u6700\u9ad8\uff0cAES128\u6027\u80fd\u6700\u597d\uff0c\u52a0\u5bc6\u5904\u7406\u8f6e\u6570\u4e0d\u540c\u3002 \u586b\u5145 \u4ec0\u4e48\u662f\u5206\u7ec4\u52a0\u5bc6\uff1f AES\u52a0\u5bc6\u8fc7\u7a0b\uff1a AES\u5728\u5bf9\u660e\u6587\u8fdb\u884c\u52a0\u5bc6\u7684\u65f6\u5019\u5e76\u4e0d\u662f\u628a\u6574\u4e2a\u660e\u6587\u4e00\u80a1\u8111\u7684\u52a0\u5bc6\u6210\u4e00\u6574\u6bb5\u5bc6\u6587\uff0c\u800c\u662f\u628a\u660e\u6587\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u660e\u6587\u5757\uff0c\u6bcf\u4e2a\u660e\u6587\u5757\u7684\u957f\u5ea6\u662f128bit \u8fd9\u4e9b\u94ed\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u5668\u7684\u590d\u6742\u5904\u7406\uff0c\u751f\u6210\u4e00\u4e2a\u4e2a\u72ec\u7acb\u7684\u5bc6\u6587\u5757\uff0c\u8fd9\u4e9b\u5bc6\u6587\u5757\u62fc\u63a5\u5728\u4e00\u8d77\uff0c\u5c31\u662f\u6700\u7ec8\u7684AES\u52a0\u5bc6\u7ed3\u679c\u3002 \u4f46\u662f\u6709\u4e2a\u95ee\u9898\uff1f\u52a0\u5165\u4e00\u6bb5\u660e\u6587\u662f192bit\uff0c\u62c6\u5206\u540e\u7b2c\u4e8c\u5757\u53ea\u670964bit\uff0c\u4e0d\u8db3128bit\uff0c\u8fd9\u4e2a\u65f6\u5019\u5c31\u9700\u8981\u586b\u5145\u3002 AES\u5728\u4e0d\u540c\u7684\u8bed\u8a00\u4e2d\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u586b\u5145\u7b97\u6cd5\uff0c\u5178\u578b\u7684\u51e0\u79cd: NoPadding:\u4e0d\u505a\u4efb\u4f55\u586b\u5145\uff0c\u4f46\u662f\u8981\u6c42\u660e\u6587\u5fc5\u987b\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\u3002 PKCS5Padding(\u9ed8\u8ba4):\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u4e2a\u5b57\u8282\uff08128bit\uff09,\u5728\u660e\u6587\u5757\u5c3e\u7aef\u8865\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u7b26\uff0c\u4e14\u6bcf\u4e2a\u5b57\u8282\u7684\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u8865\u5168\u4e3a{1,2,3,4,5,a,b,c,d,e,6,6,6,6,6,6} ISO126Padding:\u5982\u679c\u660e\u6587\u5757\u5c11\u4e8e16\u5b57\u8282\uff08128bit\uff09\uff0c\u5728\u660e\u6587\u5757\u672b\u5c3e\u4e0d\u8db3\u76f8\u5e94\u6570\u91cf\u7684\u5b57\u8282\uff0c\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u503c\u7b49\u4e8e\u7f3a\u5c11\u7684\u5b57\u7b26\u6570\uff0c\u5176\u5b83\u5b57\u7b26\u968f\u673a\u586b\u5145\u3002 \u4f8b\uff1a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e},\u7f3a\u5c116\u4e2a\u5b57\u8282\uff0c\u5219\u53ef\u80fd\u8865\u5168\u4e3a{1\uff0c2\uff0c3\uff0c4\uff0c5\uff0ca,b,c,d,e,6,7,8,#,G,6} \u6ce8\u610f\uff1aAES\u52a0\u5bc6\u7684\u65f6\u5019\u7528\u4e86\u67d0\u79cd\u586b\u5145\u65b9\u5f0f\uff0c\u89e3\u5bc6\u65f6\u4e5f\u5fc5\u987b\u91c7\u7528\u540c\u6837\u7684\u89e3\u5bc6\u65b9\u5f0f\u3002 \u6a21\u5f0f AES\u7684\u5de5\u4f5c\u6a21\u5f0f\uff0c\u4f53\u73b0\u5728\u628a\u660e\u6587\u5757\u52a0\u5bc6\u6210\u5bc6\u6587\u5757\u7684\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0cAES\u52a0\u5bc6\u7b97\u6cd5\u63d0\u4f9b\u4e86\u4e94\u79cd\u4e0d\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\uff1aECB,CBC,CTR,CFB,OFB \u6a21\u5f0f\u4e4b\u95f4\u7684\u4e3b\u4f53\u601d\u60f3\u662f\u8fd1\u4f3c\u7684\uff0c\u5904\u7406\u7ec6\u8282\u4e0a\u6709\u4e9b\u5dee\u522b ECB\u6a21\u5f0f\uff08\u9ed8\u8ba4\uff09\u7535\u7801\u672c\u6a21\u5f0fElectronic CodeBook Book CBC \u5bc6\u7801\u5206\u7ec4\u94fe\u63a5\u6a21\u5f0fCipher Block Chaining CTR \u8ba1\u7b97\u5668\u6a21\u5f0f Counter CFB \u5bc6\u7801\u53cd\u9988\u6a21\u5f0f Cipher FeedBack OFB \u8f93\u51fa\u53cd\u9988\u6a21\u5f0f OutputFeedBack \u540c\u6837\u5728\u52a0\u5bc6\u7684\u65f6\u5019\u4f7f\u7528\u67d0\u79cd\u5de5\u4f5c\u6a21\u5f0f\uff0c\u89e3\u5bc6\u4e5f\u5fc5\u987b\u91c7\u7528\u76f8\u540c\u7684\u5de5\u4f5c\u6a21\u5f0f\u3002","title":"\u4e09\u4e2a\u57fa\u672c\u6982\u5ff5\uff08\u5bc6\u94a5\u3001\u586b\u5145\u3001\u6a21\u5f0f\uff09"},{"location":"things/algorithm/#java","text":"\u6ce8\u610f\uff1a\u8c03\u7528\u5c01\u88c5\u597d\u7684AES\u7b97\u6cd5\u65f6\uff0c\u8868\u9762\u4e0a\u4f7f\u7528\u7684key\u5e76\u4e0d\u662f\u771f\u6b63\u7528\u4e8eAES\u52a0\u89e3\u5bc6\u7684\u5bc6\u94a5\uff0c\u800c\u662f\u751f\u6210\u771f\u6b63\u5bc6\u94a5\u7684\u79cd\u5b50\u3002\u586b\u5145\u660e\u6587\u65f6\uff0c\u5982\u679c\u660e\u6587\u7684\u957f\u5ea6\u539f\u672c\u5c31\u662f16\u5b57\u8282\u7684\u6574\u6570\u500d\uff0c\u9664\u4e86Nopadding\u5916\uff0c\u5176\u5b83\u586b\u5145\u65b9\u5f0f\u90fd\u4f1a\u586b\u5145\u4e00\u7ec4\u989d\u5916\u768416\u5b57\u8282\u660e\u6587\u5757\u3002","title":"\u5728java\u4e2d\u7684\u5177\u4f53\u5b9e\u73b0"},{"location":"things/algorithm/#aes_1","text":"\u4e00\u4e2a\u5b57\u8282\u7531\u4e24\u4e2a\u5341\u516d\u8fdb\u5236\u4f4d\u8868\u793a\uff0c00~ff\u8868\u793a0~255,\u4e00\u4e2a\u5b57\u8282\u521a\u597d\u4e5f\u53ef\u8868\u793a0~255 AES\u52a0\u5bc6\u4e0d\u662f\u4e00\u6b21\u628a\u660e\u6587\u52a0\u5bc6\u6210\u5bc6\u6587\uff0c\u800c\u662f\u7ecf\u8fc7\u5f88\u591a\u8f6e\u7684\u52a0\u5bc6 \u5177\u4f53\u9700\u8981\u591a\u5c11\u8bba\uff1f\u300b \u521d\u59cb\u8f6e (Initial Round) 1\u6b21 \u666e\u901a\u8f6e (Rounds) n\u6b21 \u6700\u7ec8\u8f6e (Final Round) 1\u6b21 \u9664\u53bb\u521d\u59cb\u8f6e\uff0c\u5404\u79cdKey\u957f\u5ea6\u5bf9\u5e94\u7684\u8f6e\u6570\u5982\u4e0b\uff1a AES128\uff1a10\u8f6e AES192\uff1a12\u8f6e AES256\uff1a14\u8f6e \u4e0d\u540c\u9636\u6bb5\u7684Round\u6709\u4e0d\u540c\u7684\u5904\u7406\u6b65\u9aa4\u3002 \u521d\u59cb\u8f6e\u53ea\u6709\u4e00\u4e2a\u6b65\u9aa4\uff1a \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u666e\u901a\u8f6e\u6709\u56db\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u5217\u6df7\u6dc6\uff08MixColumns\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09 \u6700\u7ec8\u8f6e\u6709\u4e09\u4e2a\u6b65\u9aa4\uff1a \u5b57\u8282\u4ee3\u66ff\uff08SubBytes\uff09 \u884c\u79fb\u4f4d\uff08ShiftRows\uff09 \u52a0\u8f6e\u5bc6\u94a5\uff08AddRoundKey\uff09","title":"AES\u7b97\u6cd5\u7684\u5e95\u5c42\u539f\u7406"},{"location":"things/algorithm/#subbyte","text":"\u5341\u516d\u5b57\u8282\u7684\u660e\u6587\u5757\u5728\u7b2c\u4e00\u4e2a\u5904\u7406\u6b65\u9aa4\u4e2d\u88ab\u6392\u5217\u6210\u4e00\u4e2a4x4\u7684\u4e8c\u4f4d\u6570\u7ec4\uff0c\u5b57\u8282\u66ff\u4ee3\u5c31\u662f\u628a\u660e\u6587\u5757\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u90fd\u66ff\u6362\u6210\u53e6\u5916\u4e00\u4e2a\u5b57\u8282 \u66ff\u4ee3\u7684\u4f9d\u636e\u662f\u901a\u8fc7\u4e00\u4e2aS\u76d2(subtitution Box)\u768416x16\u5927\u5c0f\u4e8c\u7ef4\u5e38\u91cf\u6570\u7ec4\u3002 \u4f8b\u5982\u660e\u6587\u5757a[2,2]=5B \u4e00\u4e2a\u5b57\u8282\u662f\u4e24\u4f4d\u5341\u516d\u8fdb\u5236\u4f4d\uff0c\u90a3\u4e48\u8f93\u51fa\u503cb[2,2]=S[5,11]","title":"\u5b57\u8282\u66ff\u4ee3 subByte"},{"location":"things/algorithm/#shiftrows","text":"\u5982\u56fe\uff1a \u7b2c\u4e00\u884c\u4e0d\u53d8 \u7b2c\u4e8c\u884c\u5faa\u73af\u5de6\u79fb\u4e00\u4e2a\u5b57\u8282 \u7b2c\u4e09\u884c\u5faa\u73af\u5de6\u79fb\u4e24\u4e2a\u5b57\u8282 \u7b2c\u56db\u884c\u5faa\u73af\u5de6\u79fb\u4e09\u4e2a\u5b57\u8282","title":"\u884c\u79fb\u4f4d shiftRows"},{"location":"things/algorithm/#mixcolumns","text":"\u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u5217\u8981\u548c\u4e00\u4e2a\u660e\u6587\u4fee\u8865\u77e9\u9635(fix matrix)\u7684\u4e8c\u4f4d\u5e38\u91cf\u6570\u7ec4\u505a\u77e9\u9635\u76f8\u4e58\uff0c\u5f97\u5230\u5bf9\u5e94\u7684\u8f93\u51fa\u5217","title":"\u5217\u6df7\u6dc6MixColumns"},{"location":"things/algorithm/#add-round-key","text":"128bit\u7684\u5bc6\u94a5\u540c\u6837\u88ab\u6392\u5217\u62104x4\u77e9\u9635 \u8f93\u5165\u6570\u7ec4\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282a[i,j]\u4e0e\u5bc6\u94a5\u5bf9\u5e94\u4f4d\u7f6e\u7684\u5b57\u8282k[i,j]\u5f02\u6216\u4e00\u6b21\u5c31\u751f\u6210\u4e86\u8f93\u51fa\u503cb[i,j] \u52a0\u5bc6\u6bcf\u4e00\u8f6e\u7528\u5230\u7684\u5bc6\u94a5\u662f\u4e0d\u540c\u7684 \u6269\u5c55\u5bc6\u94a5(KeyExpentions) AES\u6e90\u4ee3\u7801\u4e2d\u7528\u957f\u5ea6 4 * 4 *\uff0810+1\uff09 \u5b57\u8282\u7684\u6570\u7ec4W\u6765\u5b58\u50a8\u6240\u6709\u8f6e\u7684\u5bc6\u94a5\u3002W{0-15}\u7684\u503c\u7b49\u540c\u4e8e\u539f\u59cb\u5bc6\u94a5\u7684\u503c\uff0c\u7528\u4e8e\u4e3a\u521d\u59cb\u8f6e\u505a\u5904\u7406\u3002\u540e\u7eed\u6bcf\u4e00\u4e2a\u5143\u7d20W[i]\u90fd\u662f\u7531W[i-4]\u548cW[i-1]\u8ba1\u7b97\u800c\u6765\uff0c\u76f4\u5230\u6570\u7ec4W\u7684\u6240\u6709\u5143\u7d20\u90fd\u8d4b\u503c\u5b8c\u6210\u3002W\u6570\u7ec4\u5f53\u4e2d\uff0cW{0-15}\u7528\u4e8e\u521d\u59cb\u8f6e\u7684\u5904\u7406\uff0cW{16-31}\u7528\u4e8e\u7b2c1\u8f6e\u7684\u5904\u7406\uff0cW{32-47}\u7528\u4e8e\u7b2c2\u8f6e\u7684\u5904\u7406 ......\u4e00\u76f4\u5230W{160-175}\u7528\u4e8e\u6700\u7ec8\u8f6e\uff08\u7b2c10\u8f6e\uff09\u7684\u5904\u7406\u3002","title":"\u52a0 \u8bba\u5bc6\u94a5(add round key)"},{"location":"things/algorithm/#_8","text":"\u6240\u6709\u5de5\u4f5c\u6a21\u5f0f\u7684\u5dee\u522b\u90fd\u4f53\u73b0\u5728\u5b8f\u89c2\u4e0a\uff0c\u5373\u660e\u6587\u5757\u4e0e\u660e\u6587\u5757\u4e4b\u95f4\u7684\u5173\u8054\uff0cAES\u52a0\u5bc6\u5668\u7684\u5185\u90e8\u5904\u7406\u6d41\u7a0b\u90fd\u662f\u76f8\u540c\u7684\u3002 1. ECB\u6a21\u5f0f(electronoc CodeBook Book) \u6700\u7b80\u5355\u7684\u5de5\u4f5c\u6a21\u5f0f,\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u7684\u52a0\u5bc6\u5b8c\u5168\u72ec\u7acb\uff0c\u4e92\u4e0d\u5e72\u6d89\u3002 \u4f18\u70b9:1.\u7b80\u53552.\u6709\u5229\u4e8e\u5e76\u884c\u8ba1\u7b97 \u7f3a\u70b9\uff1a\u76f8\u540c\u7684\u660e\u6587\u5757\u7ecf\u8fc7\u52a0\u5bc6\u4f1a\u53d8\u6210\u76f8\u540c\u7684\u5bc6\u6587\u5757\uff0c\u5b89\u5168\u6027\u8f83\u5dee CBC (Cipher Block Chainning) \u5f15\u5165\u4e86\u521d\u59cb\u5411\u91cf\u7684\u6982\u5ff5(Initialization Vector)\u3002iv\u7684\u4f5c\u7528\u6709\u70b9\u50cfMD5\u7684\u52a0\u76d0\uff0c\u9632\u6b62\u540c\u6837\u7684\u660e\u6587\u5757\u52a0\u5bc6\u6210\u540c\u6837\u7684\u5bc6\u6587\u5757\u3002 CBC\u6a21\u5f0f\u5728\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u52a0\u5bc6\u524d\u4f1a\u8ba9\u660e\u6587\u5757\u548c\u4e00\u4e2a\u503c\u505a\u5f02\u6216\u64cd\u4f5c\uff0cIV\u4f5c\u4e3a\u521d\u59cb\u5316\u5411\u91cf\uff0c\u53ea\u53c2\u4e0e\u7b2c\u4e00\u4e2a\u660e\u6587\u5757\u7684\u5f02\u6216\uff0c\u540e\u7eed\u7684\u6bcf\u4e00\u4e2a\u660e\u6587\u5757\u548c\u524d\u4e00\u4e2a\u660e\u6587\u5757\u6240\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u505a\u5f02\u6216\uff0c\u8fd9\u6837\u76f8\u540c\u7684\u660e\u6587\u5757\uff0c\u52a0\u5bc6\u51fa\u7684\u5bc6\u6587\u5757\u663e\u7136\u662f\u4e0d\u4e00\u6837\u7684\u3002 \u4f18\u70b9\uff1a\u5b89\u5168\u6027\u66f4\u9ad8 \u7f3a\u70b9\uff1a1.\u65e0\u6cd5\u5e76\u884c\u8ba1\u7b97\uff0c\u6027\u80fd\u4e0a\u4e0d\u5982ECB2.\u5f15\u5165\u521d\u59cb\u5316\u5411\u91cfiv\u589e\u52a0\u590d\u6742\u5ea6","title":"\u4e0d\u540c\u5de5\u4f5c\u6a21\u5f0f\u5728\u52a0\u5bc6\u6d41\u7a0b\u4e2d\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f"},{"location":"things/algorithm/#md5","text":"\u53ef\u4ee5\u4ece\u4efb\u610f\u957f\u5ea6\u7684\u660e\u6587\u5b57\u7b26\u4e32\u751f\u6210128\u4f4d\u7684\u54c8\u5e0c\u503c","title":"MD5"},{"location":"things/algorithm/#_9","text":"1. \u6536\u96c6\u76f8\u5173\u4e1a\u52a1\u53c2\u6570\uff0c\u5728\u8fd9\u91cc\u65f6\u91d1\u989d\u548c\u76ee\u6807\u8d26\u6237\u3002 2. \u6309\u7167\u89c4\u5219\u628a\u53c2\u6570\u540d\u548c\u53c2\u6570\u503c\u62fc\u63a5\u6210\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u540c\u65f6\u628a\u7ed9\u5b9a\u7684\u5bc6\u94a5\u4e5f\u62fc\u63a5\u8d77\u6765\uff0c\u4e4b\u6240\u4ee5\u9700\u8981\u5bc6\u94a5\uff0c\u662f\u56e0\u4e3a\u653b\u51fb\u8005\u53ef\u80fd\u4e5f\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u3002amout=1_acount=1234_key=abcd 3. \u5229\u7528MD5\u7b97\u6cd5\uff0c\u4ece\u539f\u6587\u751f\u6210hash\u503c\uff0cMD5\u751f\u6210\u7684\u54c8\u5e0c\u503c\u662f128\u7684\u4e8c\u8fdb\u5236\uff0c\u4e5f\u5c31\u662f32\u4f4d\u7684\u5341\u516d\u8fdb\u5236 4. \u53d1\u9001\u7684\u65f6\u5019\u9664\u4e86\u628a\u57fa\u672c\u8bf7\u6c42\u53c2\u6570\u5e26\u4e0a\uff0c\u628asign:ADE876ISHDFAKHDJ\u4e5f\u5e26\u4e0a 5.\u7b2c\u4e09\u65b9\u652f\u4ed8\u5e73\u53f0\u5982\u4f55\u9a8c\u8bc1\u8bf7\u6c42\u7684\u7b7e\u540d\uff1f\u4e09\u6b65 * \u53cc\u65b9\u7ea6\u5b9a\u76f8\u540c\u7684\u5b57\u7b26\u4e32\u62fc\u63a5\u89c4\u5219\uff0c\u548c\u76f8\u540c\u7684\u5bc6\u94a5 * \u7b2c\u4e09\u65b9\u5e73\u53f0\u63a5\u6536\u5230\u8bf7\u6c42\u540e\uff0c\u6309\u7167\u62fc\u63a5\u89c4\u5219\u62fc\u63a5\u4e1a\u52a1\u53c2\u6570\u548c\u5bc6\u94a5\uff0c\u5229\u7528MD5\u7b97\u6cd5\u751f\u6210sign * \u751f\u6210\u7684sign\u548c\u8bf7\u6c42\u5e26\u8fc7\u53bb\u7684sign\u505a\u5bf9\u6bd4\uff0c\u5982\u679c\u4e24\u4e2a\u503c\u76f8\u540c\u5219\u7b7e\u540d\u65e0\u8bef\uff0c\u4e24\u4e2a\u503c\u4e0d\u540c\u5219\u4fe1\u606f\u505a\u4e86\u7be1\u6539 \u5bc6\u94a5\u672c\u8eab\u4e0d\u76f4\u63a5\u4f20\u8f93\uff0c\u53ea\u53c2\u4e0esign\u7684\u62fc\u63a5\uff0c\u5982\u679c\u574f\u4eba\u65e2\u77e5\u9053\u62fc\u63a5\u89c4\u5219\u53c8\u77e5\u9053\u5bc6\u94a5\uff0c\u53ea\u80fd\u901a\u8fc7\u4e1a\u52a1\u4e0a\u7684\u89c4\u5219\u6765\u9650\u5236\uff0c\u6bd4\u5982\u6700\u5927\u91d1\u989d\u7684\u9650\u5236","title":"\u9a8c\u7b7e\u8fc7\u7a0b"},{"location":"things/algorithm/#md5_1","text":"\u5206\u4e3a\u56db\u6b65\uff1a\u5904\u7406\u539f\u6587\uff0c\u8bbe\u7f6e\u521d\u59cb\u503c\uff0c\u5faa\u73af\u52a0\u5de5\uff0c\u62fc\u63a5\u7ed3\u679c 1. \u5904\u7406\u539f\u6587 \u9996\u5148\uff0c\u8ba1\u7b97\u539f\u6587\u7684\u957f\u5ea6(bit)\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\uff0c\u5982\u679c\u4e0d\u7b49\u4e8e448\uff0c\u5c31\u9700\u8981\u586b\u5145\u539f\u6587\u4f7f\u5f97\u539f\u6587\u5bf9512\u6c42\u4f59\u7684\u7ed3\u679c\u7b49\u4e8e448.\u586b\u5145\u65b9\u6cd5\u5c31\u662f\u7b2c\u4e00\u4f4d\u586b\u51451\uff0c\u5176\u4f59\u4f4d\u586b\u51450\uff0c\u586b\u5145\u5b8c\u540e\uff0c\u4fe1\u606f\u7684\u957f\u5ea6\u5c31\u662f512*N+448 \u4e4b\u540e\u7528\u5269\u4f59\u7684\u4f4d\u7f6e\uff08512-448=64\uff09\u8bb0\u5f55\u539f\u6587\u7684\u771f\u6b63\u957f\u5ea6\uff0c\u628a\u957f\u5ea6\u7684\u4e8c\u8fdb\u5236\u503c\u8865\u5728\u6700\u540e\u8fd9\u6837\u5904\u7406\u540e\u7684\u4fe1\u606f\u957f\u5ea6\u5c31\u662f512*\uff08N+1\uff09 \u8bbe\u7f6e\u521d\u59cb\u503c MD5\u7684\u54c8\u5e0c\u7ed3\u679c\u957f\u5ea6\u4e3a128\u4f4d\uff0c\u6309\u7167\u6bcf32\u4f4d\u4e00\u7ec4\u51714\u7ec4\uff0c4\u7ec4\u662f\u7531\u56db\u4e2a\u521d\u59cb\u5411\u91cf\u503cA,B,C,D\u7ecf\u8fc7\u4e0d\u65ad\u6f14\u53d8\u5f97\u5230\uff0cMD5\u7684\u5b98\u65b9\u5b9e\u8df5\u4e2dA,B,C,D\u7684\u521d\u59cb\u503c\u5982\u4e0b(\u5341\u516d\u8fdb\u5236)\uff1a A= 0x01234567 B= 0x89ABCDEF C= 0xFEDCBA98 D= 0x76543210 \u5faa\u73af\u52a0\u5de5 \u6700\u590d\u6742\u7684\u4e00\u6b65\uff0c\u4e0b\u56fe\u4ee3\u8868\u4e86\u5355\u6b21A,B,C,D\u6f14\u53d8\u7684\u6d41\u7a0b \u56fe\u4e2d\uff0cA\uff0cB\uff0cC\uff0cD\u5c31\u662f\u54c8\u5e0c\u503c\u7684\u56db\u4e2a\u5206\u7ec4\u3002\u6bcf\u4e00\u6b21\u5faa\u73af\u90fd\u4f1a\u8ba9\u65e7\u7684ABCD\u4ea7\u751f\u65b0\u7684ABCD\u3002\u4e00\u5171\u8fdb\u884c\u591a\u5c11\u6b21\u5faa\u73af\u5462\uff1f\u7531\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u51b3\u5b9a\u3002 \u5047\u8bbe\u5904\u7406\u540e\u7684\u539f\u6587\u957f\u5ea6\u662fM \u4e3b\u5faa\u73af\u6b21\u6570 = M / 512 \u6bcf\u4e2a\u4e3b\u5faa\u73af\u4e2d\u5305\u542b 512 / 32 * 4 = 64 \u6b21 \u5b50\u5faa\u73af\u3002 \u4e0a\u9762\u8fd9\u5f20\u56fe\u6240\u8868\u8fbe\u7684\u5c31\u662f\u5355\u6b21\u5b50\u5faa\u73af\u7684\u6d41\u7a0b\u3002 1.\u7eff\u8272F \u56fe\u4e2d\u7684\u7eff\u8272F\uff0c\u4ee3\u8868\u975e\u7ebf\u6027\u51fd\u6570\u3002\u5b98\u65b9MD5\u6240\u7528\u5230\u7684\u51fd\u6570\u6709\u56db\u79cd\uff1a F(X, Y, Z) =(X&Y) | ((~X) & Z) G(X, Y, Z) =(X&Z) | (Y & (~Z)) H(X, Y, Z) =X^Y^Z I(X, Y, Z)=Y^(X|(~Z)) \u5728\u4e3b\u5faa\u73af\u4e0b\u976264\u6b21\u5b50\u5faa\u73af\u4e2d\uff0cF\u3001G\u3001H\u3001I \u4ea4\u66ff\u4f7f\u7528\uff0c\u7b2c\u4e00\u4e2a16\u6b21\u4f7f\u7528F\uff0c\u7b2c\u4e8c\u4e2a16\u6b21\u4f7f\u7528G\uff0c\u7b2c\u4e09\u4e2a16\u6b21\u4f7f\u7528H\uff0c\u7b2c\u56db\u4e2a16\u6b21\u4f7f\u7528I\u3002 2.\u7ea2\u8272\u201c\u7530\u201d\u5b57 \u5f88\u7b80\u5355\uff0c\u7ea2\u8272\u7684\u7530\u5b57\u4ee3\u8868\u76f8\u52a0\u7684\u610f\u601d\u3002 3.Mi Mi\u662f\u7b2c\u4e00\u6b65\u5904\u7406\u540e\u7684\u539f\u6587\u3002\u5728\u7b2c\u4e00\u6b65\u4e2d\uff0c\u5904\u7406\u540e\u539f\u6587\u7684\u957f\u5ea6\u662f512\u7684\u6574\u6570\u500d\u3002\u628a\u539f\u6587\u7684\u6bcf512\u4f4d\u518d\u5206\u621016\u7b49\u4efd\uff0c\u547d\u540d\u4e3aM0~M15\uff0c\u6bcf\u4e00\u7b49\u4efd\u957f\u5ea632\u3002\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf16\u6b21\u5faa\u73af\uff0c\u90fd\u4f1a\u4ea4\u66ff\u7528\u5230M1~M16\u4e4b\u4e00\u3002 4.Ki \u4e00\u4e2a\u5e38\u91cf\uff0c\u572864\u6b21\u5b50\u5faa\u73af\u4e2d\uff0c\u6bcf\u4e00\u6b21\u7528\u5230\u7684\u5e38\u91cf\u90fd\u662f\u4e0d\u540c\u7684\u3002 5.\u9ec4\u8272\u7684<<<S \u5de6\u79fbS\u4f4d\uff0cS\u7684\u503c\u4e5f\u662f\u5e38\u91cf\u3002 \u201c\u6d41\u6c34\u7ebf\u201d\u7684\u6700\u540e\uff0c\u8ba9\u8ba1\u7b97\u7684\u7ed3\u679c\u548cB\u76f8\u52a0\uff0c\u53d6\u4ee3\u539f\u5148\u7684B\u3002\u65b0ABCD\u7684\u4ea7\u751f\u53ef\u4ee5\u5f52\u7eb3\u4e3a\uff1a \u65b0A = \u539fd \u65b0B = b+((a+F(b,c,d)+Mj+Ki)<<<s) \u65b0C = \u539fb \u65b0D = \u539fc","title":"MD5\u5e95\u5c42\u539f\u7406"},{"location":"things/algorithm/#base64","text":"","title":"Base64"},{"location":"things/algorithm/#_10","text":"","title":"\u6392\u5e8f"},{"location":"things/algorithm/#_11","text":"","title":"\u5192\u6ce1\u7b97\u6cd5\u548c\u4f18\u5316"},{"location":"things/cutline/","text":"\u5206\u5272\u7ebf\u4f7f\u7528\u4e09\u4e2a\u6216\u4ee5\u4e0a * \uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 - \u548c _ \uff0c\u4e0b\u9762\u4ec5\u4ee5 - \u4f5c\u4e3a\u793a\u4f8b --- \u6548\u679c","title":"Cutline"},{"location":"things/main/","text":"\u7531\u4e8e\u8bed\u6cd5\u4f17\u591a\uff0c\u56e0\u6b64\u5c06 \u5927\u90e8\u5206\u8bed\u6cd5 \u6c47\u603b\u5728\u4e0b\u9762\u8868\u683c\u91cc\uff0c\u4fbf\u4e8e\u4e00\u89c8\u3002 \u4f46\u8be5\u8868\u5e76\u672a\u6db5\u76d6\u5168\u90e8\u8bed\u6cd5(\u5982\u67d0\u4e9b\u7279\u6b8a\u7b26\u53f7) \uff0c\u56e0\u6b64\u8be6\u60c5\u8bf7\u7ffb\u770b\u8bed\u6cd5\u7684\u5177\u4f53\u7ae0\u8282\u3002 \u7b26\u53f7 \u7528\u9014 # \u6807\u9898 \u7a7a\u884c \u6bb5\u843d > \u5f15\u7528 [^sth] \u811a\u6ce8 !!! \u6ce8\u89e3 ??? \u6298\u53e0\u6ce8\u89e3 \\ \u8f6c\u4e49 * \u5217\u8868 + \u5217\u8868 - \u5217\u8868 *[x] \u4efb\u52a1\u5217\u8868 +[x] \u4efb\u52a1\u5217\u8868 -[x] \u4efb\u52a1\u5217\u8868 --- \u5206\u5272\u7ebf :shortname: emoji ` \u884c\u5185\u4ee3\u7801 ```\u8bed\u8a00 \u4ee3\u7801\u5757,\u5e26\u9ad8\u4eae TAB \u4ee3\u7801\u5757 #! \u4ee3\u7801\u9ad8\u4eae ::: \u4ee3\u7801\u9ad8\u4eae *sth* \u659c\u4f53 _sth_ \u659c\u4f53 **sth** \u7c97\u4f53 __sth__ \u7c97\u4f53 ***sth*** \u7c97\u659c\u4f53 ___sth___ \u7c97\u659c\u4f53 \\^sth\\^ \u4e0a\u6807 \\~sth\\~ \u4e0b\u6807 \\^\\^sth\\^\\^ \u6587\u5b57\u4e0b\u5212\u7ebf \\~\\~sth\\~\\~ \u6587\u5b57\u4e2d\u6a2a\u7ebf {++sth++} \u6587\u5b57\u4e0b\u5212\u7ebf,\u7eff\u8272\u80cc\u666f\u9ad8\u4eae {--sth--} \u6587\u5b57\u4e2d\u6a2a\u7ebf,\u7ea2\u8272\u80cc\u666f\u9ad8\u4eae {\\~\\~false\\~>true\\~\\~} \u6587\u5b57\u4e0b\u5212\u7ebf\u63a5\u6587\u5b57\u6a2a\u7ebf,\u7eff\u63a5\u7ea2\u80cc\u666f\u9ad8\u4eae {>>sth<<} \u8868\u793a\u6ce8\u89e3,\u7070\u8272\u80cc\u666f\u9ad8\u4eae \\=\\=sth\\=\\= \u9ec4\u8272\u80cc\u666f\u9ad8\u4eae {\\=\\=sth\\=\\=} \u9ec4\u8272\u80cc\u666f\u9ad8\u4eae \\$sth$ \u884c\u5185\u5f0f\u6570\u5b66\u516c\u5f0f \\(sth)\\ \u884c\u5185\u5f0f\u6570\u5b66\u516c\u5f0f \\$\\$...$$ \u533a\u5757\u5f0f\u6570\u5b66\u516c\u5f0f \\begin{}...\\end{} \u533a\u5757\u5f0f\u6570\u5b66\u516c\u5f0f [text](url \"title\") \u884c\u5185\u5f0f\u94fe\u63a5 [text][index],\u6587\u6863\u6700\u540e[index]: url \"title\" \u53c2\u8003\u5f0f\u94fe\u63a5 \u7b26\u5408\u8981\u6c42\u7684URL \u81ea\u52a8\u94fe\u63a5 ![alt](url \"title\") \u884c\u5185\u5f0f\u56fe\u7247 ![alt][index],\u6587\u6863\u6700\u540e[index]: url \"title\" \u53c2\u8003\u5f0f\u56fe\u7247","title":"Main"},{"location":"things/things/","text":"this is interesting things dadadada dididididi","title":"Things"},{"location":"things/things/#dadadada","text":"","title":"dadadada"},{"location":"things/things/#dididididi","text":"","title":"dididididi"}]}